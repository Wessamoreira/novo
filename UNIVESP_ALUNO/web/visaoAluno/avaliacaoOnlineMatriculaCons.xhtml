<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"  xmlns:p="http://primefaces.org/ui" xmlns:otm="http://java.sun.com/jsf/composite/otm">
<h:head>
</h:head>
<ui:composition template="/visaoAluno/template/visaoAluno.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Avaliação On-line"></h:outputText>
	</ui:define>
	<ui:define name="conteudo">
		<style type="text/css">
.rich-dtascroller-table {
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	border-radius: 5px;
}

.rich-datascr-button {
	border: none;
}

.rich-datascr-button-dsbld {
	background-color: transparent;
}

.panelUnidade {
	width: 100%;
	min-height: 50px;
	height: 100%;
	float: left;
	margin-top: 5px;
	border: 1px solid #b3b3b3;
	background-color: #FFFFFF;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px;
	border-radius: 3px;
	text-align: left;
}

.panelUnidadeImpar {
	width: 100%;
	min-height: 50px;
	height: 100%;
	float: left;
	margin-top: 5px;
	border: 1px solid gray;
	background-color: #F4F4F4;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px;
	border-radius: 3px;
	text-align: left;
}

.panelUnidadeImpar:hover {
	background-color: #FFFFFF;
	opacity: 1.5;
	border: 1px solid #b3b3b3;
}

.panelUnidade:hover {
	background-color: #F4F4F4;
	opacity: 1.5;
	border: 1px solid gray;
}

.tabForm {
	border-spacing: 0px;
	border-color: #fff;
	font: 12px arial;
	padding: 3px;
	border: 0px solid #fff;
	vertical-align: top;
}

.tituloCamposResultado {
	text-decoration: none;
	text-align: left;
	line-height: normal;
	font-family: "Lucida Grande", "Lucida Sans Unicode", Verdana, Arial,
		Helvetica, sans-serif;
	font-size: 12px;
	color: #424242;
}

.tituloCamposResultado:link {
	text-decoration: none;
	color: #424242;
}

.tituloCamposResultado:active {
	text-decoration: none;
	color: #666666;
}
</style>
		<h:form id="form">
			<h:outputScript name="highcharts.js" library="script/highcharts" />
			<h:outputScript name="exporting.js" library="script/highcharts/modules" />
			<h:commandLink action="#{AvaliacaoOnlineMatriculaControle.liberarBackingBeanMemoria}" id="idLiberarBackingBeanMemoria" style="display: none" />
			<h:panelGroup layout="block" styleClass="col-md-12 border rounded" rendered="#{empty AvaliacaoOnlineMatriculaControle.calendarioAtividadeMatriculaVOs}">
				<h:panelGroup layout="block" styleClass="col-md-1">
					<i class="fas fa-headset fs80 mb50 mt25" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-1">
					<i class="far fa-comment fs50" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-10">
					<h:outputText styleClass="float-left" value="''Ola! #{LoginControle.usuarioLogado.nome} não possui Avaliação On-line cadastradas !'' " style="font-family: emoji; font-size: 17px; font-weight: 600;" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup rendered="#{!empty AvaliacaoOnlineMatriculaControle.calendarioAtividadeMatriculaVOs}" id="panelGridForm">
				<h:panelGroup id="panelGridAvaliacao">
					<rich:list id="items" rowKeyVar="row" value="#{AvaliacaoOnlineMatriculaControle.calendarioAtividadeMatriculaVOs}" var="avaliacaoOnlineItens" style="width:100%;">
						<h:panelGroup layout="block" styleClass="row" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.avaliacaoOnlineNaoRealizada}">
							<h:panelGroup layout="block" styleClass="col-md-12 title m5" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'AGUARDANDO_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EM_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EXPIRADO'}">
								<h:outputText styleClass="field control-label tituloCampos" value="#{avaliacaoOnlineItens.descricao}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'AGUARDANDO_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EM_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EXPIRADO'}">
								<h:outputText value="Realização" styleClass="field control-label tituloCampos" />
								<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.dataInicio}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</h:inputText>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'AGUARDANDO_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EM_REALIZACAO' or avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EXPIRADO'}">
								<h:outputText value=" até " styleClass="field control-label tituloCampos" />
								<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.dataFim}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</h:inputText>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-4" rendered="#{avaliacaoOnlineItens.apresentarConteudoUnidadePaginaRecursoEducacional}">
								<h:outputText value="Avaliação da Unidade" styleClass="field control-label tituloCampos" />
								<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.unidadeConteudo.ordem}.#{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.pagina} - #{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.titulo} - #{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.titulo}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-4">
								<h:outputText value="Situação" styleClass="field control-label tituloCampos" />
								<h:inputText id="situacaoEnum" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum_Apresentar}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 text-center m10">
								<otm:commandButton id="iniciarAvaliacaoOnline" execute="@this" render="formInstrucoes" rendered="#{avaliacaoOnlineItens.isApresentarBotaoIniciarAvaliacaoOnline}" action="#{AvaliacaoOnlineMatriculaControle.iniciarInstrucoesAvaliacaoOnline}" accesskey="1" icon="fas fa-pencil-alt" styleClass="btn btn-default" oncomplete="#{rich:component('panelInstrucoes')}.show()" image="#{resource['/imagens/ead/iniciarAvaliacaoOnline.png']}" value="#{msg.msg_iniciarAvaliacaoOnline}" />
								<otm:commandButton id="continuarAvaliacaoOnline" render="form:panelGridMensagens" execute="@this" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum eq 'EM_REALIZACAO'}" action="#{AvaliacaoOnlineMatriculaControle.continuarAvaliacaoOnline}" accesskey="1" icon="fas fa-undo-alt" styleClass="btn btn-default ml5" image="#{resource['/imagens/ead/continuarAvaliacaoOnline.png']}" value="#{msg.msg_continuarAvaliacaoOnline}" />
							</h:panelGroup>
							<otm:spacer height="10px" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="#{row % 2 gt 0 ? 'panelUnidade' : 'panelUnidadeImpar'}" style="width:100%;height:90%;" rendered="#{!avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.avaliacaoOnlineNaoRealizada}">
							<h:panelGroup layout="block" style="width:100%;" rendered="#{!avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.isApresentarIniciarAvaliacaoOnline}">
								<h:panelGroup columns="1" style="float: left;">
									<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{avaliacaoOnlineItens.apresentarConteudoUnidadePaginaRecursoEducacional}">
										<h:outputText value="Avaliação da Unidade" styleClass="field control-label tituloCampos" />
										<h:inputText styleClass="form-control" value="#{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.unidadeConteudo.ordem}.#{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.pagina} - #{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.conteudoUnidadePagina.titulo} - #{avaliacaoOnlineItens.conteudoUnidadePaginaRecursoEducacionalVO.titulo}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 title text-center">
										<h:outputText styleClass="field control-label tituloCampos" value="#{avaliacaoOnlineItens.descricao}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-2">
										<h:outputText value="Liberação" styleClass="field control-label tituloCampos" />
										<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.dataInicio}">
											<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
										</h:inputText>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-2">
										<h:outputText value="Situação" styleClass="field control-label tituloCampos" />
										<h:inputText id="situacaoEnumAprovadoReprovado" styleClass="form-control camposSomenteLeitura" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.situacaoAvaliacaoOnlineMatriculaEnum_Apresentar}" readonly="true" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-2">
										<h:outputText value="Limite Realização" styleClass="field control-label tituloCampos" />
										<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.dataFim}">
											<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
										</h:inputText>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-2">
										<h:outputText value="Realização" styleClass="field control-label tituloCampos" />
										<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.dataTermino}">
											<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
										</h:inputText>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-1">
										<h:outputText value="Nota" styleClass="field control-label tituloCampos" />
										<h:inputText id="nota" styleClass="form-control camposSomenteLeitura" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.nota}" readonly="true" onkeydown="aceitarSomenteValorDecimal(this)">
											<f:converter converterId="FormatadorNumerico" />
										</h:inputText>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup columns="1" style="float: right;width: 100%;">
									<<p:dataTable> id="graficoAproveitamento2" width="100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.graficoAproveitamentoAvaliacaoVOs}" rowKeyVar="row" rendered="#{! empty avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.graficoAproveitamentoAvaliacaoVOs}" rows="10" var="graficoItem">
										<rich:column filterType="custom" filterExpression="#{graficoItem.geral}" style="text-align: center !important">
											<f:facet name="header">
												<h:outputText value="Por Disciplina" />
											</f:facet>
											<h:outputText id="assunto2" value="#{graficoItem.assunto}" style="margin-top: 10px;position: relative;" />
										</rich:column>
										<rich:column style="text-align: center !important;">
											<f:facet name="header">
												<h:outputText value="Nível" />
											</f:facet>
											<h:outputText id="descricao2" value="#{graficoItem.descricaoParametro}" style="#{graficoItem.cssNivelAproveitamento}" />
										</rich:column>
										<rich:column style="text-align: center !important;">
											<f:facet name="header">
												<h:outputText value="% Acertos" />
											</f:facet>
											<h:outputText id="grafico2" escape="false" value="#{graficoItem.graficoAproveitamento}" />
										</rich:column>
									</<p:dataTable>>
									<<p:dataTable> id="graficoAproveitamento" width="100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.graficoAproveitamentoAvaliacaoVOs}" rowKeyVar="row" rendered="#{avaliacaoOnlineItens.avaliacaoOnlineMatriculaVO.isApresentarMonitorConhecimentoPorAssunto}" rows="10" var="graficoItem">
										<rich:column filterType="custom" filterExpression="#{!graficoItem.geral}" style="text-align: center;width: 250px;">
											<f:facet name="header" style="text-align: center !important;">
												<h:outputText value="Por Assunto" />
											</f:facet>
											<h:outputText id="assunto" value="#{graficoItem.assunto}" style="margin-top: 18px;position: relative;display: inline-block;" />
										</rich:column>
										<rich:column style="text-align: center !important;">
											<f:facet name="header">
												<h:outputText value="Nível" />
											</f:facet>
											<h:outputText id="descricao" value="#{graficoItem.descricaoParametro}" style="#{graficoItem.cssNivelAproveitamento}" />
										</rich:column>
										<rich:column style="text-align: center !important;">
											<f:facet name="header">
												<h:outputText value="% Acertos" />
											</f:facet>
											<h:outputText id="grafico1" escape="false" value="#{graficoItem.graficoAproveitamento}" />
										</rich:column>
									</<p:dataTable>>
								</h:panelGroup>
							</h:panelGroup>
							<otm:spacer height="10px" />
							<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
								<otm:commandButton id="visualizarGabarito" execute="@this" render="form:panelGridMensagens" action="#{AvaliacaoOnlineMatriculaControle.visualizarGabarito}" accesskey="1" icon="#{msg_botoes.btn_icon_lupa_embutido}" styleClass="btn btn-default" value="Visualizar Gabarito" />
							</h:panelGroup>
							<otm:spacer height="10px" />
						</h:panelGroup>
					</rich:list>
					<h:outputText value="#{msg.msg_AvaliacaoOnline_nenhumaAvaliacaoOnlineDisponivel}" rendered="#{empty AvaliacaoOnlineMatriculaControle.calendarioAtividadeMatriculaVOs}" />
				</h:panelGroup>
				<otm:spacer height="10px" />
				<h:panelGroup id="panelGridMensagens" columns="1" width="100%" styleClass="tabMensagens">
					<otm:mensagem bean="#{AvaliacaoOnlineMatriculaControle}"></otm:mensagem>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
		<rich:popupPanel styleClass="modalMaximizado" id="panelInstrucoes" width="550" autosized="true" onshow="document.getElementById('formInstrucoes:valorConsultaProrrogar').focus();">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Instruções da Avaliação On-line" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['/imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkInstrucoes" />
					<rich:componentControl target="panelInstrucoes" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formInstrucoes">
				<h:panelGroup columns="1" columnClasses="colunaVerticalmenteCentralizada" width="100%">
					<h:outputText escape="false" value="Prezado(a) #{AvaliacaoOnlineMatriculaControle.visaoAlunoControle.pessoaVO.nome}, #{AvaliacaoOnlineMatriculaControle.avaliacaoOnlineMatriculaVO.configuracaoEADVO.instrucoesAvaliacaoOnline}" />
					<otm:spacer height="10" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center mt20">
					<h:outputText styleClass="field control-label tituloCampos fs18" value="Gostaria de iniciar a realização da Avaliação On-line?" />
				</h:panelGroup>
				<otm:spacer height="10" />
				<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
					<otm:commandButton id="sim" value="Sim" icon="#{msg_botoes.btn_icon_confirmar_embutido}" styleClass="btn btn-info" render="form, formInstrucoes, formInstrucoes:panelGridMensagens" action="#{AvaliacaoOnlineMatriculaControle.iniciarAvaliacaoOnline}" image="#{resource['/imagens/ead/sim.png']}" onclick="this.disabled = true" oncomplete="this.disabled = false" />
					<otm:spacer width="5" />
					<otm:commandButton id="nao" value="Não" icon="#{msg_botoes.btn_icon_cancelar_embutido}" styleClass="btn btn-danger" oncomplete="#{rich:component('panelInstrucoes')}.hide();" image="#{resource['/imagens/ead/nao.png']}" />
				</h:panelGroup>
				<h:panelGroup columns="1" width="100%" styleClass="tabMensagens" id="panelGridMensagens">
					<otm:mensagem bean="#{AvaliacaoOnlineMatriculaControle}"></otm:mensagem>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
