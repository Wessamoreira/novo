<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"  xmlns:p="http://primefaces.org/ui" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
</h:head>
<ui:composition template="/visaoAluno/template/visaoAluno.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Documentos Entregues" />
	</ui:define>

	<ui:define name="conteudo">
		<h:outputScript src="resource:///jquery.js" />
		<h:outputScript name="jquery.color.js" library="script/crop" />
		<h:outputScript name="jquery.Jcrop.js" library="script/crop" />
		<h:outputStylesheet name="jquery.Jcrop.css" library="script/crop" />
		<h:outputScript name="webcam.js" library="script/webcam" />
		<script>
			(function($) {
				clickUpload = function(idPanel) {
					var input = $(idPanel).find("input:file");
					$(input).click();
				};

				iniciarCropFrente = function() {
					$("#formImagemDocumentosEntregues\\:image").Jcrop({
						onSelect : showCoordsFrente,
						onChange : showCoordsFrente,
						bgColor : 'black',
						bgOpacity : .3,
					});
				};

				function showCoordsFrente(c) {
					var valorX = document
							.getElementById('formImagemDocumentosEntregues:x');
					valorX.value = c.x;
					var valorY = document
							.getElementById('formImagemDocumentosEntregues:y');
					valorY.value = c.y;
					var valorW = document
							.getElementById('formImagemDocumentosEntregues:w');
					valorW.value = c.w;
					var valorH = document
							.getElementById('formImagemDocumentosEntregues:h');
					valorH.value = c.h;
				}
				;

				iniciarCropVerso = function() {
					$("#formImagemVerso\\:imageVerso").Jcrop({
						onSelect : showCoordsVerso,
						onChange : showCoordsVerso,
						bgColor : 'black',
						bgOpacity : .3,
					});
				};

				function showCoordsVerso(c) {
					var valorX = document
							.getElementById('formImagemVerso:xVerso');
					valorX.value = c.x;
					var valorY = document
							.getElementById('formImagemVerso:yVerso');
					valorY.value = c.y;
					var valorW = document
							.getElementById('formImagemVerso:wVerso');
					valorW.value = c.w;
					var valorH = document
							.getElementById('formImagemVerso:hVerso');
					valorH.value = c.h;
				}
				;

			})(jQuery);
		</script>

		<h:form id="form">
			<h:panelGroup id="entregaDocumento" layout="block" styleClass="row">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="col-md-3 text-center">
						<otm2:panel name="panel1" renderedControl="false" styleClassHeader="bg-success p5 rounded-top" stylePanelHeader=" " styleClassFooter="dn" stylePanel="min-height: 90px; border: 1px solid #1cc88a !important;">
							<ui:define name="header">
								<h:outputText styleClass="tituloCamposResultado text-white" value="Entregue" />
							</ui:define>
							<ui:define name="body">
								<span style="color: green;" id="documentoEntregue" class="#{msg_botoes.btn_icon_selecionar_embutido} fa-w-2" />
							</ui:define>
						</otm2:panel>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-3 text-center">
						<otm2:panel name="panel2" renderedControl="false" styleClassHeader="bg-primary p5 rounded-top" stylePanelHeader=" " styleClassFooter="dn" stylePanel="min-height: 90px; border: 1px solid #4e73df !important;">
							<ui:define name="header">
								<h:outputText styleClass="tituloCamposResultado text-white" value="Pendente" />
							</ui:define>
							<ui:define name="body">
								<span id="documentoPendente" style="color: darkblue; margin-left: 15px" class="#{msg_botoes.btn_icon_aviso2} " />
							</ui:define>
						</otm2:panel>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-3 text-center">
						<otm2:panel name="panel3" renderedControl="false" styleClassHeader="bg-warning p5 rounded-top" stylePanelHeader=" " styleClassFooter="dn" stylePanel="min-height: 90px; border: 1px solid #f6c23e !important">
							<ui:define name="header">
								<h:outputText styleClass="tituloCamposResultado text-white" value="Pendente Aprovação" />
							</ui:define>
							<ui:define name="body">
								<span style="color: orange; margin-left: 15px" id="documentoPendenteAprovacao" class="#{msg_botoes.btn_icon_aviso_embutido} " />
							</ui:define>
						</otm2:panel>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-3 text-center">
						<otm2:panel name="panel4" renderedControl="false" styleClassHeader="bg-danger p5 rounded-top" stylePanelHeader=" " styleClassFooter="dn" stylePanel="min-height: 90px; border: 1px solid #e74a3b !important;">
							<ui:define name="header">
								<h:outputText styleClass="tituloCamposResultado text-white" value="Documento Rejeitado" />
							</ui:define>
							<ui:define name="body">
								<span style="color: red; margin-left: 15px" id="documentoRejeitado" class="#{msg_botoes.btn_icon_cancelar_embutido} " />
							</ui:define>
						</otm2:panel>
					</h:panelGroup>
				</h:panelGroup>
				<<p:dataTable> id="documetacaoMatriculaVO" style="margin-top: 15px" width="100%" headerClass="consulta" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento" value="#{VisaoAlunoControle.documetacaoMatriculaVOS}" var="documetacaoMatriculaItens" rendered="#{!empty VisaoAlunoControle.documetacaoMatriculaVOS}">
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_DocumetacaoMatricula_tipoDocumento}" />
						</f:facet>
						<h:outputText value="#{documetacaoMatriculaItens.tipoDeDocumentoVO.nome} - #{documetacaoMatriculaItens.ano}/#{documetacaoMatriculaItens.semestre}" rendered="#{documetacaoMatriculaItens.ano != '' and documetacaoMatriculaItens.semestre != ''}" />
						<h:outputText value="#{documetacaoMatriculaItens.tipoDeDocumentoVO.nome}" rendered="#{documetacaoMatriculaItens.ano == '' and documetacaoMatriculaItens.semestre == ''}" />
						<h:outputText value="#{documetacaoMatriculaItens.tipoDeDocumentoVO.nome} -  #{documetacaoMatriculaItens.ano}" rendered="#{documetacaoMatriculaItens.ano == '' and documetacaoMatriculaItens.semestre != ''}" />
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_DocumetacaoMatricula_dataEntrega}" />
						</f:facet>
						<h:outputText value="#{documetacaoMatriculaItens.dataEntrega}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_DocumetacaoMatricula_entregue}" />
						</f:facet>
						<h:panelGroup id="documentoEntregue2" rendered="#{documetacaoMatriculaItens.entregue}">
							<span style="color: green" class="#{msg_botoes.btn_icon_selecionar_embutido} iconePequeno" />
						</h:panelGroup>
						<rich:tooltip value="Entregue" target="documentoEntregue2" />
						<h:panelGroup id="documentoPendente2" rendered="#{!documetacaoMatriculaItens.entregue and !documetacaoMatriculaItens.arquivoAprovadoPeloDep and !documetacaoMatriculaItens.isPossuiArquivo and documetacaoMatriculaItens.dataNegarDocDep == null}">
							<span style="color: darkblue" class="#{msg_botoes.btn_icon_aviso2} iconePequeno" />
						</h:panelGroup>
						<rich:tooltip value="Documento Pendente" target="documentoPendente2" />
						<h:panelGroup id="documentoPendenteAprovacao2" rendered="#{!documetacaoMatriculaItens.entregue and !documetacaoMatriculaItens.arquivoAprovadoPeloDep and documetacaoMatriculaItens.isPossuiArquivo and documetacaoMatriculaItens.dataNegarDocDep == null}">
							<span style="color: orange" class="#{msg_botoes.btn_icon_aviso_embutido} iconePequeno" />
						</h:panelGroup>
						<rich:tooltip value="Documento Pendente de Aprovação" target="documentoPendenteAprovacao2" />
						<h:panelGroup id="documentoRejeitado2" rendered="#{!documetacaoMatriculaItens.entregue and documetacaoMatriculaItens.dataNegarDocDep != null}">
							<span style="color: red" class="#{msg_botoes.btn_icon_cancelar_embutido} iconePequeno" />
						</h:panelGroup>
						<rich:tooltip value="Documento Rejeitado" target="documentoRejeitado2" />
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_DocumetacaoMatricula_motivoIndeferimento}" />
						</f:facet>
						<h:outputText value="#{documetacaoMatriculaItens.justificativaNegacao}" />
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="Arquivo Frente" />
						</f:facet>
						<h:panelGroup>
							<h:panelGroup rendered="#{VisaoAlunoControle.permitirUploadAnexo}">
								<otm:commandIcon render="formUplod"  oncomplete="#{VisaoAlunoControle.oncompleteModal}"  rendered="#{!documetacaoMatriculaItens.entregue and documetacaoMatriculaItens.tipoDeDocumentoVO.permitirPostagemPortalAluno and !documetacaoMatriculaItens.isPossuiArquivoAssinado}" action="#{VisaoAlunoControle.selecionarObjetoDocumentacaoMatricula}" tooltip="Upload Documento" title="Upload Documento" icon="#{msg_botoes.btn_icon_upload} iconePequeno" />
							</h:panelGroup>
							<otm:commandIcon id="dwl" oncomplete="#{documetacaoMatriculaItens.arquivoVO.servidorArquivoOnline eq 'APACHE'} ? location.href='../DownloadSV' : abrirPopup('../DownloadSV', 'DownloadSV_#{documetacaoMatriculaItens.codigo}',950,595)" rendered="#{documetacaoMatriculaItens.isPossuiArquivo}" tooltip="Download Arquivo" icon="#{msg_botoes.btn_icon_download} iconePequeno" action="#{VisaoAlunoControle.realizarDownloadArquivo(documetacaoMatriculaItens.arquivoVO)}" />
							<otm:commandIcon id="previewFrente" oncomplete="#{rich:component('panelPreview')}.show();" render="formPreview" rendered="#{documetacaoMatriculaItens.isPossuiArquivo and (documetacaoMatriculaItens.arquivoVO.isPdF or documetacaoMatriculaItens.arquivoVO.isImagem)}" tooltip="Visualizar Arquivo" icon="#{msg_botoes.btn_icon_lupa} iconePequeno" action="#{VisaoAlunoControle.realizarVisualizacaoPreview(documetacaoMatriculaItens.arquivoVO)}" />
						</h:panelGroup>
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="Arquivo Verso" />
						</f:facet>
						<h:panelGroup>
							<h:panelGroup rendered="#{VisaoAlunoControle.permitirUploadAnexo}">
								<otm:commandIcon render="formUploadVerso" oncomplete="#{VisaoAlunoControle.oncompleteModal}"  rendered="#{!documetacaoMatriculaItens.entregue and documetacaoMatriculaItens.tipoDeDocumentoVO.permitirPostagemPortalAluno and documetacaoMatriculaItens.tipoDeDocumentoVO.documentoFrenteVerso and !documetacaoMatriculaItens.isPossuiArquivoAssinado and documetacaoMatriculaItens.isPossuiArquivo}" action="#{VisaoAlunoControle.selecionarObjetoDocumentacaoMatriculaVerso}" tooltip="Upload Documento Verso" icon="#{msg_botoes.btn_icon_upload} iconePequeno" />
							</h:panelGroup>
							<otm:commandIcon id="dwl2" oncomplete="#{documetacaoMatriculaItens.arquivoVOVerso.servidorArquivoOnline eq 'APACHE'} ? location.href='../DownloadSV' : abrirPopup('../DownloadSV', 'DownloadSV_#{documetacaoMatriculaItens.codigo}',950,595)" rendered="#{documetacaoMatriculaItens.isPossuiArquivoVerso and documetacaoMatriculaItens.tipoDeDocumentoVO.documentoFrenteVerso}" tooltip="Download Arquivo Verso" action="#{VisaoAlunoControle.realizarDownloadArquivo(documetacaoMatriculaItens.arquivoVOVerso)}" icon="#{msg_botoes.btn_icon_download} iconePequeno" />							
							<otm:commandIcon id="previewVerso" oncomplete="#{rich:component('panelPreview')}.show();" render="formPreview" rendered="#{documetacaoMatriculaItens.isPossuiArquivoVerso and (documetacaoMatriculaItens.arquivoVOVerso.isPdF or documetacaoMatriculaItens.arquivoVOVerso.isImagem)}" tooltip="Visualizar Arquivo" icon="#{msg_botoes.btn_icon_lupa} iconePequeno" action="#{VisaoAlunoControle.realizarVisualizacaoPreview(documetacaoMatriculaItens.arquivoVOVerso)}" />
						</h:panelGroup>
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="Arquivo Assinado/Ged" />
						</f:facet>
						<otm:commandIcon id="dwl5" oncomplete="#{documetacaoMatriculaItens.arquivoVOAssinado.servidorArquivoOnline eq 'APACHE'} ? location.href='../DownloadSV' : abrirPopup('../DownloadSV', 'DownloadSV_#{documetacaoMatriculaItens.codigo}',950,595)" title="Download Arquivo Assinado" styleClass="botoes" icon="#{msg_botoes.btn_icon_download} iconePequeno" action="#{DocumetacaoMatriculaControle.realizarDownloadArquivo(documetacaoMatriculaItens.arquivoVOAssinado)}" rendered="#{documetacaoMatriculaItens.isPossuiArquivoAssinado and documetacaoMatriculaItens.arquivoGED.codigo eq 0}" />						
						<otm:commandIcon id="previewAssinado" oncomplete="#{rich:component('panelPreview')}.show();" render="formPreview" rendered="#{documetacaoMatriculaItens.isPossuiArquivoAssinado and documetacaoMatriculaItens.arquivoGED.codigo eq 0 and (documetacaoMatriculaItens.arquivoVOAssinado.isPdF or documetacaoMatriculaItens.arquivoVOAssinado.isImagem)}" tooltip="Visualizar Arquivo" icon="#{msg_botoes.btn_icon_lupa} iconePequeno" action="#{VisaoAlunoControle.realizarVisualizacaoPreview(documetacaoMatriculaItens.arquivoVOAssinado)}" />
						<otm:commandIcon id="dwlGed" oncomplete="#{documetacaoMatriculaItens.arquivoGED.servidorArquivoOnline eq 'APACHE'} ? location.href='../../DownloadSV' : abrirPopup('../../DownloadSV', 'DownloadSV_#{documetacaoMatriculaItens.codigo}',950,595)" rendered="#{documetacaoMatriculaItens.arquivoGED.codigo ne 0}" icon="#{msg_botoes.btn_icon_download} iconePequeno" tooltip="Download Arquivo Assinado" action="#{VisaoAlunoControle.realizarDownloadArquivo(documetacaoMatriculaItens.arquivoGED)}" />
						<otm:commandIcon id="previewGed1" oncomplete="#{rich:component('panelPreview')}.show();" render="formPreview" rendered="#{documetacaoMatriculaItens.arquivoGED.codigo ne 0 and (documetacaoMatriculaItens.arquivoGED.isPdF or documetacaoMatriculaItens.arquivoGED.isImagem)}" tooltip="Visualizar Arquivo" icon="#{msg_botoes.btn_icon_lupa} iconePequeno" action="#{VisaoAlunoControle.realizarVisualizacaoPreview(documetacaoMatriculaItens.arquivoGED)}" />
					</rich:column>
					<rich:column style="text-align: center !important">
						<f:facet name="header">
							<h:outputText value="Opções" />
						</f:facet>
						<h:panelGroup rendered="#{VisaoAlunoControle.permitirUploadAnexo}">
								<otm:commandIcon render="form:documetacaoMatriculaVO" rendered="#{!documetacaoMatriculaItens.entregue and documetacaoMatriculaItens.tipoDeDocumentoVO.permitirPostagemPortalAluno and !documetacaoMatriculaItens.isPossuiArquivoAssinado and documetacaoMatriculaItens.isPossuiArquivo}" action="#{VisaoAlunoControle.removerDocumentacaoMatriculaFrente}" tooltip="Remover Arquivo" icon="#{msg_botoes.btn_icon_remover} iconePequeno" />
							</h:panelGroup>
					</rich:column>
				</<p:dataTable>>
				<h:panelGroup rendered="#{VisaoAlunoControle.permitirPostagemPortalAluno}">
					<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
						<otm:commandButton action="#{VisaoAlunoControle.gravarDocumentacaoMatricula}" value="#{msg_botoes.btn_gravar}" styleClass="btn btn-dark btn-gravar" title="Gravar" render="form" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGrid id="msg">
					<h:panelGroup layout="block" styleClass="row">
						<otm:mensagem bean="#{VisaoAlunoControle}" />
					</h:panelGroup>
				</h:panelGrid>
			</h:panelGroup>
		</h:form>

		<rich:popupPanel styleClass="modalMaximizado100" id="panelImagemDocumentosEntregues" onshow="iniciarCropFrente()" zindex="2000" shadowOpacity="false" width="850" height="650">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Disciplina_uploadArquivos}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formImagemDocumentosEntregues">
				<h:panelGroup id="panelArquivo">
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-12">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_DocumetacaoMatricula_tipoDocumento}" />
							<h:inputText id="tipoDocumento" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{VisaoAlunoControle.documetacaoMatriculaVO.tipoDeDocumentoVO.nome}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup id="arquivoUpload">
						<h:panelGroup id="arquivo" layout="block" styleClass="col-md-12">
							<h:panelGroup rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.isPossuiArquivo}">
								<h:panelGroup id="dadosImagem" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isImagem}">
									<h:panelGroup layout="block" styleClass="col-md-12 text-center mt10 mb10 pt10 pb5 border-bottom border-top">
										<otm:commandIcon icon="#{msg_botoes.btn_icon_recortar} iconePequeno" action="#{VisaoAlunoControle.recortarImagem}" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" tooltip="Recortar Imagem" />
										<otm:commandIcon action="#{VisaoAlunoControle.executarZoomIn}" tooltip="Aumentar Zoom" icon="#{msg_botoes.btn_icon_zoomPlus} iconePequeno" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" />
										<otm:commandIcon action="#{VisaoAlunoControle.executarZoomOut}" tooltip="Diminuir Zoom" icon="#{msg_botoes.btn_icon_zoomMinus} iconePequeno" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" />
										<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_esquerda} iconePequeno" action="#{VisaoAlunoControle.rotacionar90GrausParaEsquerda}" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" tooltip="Girar 90º para Esquerda" />
										<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_direita} iconePequeno" styleClass="botoes" action="#{VisaoAlunoControle.rotacionar90GrausParaDireita}" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" tooltip="Girar 90º para Direita" />
										<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_180} iconePequeno" styleClass="botoes" action="#{VisaoAlunoControle.rotacionar180Graus}" oncomplete="iniciarCropFrente()" render="formImagemDocumentosEntregues" tooltip="Girar 180º" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 text-center">
										<h:graphicImage id="image" url="#{VisaoAlunoControle.caminhoServidorDownloadDocumentacao}" />
									</h:panelGroup>
									<h:panelGroup style="display:none" layout="block">
										<h:panelGrid style="display:none" columns="6">
											<h:panelGroup>
												<h:outputText value="x" />
												<h:inputText size="4" id="x" value="#{VisaoAlunoControle.x}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="y" />
												<h:inputText size="4" id="y" value="#{VisaoAlunoControle.y}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="largura" />
												<h:inputText size="4" id="w" value="#{VisaoAlunoControle.largura}" />
											</h:panelGroup>
											<h:panelGroup>
												<h:outputText value="altura" />
												<h:inputText size="4" id="h" value="#{VisaoAlunoControle.altura}" />
											</h:panelGroup>
										</h:panelGrid>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 text-center mt20" />
								</h:panelGroup>
								<h:panelGroup id="dadosPDF" layout="block" style="width:100%" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isPdF and !empty VisaoAlunoControle.caminhoPDF}">
									<otm:pdfView id="pdfFrente" data="#{VisaoAlunoControle.caminhoPDF}" />
								</h:panelGroup>
								<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isWord}" url="#{resource['/imagens/iconeArquivo/wordGrande.png']}" />
								<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isExcel}" url="#{resource['/imagens/iconeArquivo/excelGrande.png']}" />
								<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isTxt}" url="#{resource['/imagens/iconeArquivo/txtGrande.png']}" />
								<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO.isOutros}" url="#{resource['/imagens/iconeArquivo/outrosGrande.png']}" />
							</h:panelGroup>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-100">
						<otm:commandButton id="dwl2" oncomplete="location.href='../DownloadSV'" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.isPossuiArquivo}" tooltip="Download Arquivo" icon="#{msg_botoes.btn_icon_download_embutido}" styleClass="btn btn-primary" value="Download" action="#{VisaoAlunoControle.realizarDownloadArquivo(VisaoAlunoControle.documetacaoMatriculaVO.arquivoVO)}" />
						<otm:commandButton style="margin-left: 5px" action="#{VisaoAlunoControle.adicionarArquivoDocumentacaoMatricula}" id="adicionarArquivoDocumentacaoMatricula" value="Confirmar" styleClass="btn btn-info mr5" oncomplete="#{rich:component('panelImagemDocumentosEntregues')}.hide();#{VisaoAlunoControle.abrirModalInclusaoArquivoVerso}" render="documetacaoMatriculaVO, tabMensagensAux" icon="#{msg_botoes.btn_icon_ok_embutido}" />
						<otm:commandButton id="cancelarUploadArquivo" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" title="#{msg_botoes.btn_cancelar}" value="#{msg_botoes.btn_cancelar}" action="#{VisaoAlunoControle.limparDocumentacaoMatriculaVO}" oncomplete="#{rich:component('panelImagemDocumentosEntregues')}.hide();" render="form" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row mn" id="tabMensagensAux">
						<otm:mensagem bean="#{VisaoAlunoControle}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelUpload" zindex="2000" onshow="clickUpload('#formUplod')" shadowOpacity="false">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Disciplina_uploadArquivos}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formUplod">
				<h:panelGroup id="panelArquivoUpload">
					<h:panelGroup id="arquivoUpload2" layout="block" styleClass="col-md-12">
						<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_UploadArquivos_escolherArquivo}" />
						<rich:fileUpload id="btnUpload" listHeight="40" listWidth="200" noDuplicate="true" fileUploadListener="#{VisaoAlunoControle.upLoadArquivo}" addLabel="Selecionar Arquivo" maxFilesQuantity="1" cancelEntryControlLabel="Cancelar" doneLabel="Pronto" sizeErrorLabel="Arquivo não Enviado. Tamanho Máximo Permitido 2 MB" progressLabel="Enviando" stopControlLabel="Parar" uploadControlLabel="Enviar" clearAllControlLabel="Limpar lista" transferErrorLabel="Falha de Transmissão" stopEntryControlLabel="Parar" immediateUpload="true" clearLabel="" ontyperejected="alert('Arquivo não Enviado. Formato inválido do arquivo.');">
							<a4j:ajax event="uploadcomplete" render="form, formImagemDocumentosEntregues, btnUpload" oncomplete="#{VisaoAlunoControle.oncompleteModal}" />
						</rich:fileUpload>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
						<otm:commandButton id="cancelarUploadArquivo2" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" title="#{msg_botoes.btn_cancelar}" value="#{msg_botoes.btn_cancelar}" action="#{VisaoAlunoControle.limparDocumentacaoMatriculaVO}" render="form" oncomplete="#{rich:component('panelUpload')}.hide();" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado100" id="panelImagemDocumentosEntreguesVerso" zindex="2000" onshow="iniciarCropVerso()" overlapEmbedObjects="true" shadowOpacity="false" width="850" height="650">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Disciplina_uploadArquivos} Verso" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formImagemVerso">
				<h:panelGroup layout="block" styleClass="row" id="panelArquivoVerso">
					<h:panelGroup layout="block" styleClass="col-md-12">
						<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_DocumetacaoMatricula_tipoDocumento}" />
						<h:inputText readonly="true" styleClass="form-control camposSomenteLeitura" value="#{VisaoAlunoControle.documetacaoMatriculaVO.tipoDeDocumentoVO.nome}" />
					</h:panelGroup>
					<h:panelGroup id="arquivoUploadVerso" layout="block" styleClass="row">
						<h:panelGroup rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.isPossuiArquivoVerso}">
							<h:panelGroup id="dadosImagemVerso" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isImagem}">
								<h:panelGroup layout="block" styleClass="col-md-12 text-center mt10 mb10">
									<otm:commandIcon icon="#{msg_botoes.btn_icon_recortar} iconePequeno" action="#{VisaoAlunoControle.recortarImagemVerso}" oncomplete="iniciarCropVerso()" render="formImagemVerso" tooltip="Recortar Imagem" />
									<otm:commandIcon action="#{VisaoAlunoControle.executarZoomInVerso}" tooltip="Aumentar Zoom" icon="#{msg_botoes.btn_icon_zoomPlus} iconePequeno" oncomplete="iniciarCropVerso()" render="formImagemVerso" />
									<otm:commandIcon action="#{VisaoAlunoControle.executarZoomOutVerso}" tooltip="Diminuir Zoom" icon="#{msg_botoes.btn_icon_zoomMinus} iconePequeno" oncomplete="iniciarCropVerso()" render="formImagemVerso" />
									<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_esquerda} iconePequeno" action="#{VisaoAlunoControle.rotacionar90GrausParaEsquerdaVerso}" oncomplete="iniciarCropVerso()" render="formImagemVerso" tooltip="Girar 90º para Esquerda" />
									<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_direita} iconePequeno" styleClass="botoes" action="#{VisaoAlunoControle.rotacionar90GrausParaDireitaVerso}" oncomplete="iniciarCropVerso()" render="formImagemVerso" tooltip="Girar 90º para Direita" />
									<otm:commandIcon icon="#{msg_botoes.btn_icon_girar_180} iconePequeno" styleClass="botoes" action="#{VisaoAlunoControle.rotacionar180GrausVerso}" oncomplete="iniciarCropVerso()" render="formImagemVerso" tooltip="Girar 180º" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:graphicImage id="imageVerso" url="#{VisaoAlunoControle.caminhoServidorDownloadDocumentacaoVerso}" />
								</h:panelGroup>
								<h:panelGroup style="display:none" layout="block">
									<h:panelGrid style="display:none" columns="6">
										<h:panelGroup>
											<h:outputText value="X" />
											<h:inputText size="4" id="xVerso" value="#{VisaoAlunoControle.xcropVerso}" />
										</h:panelGroup>
										<h:panelGroup>
											<h:outputText value="Y" />
											<h:inputText size="4" id="yVerso" value="#{VisaoAlunoControle.ycropVerso}" />
										</h:panelGroup>
										<h:panelGroup>
											<h:outputText value="largura" />
											<h:inputText size="4" id="wVerso" value="#{VisaoAlunoControle.larguraVerso}" />
										</h:panelGroup>
										<h:panelGroup>
											<h:outputText value="altura" />
											<h:inputText size="4" id="hVerso" value="#{VisaoAlunoControle.alturaVerso}" />
										</h:panelGroup>
									</h:panelGrid>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup id="dadosPDFVerso" layout="block" style="width:100%" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isPdF and !emptyVisaoAlunoControle.caminhoPDFVerso}">
								<otm:pdfView id="pdfVerso" data="#{VisaoAlunoControle.caminhoPDFVerso}" />
							</h:panelGroup>
							<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isWord}" url="#{resource['/imagens/iconeArquivo/wordGrande.png']}" />
							<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isExcel}" url="#{resource['/imagens/iconeArquivo/excelGrande.png']}" />
							<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isTxt}" url="#{resource['/imagens/iconeArquivo/txtGrande.png']}" />
							<h:graphicImage rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso.isOutros}" url="#{resource['/imagens/iconeArquivo/outrosGrande.png']}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-100">
						<otm:commandButton id="dwl12" oncomplete="location.href='../DownloadSV'" rendered="#{VisaoAlunoControle.documetacaoMatriculaVO.isPossuiArquivoVerso}" title="Download Arquivo" styleClass="btn btn-primary mr5" icon="#{msg_botoes.btn_icon_download_embutido}" value="Download" action="#{VisaoAlunoControle.realizarDownloadArquivo(VisaoAlunoControle.documetacaoMatriculaVO.arquivoVOVerso)}" />
						<otm:commandButton action="#{VisaoAlunoControle.adicionarArquivoDocumentacaoMatriculaVerso}" value="Confirmar" oncomplete="#{rich:component('panelImagemDocumentosEntreguesVerso')}.hide()" render="documetacaoMatriculaVO, tabMensagensAuxVerso" icon="#{msg_botoes.btn_icon_ok_embutido}" styleClass="btn btn-info mr5" />
						<otm:commandButton id="cancelarUploadArquivoVerso" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" title="#{msg_botoes.btn_cancelar}" value="#{msg_botoes.btn_cancelar}" action="#{VisaoAlunoControle.limparDocumentacaoMatriculaVerso}" oncomplete="#{rich:component('panelImagemDocumentosEntreguesVerso')}.hide();" render="form" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row mn" id="tabMensagensAuxVerso">
						<otm:mensagem bean="#{VisaoAlunoControle}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelUploadVerso" zindex="2000" onshow="clickUpload('#formUplodVerso')" overlapEmbedObjects="true" shadowOpacity="false" width="500" height="150">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Disciplina_uploadArquivos} Verso" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formUplodVerso">
				<h:panelGroup id="panelArquivoUploadVerso" layout="block" styleClass="row">
					<h:panelGroup id="arquivoUpload2Verso" layout="block" styleClass="col-md-12">
						<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_UploadArquivos_escolherArquivo}" />
						<rich:fileUpload id="btnUploadVerso" listHeight="40" style="width:200px;" listWidth="200" noDuplicate="true" fileUploadListener="#{VisaoAlunoControle.upLoadArquivoVerso}" addLabel="Selecionar Arquivo" maxFilesQuantity="1" cancelEntryControlLabel="Cancelar" doneLabel="Pronto" sizeErrorLabel="Arquivo não Enviado. Tamanho Máximo Permitido 2 MB" progressLabel="Enviando" stopControlLabel="Parar" uploadControlLabel="Enviar" clearAllControlLabel="Limpar lista" transferErrorLabel="Falha de Transmissão" stopEntryControlLabel="Parar" immediateUpload="true" clearLabel="" ontyperejected="alert('Arquivo não Enviado. Formato inválido do arquivo.');">
							<a4j:ajax event="uploadcomplete" render="formImagemVerso,formImagemVerso:dadosPDFVerso,btnUploadVerso, form" oncomplete="#{VisaoAlunoControle.oncompleteModal}" />
						</rich:fileUpload>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
						<otm:commandButton id="cancelarUploadArquivoVerso2" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" title="#{msg_botoes.btn_cancelar}" value="#{msg_botoes.btn_cancelar}" action="#{VisaoAlunoControle.limparDocumentacaoMatriculaVerso}" render="form" oncomplete="#{rich:component('panelUploadVerso')}.hide();" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMinimizado1" id="panelExcluir" shadowOpacity="true" width="220" height="120">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Excluir"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formExcluir">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="col-md-12 text-center">
						<h:outputText value="#{msg_aplic.prt_RenovarMatricula_confirmarExclusao}" styleClass="tituloCamposNegrito" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-30">
					<otm:commandButton styleClass="btn btn-info mr5" value="Sim" render="form:documetacaoMatriculaVO, form:panelGridMensagens" icon="#{msg_botoes.btn_icon_sim_embutido}" oncomplete="#{rich:component('panelExcluir')}.hide()" action="#{VisaoAlunoControle.removerArquivoDocumentacao}" alt="Excluir" />
					<otm:commandButton styleClass="btn btn-danger" value="Não" immediate="true" action="#{VisaoAlunoControle.cancelarExclusaoArquivoDocumentoEntregue}" render="form:documetacaoMatriculaVO, form:panelGridMensagens" oncomplete="#{rich:component('panelExcluir')}.hide()" icon="#{msg_botoes.btn_icon_nao_embutido}" alt="Não Excluir" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMinimizado1" id="panelIncluirArquivoVerso" zindex="2000" shadowOpacity="false" width="400" height="200">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_DocumetacaoMatricula_RealizarUploadArquivoVerso}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formIncluirArquivoVerso">
				<h:panelGroup id="panelArquivoIncluirVerso">
					<h:panelGroup layout="block" styleClass="col-md-12 text-center m5">
						<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_DocumetacaoMatricula_MensagemRealizarUploadArquivoVerso}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-30">
						<otm:commandButton id="incluirArquivoVerso" styleClass="btn btn-primary mr5" value="#{msg_botoes.btn_sim}" icon="#{msg_botoes.btn_icon_confirmar_embutido}" action="#{VisaoAlunoControle.selecionarDocumentacaoMatricula}" oncomplete="#{rich:component('panelIncluirArquivoVerso')}.hide();#{rich:component('panelUploadVerso')}.show();" render="formUplodVerso" />
						<otm:commandButton id="naoIncluirArquivoVerso" styleClass="btn btn-danger" value="#{msg_botoes.btn_nao}" icon="#{msg_botoes.btn_icon_cancelar_embutido}" oncomplete="#{rich:component('panelIncluirArquivoVerso')}.hide();" render="form" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		
		<rich:popupPanel styleClass="modalMaximizado100" id="panelPreview" zindex="2000" shadowOpacity="false" width="400" height="200">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText styleClass="tituloCampos" value="Visualizar Arquivo" />
				</h:panelGroup>
				
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkpanelPreview" />
					<rich:componentControl target="panelPreview" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formPreview">
				<h:panelGroup id="panelPreviewGeral" styleClass="row">
					<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{VisaoAlunoControle.caminhoPreviewTipoPdf}">
						<otm2:pdfView2 bean="#{VisaoAlunoControle}" height="calc(100vh - 100px)" data="#{VisaoAlunoControle.caminhoPreview}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{!VisaoAlunoControle.caminhoPreviewTipoPdf}">
						<h:graphicImage url="#{VisaoAlunoControle.caminhoPreview}" width="98%" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-100">
						<otm:commandButton id="fecharpanelPreview" title="#{msg_botoes.btn_fechar}" icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Fechar" styleClass="btn btn-info" oncomplete="#{rich:component('panelPreview')}.hide();" />						
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
