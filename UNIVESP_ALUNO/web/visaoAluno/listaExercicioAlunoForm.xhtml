<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"  xmlns:p="http://primefaces.org/ui" xmlns:otm="http://java.sun.com/jsf/composite/otm">
<h:head>
</h:head>
<ui:composition template="/visaoAluno/template/visaoAluno.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_ListaExercicio_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<!-- 		<ui:include src="./richPanelImagem.xhtml" /> -->
		<h:form id="form">
			<script type="text/javascript" charset="utf-8">
	(function($) {
					scrollTOREA = function(idElement) {	
						
						$('#content-wrapper').animate({							
							scrollTop: $(idElement).offset().top - $('#content-wrapper').offset().top + $('#content-wrapper').scrollTop() - 120			    
						},1000);
					};
	}(jQuery));
	</script>
			<h:commandLink action="#{ListaExercicioControle.liberarBackingBeanMemoria}" id="idLiberarBackingBeanMemoria" style="display: none" />
			<h:panelGroup id="panelGroupForm" layout="block" styleClass="row">
				<h:panelGroup id="dadosBasicos" layout="block" styleClass="col-md-12 pn">
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_ListaExercicio_descricao}" />
						<h:inputText readonly="true" styleClass="form-control camposSomenteLeitura" value="#{ListaExercicioControle.listaExercicioVO.descricao}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_ListaExercicio_disciplina}" />
						<h:inputText readonly="true" styleClass="form-control camposSomenteLeitura" value="#{ListaExercicioControle.listaExercicioVO.disciplina.nome}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row ml5 mt10" id="exercicios">
					<h:panelGroup style="width:100%" layout="block" styleClass="col-md-12" rendered="#{ListaExercicioControle.mostarGabarito}">
						<h:outputText styleClass="text-info fs16" value="Resultado: #{ListaExercicioControle.listaExercicioVO.numeroAcertos} Acertos (#{ListaExercicioControle.listaExercicioVO.porcentagemAcertos}) e #{ListaExercicioControle.listaExercicioVO.numeroErros} Erros (#{ListaExercicioControle.listaExercicioVO.porcentagemErros})" />
					</h:panelGroup>
					<a4j:repeat id="items" rowKeyVar="row" rendered="#{!empty ListaExercicioControle.listaExercicioVO.questaoListaExercicioVOs}" value="#{ListaExercicioControle.listaExercicioVO.questaoListaExercicioVOs}" var="questaoListaExercicioItem">
						<h:panelGroup layout="block" styleClass="row ml5 pl10 pr10 pt10 pb10 border-bottom bg-white rounded exercicio#{row}">
							<h:panelGroup layout="block" styleClass="row mb5 p10 bg-gray-100 rounded">
								<h:panelGroup layout="block" styleClass="mr5" style="float: left;width:10px;text-align:right">
									<h:panelGroup id="errou" rendered="#{ListaExercicioControle.mostarGabarito and questaoListaExercicioItem.questao.errouQuestao}">
										<span class="fas fa-thumbs-down text-danger"/>
									</h:panelGroup>
									<rich:tooltip value="Errou a Questão" target="errou" />
									<h:panelGroup id="acertou" rendered="#{ListaExercicioControle.mostarGabarito and questaoListaExercicioItem.questao.acertouQuestao}">
										<span class="fas fa-thumbs-up text-success"/>
									</h:panelGroup>
									<rich:tooltip value="Acertou a Questão" target="acertou" />
									<h:panelGroup id="questaoNaoRespondida" rendered="#{questaoListaExercicioItem.questao.questaoNaoRespondida}">
										<span class="fas fa-exclamation-triangle text-alert"/>
									</h:panelGroup>
									<rich:tooltip value="Questão NÃO Respondida" target="questaoNaoRespondida" />
								</h:panelGroup>
								<h:panelGroup layout="block" style="float:left;position:relative;top:-1px" styleClass="mr5">
									<h:outputText style="color: black;" value="#{questaoListaExercicioItem.ordemApresentacao}" />
								</h:panelGroup>
								<h:panelGroup id="editorFinish" layout="block" style="float: left;text-align:left;height:100%;width:calc(100% - 50px)">
									<h:outputText style="color: black;" escape="false" value="#{questaoListaExercicioItem.questao.enunciado}" />
								</h:panelGroup>
								<h:panelGroup layout="block" id="ajudaResposta" rendered="#{questaoListaExercicioItem.questao.isExisteAjuda}" style="float: left;width:10px;text-align:right">
									<otm:commandIcon tooltip="#{questaoListaExercicioItens.questao.ajuda}" id="help" icon="#{msg_botoes.btn_icon_help_embutido} iconePequeno text-info" />
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="row" id="subItems">
								<a4j:repeat value="#{questaoListaExercicioItem.questao.opcaoRespostaQuestaoVOs}" var="opcaoRespostaQuestaoItens">
									<h:panelGroup layout="block" styleClass="row pl10 mb5">
										<h:panelGroup layout="block" id="situacaoResposta" style="float:left;text-align:left;height:100%;margin-right:3px;" rendered="#{ListaExercicioControle.mostarGabarito and questaoListaExercicioItem.questao.errouQuestao or questaoListaExercicioItem.questao.questaoNaoRespondida}">
<!-- 											<otm:commandIcon rendered="#{!opcaoRespostaQuestaoItens.correta}" disabled="true" icon="fas fa-times text-danger " tooltip="Opção Incorreta" /> -->
<!-- 											<otm:spacer width="4px" rendered="#{!opcaoRespostaQuestaoItens.correta} }" /> -->
<!-- 											<otm:commandIcon rendered="#{opcaoRespostaQuestaoItens.correta and ListaExercicioControle.mostarGabarito}" icon="fas fa-check text-info" tooltip="Opção Correta" disabled="true" /> -->
<!-- 											<otm:commandIcon id="questaoNaoRespondida3" rendered="#{questaoListaExercicioItem.questao.questaoNaoRespondida}" disabled="true" icon="fas fa-exclamation-triangle text-alert" tooltip="Questão NÃO Respondida" /> -->
											<!-- 											<h:panelGroup rendered="#{questaoListaExercicioItem.questao.tipoQuestaoEnum eq 'UNICA_ESCOLHA'}" layout="block" styleClass="col-md-2"> -->
											<!-- 												<otm:commandButton rendered="#{opcaoRespostaQuestaoItens.correta}" styleClass="tituloCamposOpcaoRespostaQuestaoCorreta" style="padding-left:14px;font-style: italic;" value="correta" /> -->
											<!-- 											</h:panelGroup> -->
										</h:panelGroup>
										<h:panelGroup layout="block" style="float:left;">
											<h:outputText style="color: black;" styleClass="mr5" value="#{opcaoRespostaQuestaoItens.letraCorrespondente}" />
											<p:commandLink id="multimaEscolha" rendered="#{questaoListaExercicioItem.questao.tipoQuestaoEnum eq 'MULTIPLA_ESCOLHA'}" styleClass="mr5" disabled="#{ListaExercicioControle.mostarGabarito}" render="subItems" action="#{ListaExercicioControle.realizarVerificacaoQuestaoUnicaEscolha}">
												<h:panelGroup style="color: black;" styleClass="#{opcaoRespostaQuestaoItens.marcada ? 'fas fa-check-square fs14 ': 'far fa-square fs14   '}"></h:panelGroup>
											</p:commandLink>
											<p:commandLink id="unicaEscolha" rendered="#{questaoListaExercicioItem.questao.tipoQuestaoEnum eq 'UNICA_ESCOLHA'}" styleClass="mr5" disabled="#{ListaExercicioControle.mostarGabarito}" render="subItems" action="#{ListaExercicioControle.realizarVerificacaoQuestaoUnicaEscolha}">
												<h:panelGroup style="color: black;" styleClass="#{opcaoRespostaQuestaoItens.marcada ? 'fas fa-check-circle fs14  ': 'far fa-circle fs14  '}"></h:panelGroup>
											</p:commandLink>
										</h:panelGroup>
										<p:commandLink id="editorFinish" style="cursor:pointer;display:block;float:left;width:calc(100% - 60px);" disabled="#{ListaExercicioControle.mostarGabarito}" render="subItems" action="#{ListaExercicioControle.realizarVerificacaoQuestaoUnicaEscolha}">
											<h:outputText style="color: black;" escape="false" value="#{opcaoRespostaQuestaoItens.opcaoResposta}" />
										</p:commandLink>
									</h:panelGroup>
								</a4j:repeat>
							</h:panelGroup>
						</h:panelGroup>
					</a4j:repeat>
					<h:panelGroup styleClass="row border-top mt5" layout="block" rendered="#{ListaExercicioControle.mostarGabarito and questaoListaExercicioItem.questao.isExisteJustificativa}">
						<h:outputText styleClass="text-info font-bold col-md-12" value="#{msg_aplic.prt_Questao_justificativa}:" />
						<h:outputText styleClass="col-md-12 text-info" value="#{questaoListaExercicioItem.questao.justificativa}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
						<otm:commandButton id="btnCorrigirExercicio" oncomplete="#{ListaExercicioControle.listaExercicioVO.descricaoBloqueio}" icon="#{msg_botoes.btn_icon_corrigir_embutido}" styleClass="btn btn-primary" action="#{ListaExercicioControle.realizarCorrecaoExercicio}" value="Corrigir Exercícios" rendered="#{!ListaExercicioControle.mostarGabarito}" render="exercicios,dadosBasicos, btns, panelGridMensagens" />
						<p:commandLink styleClass="btn btn-primary" value="Voltar a Lista de exercícios" rendered="#{ListaExercicioControle.mostarGabarito}" render="exercicios, dadosBasicos, btns">
							<span class="fas fa-arrow-left pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
							<f:setPropertyActionListener value="false" target="#{ListaExercicioControle.mostarGabarito}" />
						</p:commandLink>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup id="panelGridMensagens" layout="block" styleClass="row">
					<otm:mensagem bean="#{ListaExercicioControle}"></otm:mensagem>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>
