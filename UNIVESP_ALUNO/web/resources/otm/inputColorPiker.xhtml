<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui"  xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:composite="http://java.sun.com/jsf/composite"  xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<composite:interface>
	<composite:attribute name="id" required="true" type="java.lang.String" />
	<composite:attribute name="value" required="true" type="java.lang.String" />
	<composite:attribute name="gradiente" default="false" type="java.lang.Boolean" />
	<composite:attribute name="disabled" default="200" type="java.lang.Integer" />
	<composite:attribute name="update" default="" type="java.lang.String" />	
	<composite:attribute name="readonly" default="false" type="java.lang.Boolean" />
	<composite:attribute name="rendered" default="true" type="java.lang.Boolean" />
	<composite:attribute name="styleClass" default="form-control" type="java.lang.String" />
	<composite:attribute name="stylePiker" default="#{cc.attrs.id}_piker" type="java.lang.String" />
	<composite:attribute name="style" type="java.lang.String" />
	<composite:attribute name="jsFunction" default="" type="java.lang.String" />
	<composite:actionSource name="actionEvent" targets="#{cc.namingContainer.clientId}:#{cc.attrs.id}"></composite:actionSource>
	<composite:attribute name="jscript" default="#{cc.attrs.gradiente} ?  iniciarColorPikerGradiente('#{cc.attrs.id}', '#{cc.attrs.id}') : iniciarColorPiker('.#{cc.attrs.stylePiker}')" type="java.lang.String" />
</composite:interface>

<composite:implementation>
	<script type="text/javascript">
			(function($) {				
			    $(document).ready(function() {			    				    	
			    	#{cc.attrs.jscript};
			    	definirBackgroundColor('#{cc.attrs.id}')
			    });		
			    
			    
			   
		})(jQuery);
	</script>

	<h:inputText styleClass="#{!cc.attrs.gradiente ? cc.attrs.stylePiker : ''} #{cc.attrs.styleClass}" onchange="definirBackgroundColor('#{cc.attrs.id}')"  
	id="#{cc.attrs.id}" value="#{cc.attrs.value}">
		<p:ajax event="change" update="#{cc.attrs.update}" oncomplete="#{cc.attrs.jsFunction}" status="pikerStatus"></p:ajax>
	</h:inputText>
	<p:overlayPanel id="#{cc.attrs.id}_tooltip" for="#{cc.attrs.id}:#{cc.attrs.id}"  rendered="#{cc.attrs.gradiente}" onHide="iniciarPiker();#{cc.attrs.jsFunction}" >
		<h:outputText styleClass="tituloCampos btn-block" value="Clique sobre a área abaixo para inserir uma nova cor." />
		<h:outputText styleClass="tituloCampos btn-block" value="Clique na bolinha da cor para alterar a cor." />
		<h:outputText styleClass="tituloCampos btn-block" value="Clique e arraste a barra da cor para definir a área do gradiente." />
		<div id="#{cc.attrs.id}_gradiente" style="border: 1px solid #cecece;margin-bottom: 2px;border-radius: 1px;"></div>
		<div class="inputs">
			<select class="form-control" id="#{cc.attrs.id}_type">
				<option value="">- Select Tipo -</option>
				<option value="radial">Radial</option>
				<option value="linear">Linear</option>
				<option value="repeating-radial">Repeating Radial</option>
				<option value="repeating-linear">Repeating Linear</option>
			</select> <select class="form-control" id="#{cc.attrs.id}_angle">
				<option value="">- Select Direção -</option>
				<option value="top">Top</option>
				<option value="right">Right</option>
				<option value="center">Center</option>
				<option value="bottom">Bottom</option>
				<option value="left">Left</option>
			</select>
		</div>
	</p:overlayPanel>
<!-- 	<otm:tooltip id="#{cc.attrs.id}_tooltip" at="bottom center" my="bottom center" direction="bottom" onhide="iniciarPiker();#{cc.attrs.jsFunction}" update="#{cc.attrs.id};#{cc.attrs.update}" rendered="#{cc.attrs.gradiente}" target="#{cc.namingContainer.clientId}:#{cc.attrs.id}" followMouse="false"  style="z-index:10000;top:30px">		 -->
<!-- 	</otm:tooltip> -->
</composite:implementation>
</html>
