<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
   xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br" xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
	<composite:attribute name="id" default="preferencia" />
</composite:interface>

<composite:implementation>
	<h:panelGroup style="float:right;height: 50px;" rendered="#{!LoginControle.appMovel}">
		<p:hotkey bind="alt+1" id="clickbtnIconPreferencia" update="testeFonte" onsuccess="PF('panelPreferenciaSistemaUsuario').show()"></p:hotkey>
		<p:commandLink oncomplete="PF('panelPreferenciaSistemaUsuario').show()" id="btnIconPreferencia" styleClass="nav-link-icon mt10 icon-focus fonteTopo iconePreferencia" style="text-decoration: none;" update="testeFonte">
			<p:tooltip value="Alteração de Preferências do Sistema (alt+1)" />
			<i class="fas fa-cogs" style="font-size: 1.0rem" />
		</p:commandLink>

		<p:dialog hideEffect="fade" closeOnEscape="true" modal="false" showEffect="fade" header="Preferências de Usuário" id="panelPreferenciaSistemaUsuario" widgetVar="panelPreferenciaSistemaUsuario" styleClass="#{LoginControle.usuarioLogado.isApresentarVisaoAdministrativa ? 'modalMaximizado100' : 'modalMaximizado50'}" >
			<h:panelGroup layout="block" id="testeFonte" styleClass="row"  >
				<style>
.tituloCamposTeste {
 	font-size: #{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.tamanhoFonte> 0? LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.tamanhoFonte: 13}px !important; 
}
.panelSkyn {
	height: 24px;
	display: inline-block;
	width: 24px;
}

.skinFocus {
	display: block;
	height: 45px;
	width: 100%;
	padding: 5px;
	margin-top: 2px;
}

.skinFocus:focus {
	border: 1px solid #bac8f3 !important;
	outline: 0 !important;
	box-shadow: 0 0 0 0.2rem rgba(78, 115, 223, .25) !important;
	border-radius: 5px;
}
</style>

				<h:panelGroup layout="block" styleClass="col-md-12 mt10" id="panelTamanhoFonte">
					<h:outputText styleClass="title tituloCamposTeste" value="Tamanho da Fonte">

					</h:outputText>
					<h:panelGroup layout="block" styleClass="row">
						<p:remoteCommand id="atualizarFonte" name="atualizarFonte" update="testeFonte" process="@form" global="false" async="true"></p:remoteCommand>
						<h:panelGroup layout="block" styleClass="col-md-12">
							<p:spinner id="tamanhoLabeltm" label="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.tamanhoFonte}" styleClass="col-md-12 text-left" maxlength="2" max="20" min="10" value="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.tamanhoFonte}"/>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-12">
							<p:slider for="tamanhoLabeltm" step="1" onSlideEnd="atualizarFonte()" id="tamanhoLabel" maxValue="20" minValue="10" >

							</p:slider>
							<p:hotkey bind="alt+up" action="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.incrementarFonte}" update="panelTamanhoFonte" onsuccess="atualizarFonte();"></p:hotkey>
							<p:hotkey bind="alt+down" action="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.decrementarFonte}" update="panelTamanhoFonte" onsuccess="atualizarFonte();"></p:hotkey>
							<h:outputText styleClass="fs8 float-left" value="Use tecla down"></h:outputText>
							<h:outputText styleClass="fs8 float-right" value="Use tecla up"></h:outputText>
						</h:panelGroup>

					</h:panelGroup>


				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{fn:length(LoginControle.configuracaoAparenciaSistemaVOs) > 1}" styleClass="col-md-12 mt10" id="panelSkyn">
					<h:outputText styleClass="title tituloCamposTeste" value="Escolha Abaixo os Temas Disponíveis">

					</h:outputText>
					<ui:repeat id="repeatSkyn" value="#{LoginControle.configuracaoAparenciaSistemaVOs}" var="configuracaoAparenciaSistemaItem" varStatus="row">
						<p:commandLink id="skyn" update="#{cc.attrs.id}:panelSkyn" process="@this" styleClass="skinFocus" oncomplete="focus('#{cc.attrs.id}:repeatSkyn:#{row}:skyn')" onkeydown="acionarBotaoPelaTeclaEnter(event, '#{cc.attrs.id}:repeatSkyn:#{row}:skyn');">
							<f:setPropertyActionListener value="#{configuracaoAparenciaSistemaItem.codigo}" target="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.configuracaoAparenciaSistemaVO.codigo}"></f:setPropertyActionListener>
							<h:panelGroup layout="block" styleClass="col-md-12 pt5 #{configuracaoAparenciaSistemaItem.codigo eq LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.configuracaoAparenciaSistemaVO.codigo ? 'border border-success' : 'border'} rounded">
								<h:panelGroup layout="block" styleClass="panelSkyn rounded" style="#{configuracaoAparenciaSistemaItem.cssBackMenuSkyn}">

								</h:panelGroup>
								<h:outputText style="position:relative; top:-5px" styleClass="#{configuracaoAparenciaSistemaItem.codigo eq LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.configuracaoAparenciaSistemaVO.codigo ? 'text-success' : 'tituloCampos'} ml5" value="#{!empty configuracaoAparenciaSistemaItem.nome ? configuracaoAparenciaSistemaItem.nome : 'Padrão Sistema'}"></h:outputText>
							</h:panelGroup>
						</p:commandLink>
					</ui:repeat>


				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{LoginControle.usuarioLogado.isApresentarVisaoAdministrativa}" styleClass="col-md-12 mt10 border rounded" >

				<h:panelGroup layout="block" styleClass="col-md-6" >
					<h:outputText styleClass="tituloCampos tituloCamposTeste col-md-12 pn" value="Apresentar Popup Novidade"/>
					<otm:selectBooleanCheckbox id="apresentarNovidade" value="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.apresentarNovidade}"></otm:selectBooleanCheckbox>
				</h:panelGroup>
				</h:panelGroup>

				<h:panelGroup layout="block" rendered="#{LoginControle.usuarioLogado.isApresentarVisaoAdministrativa and !LoginControle.appMovel}" styleClass="row pt10 pl5 pr5 pb50" style="display:flex !important" id="ordemMenu">
					<h:outputText styleClass="title tituloCamposTeste" value="Clique e Arraste os Módulos para Alterar a Ordem de Apresentação no Menu">

					</h:outputText>
						<p:droppable id="ACADEMICO_DROP" for="ACADEMICO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="ACADEMICO_DRAG" for="ACADEMICO" revert="true"  >
						</p:draggable>
						<p:droppable id="ADMINISTRATIVO_DROP" for="ADMINISTRATIVO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="ADMINISTRATIVO_DRAG" for="ADMINISTRATIVO" revert="true" >
						</p:draggable>
						<p:droppable id="AVALIACAO_INSTITUCIONAL_DROP" for="AVALIACAO_INSTITUCIONAL" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="AVALIACAO_INSTITUCIONAL_DRAG" for="AVALIACAO_INSTITUCIONAL" revert="true" >
						</p:draggable>
						<p:droppable id="BIBLIOTECA_DROP" for="BIBLIOTECA" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="BIBLIOTECA_DRAG" for="BIBLIOTECA" revert="true" >
						</p:draggable>
						<p:droppable id="COMPRAS_DROP" for="COMPRAS" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="COMPRAS_DRAG" for="COMPRAS" revert="true" >
						</p:draggable>
						<p:droppable id="CRM_DROP" for="CRM" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="CRM_DRAG" for="CRM" revert="true" >
						</p:draggable>
						<p:droppable id="EAD_DROP" for="EAD" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="EAD_DRAG" for="EAD" revert="true" >
						</p:draggable>
						<p:droppable id="ESTAGIO_DROP" for="ESTAGIO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="ESTAGIO_DRAG" for="ESTAGIO" revert="true" >
						</p:draggable>
						<p:droppable id="FINANCEIRO_DROP" for="FINANCEIRO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="FINANCEIRO_DRAG" for="FINANCEIRO" revert="true" >
						</p:draggable>
						<p:droppable id="NOTA_FISCAL_DROP" for="NOTA_FISCAL" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="NOTA_FISCAL_DRAG" for="NOTA_FISCAL" revert="true" >
						</p:draggable>
						<p:droppable id="PATRIMONIO_DROP" for="PATRIMONIO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="PATRIMONIO_DRAG" for="PATRIMONIO" revert="true" >
						</p:draggable>
						<p:droppable id="PLANO_ORCAMENTARIO_DROP" for="PLANO_ORCAMENTARIO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="PLANO_ORCAMENTARIO_DRAG" for="PLANO_ORCAMENTARIO" revert="true" >
						</p:draggable>
						<p:droppable id="PROCESSO_SELETIVO_DROP" for="PROCESSO_SELETIVO" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="PROCESSO_SELETIVO_DRAG" for="PROCESSO_SELETIVO" revert="true" >
						</p:draggable>
						
						<p:droppable id="SEI_DECIDIR_DROP" for="SEI_DECIDIR" tolerance="pointer" >
							<p:ajax listener="#{LoginControle.registrarPosicaoMenu}" update="ordemMenu"></p:ajax>
						</p:droppable>
						<p:draggable id="SEI_DECIDIR_DRAG" for="SEI_DECIDIR" revert="true" >
						</p:draggable>
					<h:panelGroup id="ACADEMICO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoAcademico and AplicacaoControle.cliente.permitirAcessoModuloAcademico}" style="order:#{LoginControle.mapOrdemMenu.get('ACADEMICO')}">						
							<i class="fas fa-university tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">ACADÊMICO</span>						
					</h:panelGroup>
					<h:panelGroup id="ADMINISTRATIVO" layout="block" styleClass="col-md-2  mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('ADMINISTRATIVO')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoAdministrativo and AplicacaoControle.cliente.permitirAcessoModuloAdministrativo}">						
							<i class="fas fa-users-cog tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">ADMINISTRATIVO</span>						
					</h:panelGroup>
					<h:panelGroup id="AVALIACAO_INSTITUCIONAL" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('AVALIACAO_INSTITUCIONAL')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoAvaliacaoInsitucional and AplicacaoControle.cliente.permitirAcessoModuloAvaliacaoInstitucional}">
							<i class="fas fa-file-invoice tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">AVALIAÇÃO INSTITUCIONAL</span>						
					</h:panelGroup>
					<h:panelGroup id="BIBLIOTECA" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('BIBLIOTECA')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoBiblioteca and AplicacaoControle.cliente.permitirAcessoModuloBiblioteca}">
							<i class="fas fa-atlas tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">BIBLIOTECA</span>						
					</h:panelGroup>
					<h:panelGroup id="COMPRAS" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('COMPRAS')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoCompras and AplicacaoControle.cliente.permitirAcessoModuloCompras}">
							<i class="fas fa-cart-plus tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">COMPRA</span>
					</h:panelGroup>
					<h:panelGroup id="CRM" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('CRM')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoCRM and AplicacaoControle.cliente.permitirAcessoModuloCrm}">
							<i class="fas fa-headset tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center ">CRM</span>
					</h:panelGroup>
					<h:panelGroup id="EAD" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('EAD')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoEAD and AplicacaoControle.cliente.permitirAcessoModuloEad}">
							<i class="fas fa-globe tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">EAD</span>
					</h:panelGroup>
					<h:panelGroup id="ESTAGIO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('ESTAGIO')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoEstagio and AplicacaoControle.cliente.permitirAcessoModuloEstagio}">
							<i class="fas fa-id-badge tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">ESTÁGIO</span>
					</h:panelGroup>
					<h:panelGroup id="FINANCEIRO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('FINANCEIRO')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoFinanceiro and AplicacaoControle.cliente.permitirAcessoModuloFinanceiro}">
							<i class="fas fa-money-check-alt tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">FINANCEIRO</span>
					</h:panelGroup>
					<h:panelGroup id="NOTA_FISCAL" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('NOTA_FISCAL')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoNotaFiscal and AplicacaoControle.cliente.permitirAcessoModuloNotaFiscal}">
							<i class="fas fa-receipt tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">NOTA FISCAL</span>
					</h:panelGroup>
					<h:panelGroup id="PATRIMONIO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoPatrimonio and AplicacaoControle.cliente.permitirAcessoModuloPatrimonio}" style="order:#{LoginControle.mapOrdemMenu.get('PATRIMONIO')}">
							<i class="fas fa-barcode tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">PATRIMÔNIO</span>
					</h:panelGroup>
					<h:panelGroup id="PLANO_ORCAMENTARIO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('PLANO_ORCAMENTARIO')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoPlanoOrcamentario and AplicacaoControle.cliente.permitirAcessoModuloPlanoOrcamentario}">
							<i class="fas fa-balance-scale tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">PLANO ORÇAMENTARIO</span>
					</h:panelGroup>
					<h:panelGroup id="PROCESSO_SELETIVO" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('PROCESSO_SELETIVO')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoProcessoSeletivo and AplicacaoControle.cliente.permitirAcessoModuloProcessoSeletivo}">
							<i class="fas fa-user-tag tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">PROCESSO SELETIVO</span>
					</h:panelGroup>

					<h:panelGroup id="SEI_DECIDIR" layout="block" styleClass="col-md-2 mt5 p15 border rounded text-center iconModulo" style="order:#{LoginControle.mapOrdemMenu.get('SEI_DECIDIR')}" rendered="#{LoginControle.usuarioLogado.perfilAcesso.possuiAcessoSeiDecidir and AplicacaoControle.cliente.permitirAcessoModuloSeiDecidir}">
							<i class="fas fa-chart-pie tituloCampos fs20 mb5"></i>
							<span class="tituloCampos tituloCamposTeste col-md-12 text-center">SEI DECIDIR</span>						
					</h:panelGroup>
				</h:panelGroup>

				<h:panelGroup layout="block" styleClass="#{LoginControle.usuarioLogado.isApresentarVisaoAdministrativa ? 'barra-btn-flutuante-modal-100' : 'barra-btn-flutuante-modal-50'}">
					<otm:commandButton value="Gravar" styleClass="btn btn-dark btn-gravar" oncomplete="PF('panelPreferenciaSistemaUsuario').hide();carregarMenu('#accordionSidebar');carregarRecursoMenu()" action="#{LoginControle.persistirPreferenciaSistemaUsuario}" update="form, formCss, preferencia"></otm:commandButton>
					<otm:commandButton value="Excluir" style="margin-left:5px" oncomplete="PF('panelPreferenciaSistemaUsuario').hide(); carregarMenu('#accordionSidebar'); carregarRecursoMenu(); " onclick="confirmOtm('#{msg.msg_confirmacao_excluxao}');" rendered="#{LoginControle.usuarioLogado.preferenciaSistemaUsuarioVO.codigo ne 0}" styleClass="btn btn-danger btn-excluir" action="#{LoginControle.excluirPreferenciaSistemaUsuario}" update="form, formCss, preferencia"></otm:commandButton>
					<otm:commandButton value="Fechar" style="margin-left:5px" icon="#{msg_botoes.btn_icon_fechar_embutido}" oncomplete="PF('panelPreferenciaSistemaUsuario').hide(); carregarMenu('#accordionSidebar'); carregarRecursoMenu();" styleClass="btn btn-info btn-fechar" action="#{LoginControle.consultarPreferenciaSistemaUsuario}" update="form, formCss"></otm:commandButton>
				</h:panelGroup>
			</h:panelGroup>

		</p:dialog>
	</h:panelGroup>
</composite:implementation>
</html>
