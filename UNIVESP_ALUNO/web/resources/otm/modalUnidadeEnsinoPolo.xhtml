<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui" xmlns:h="http://java.sun.com/jsf/html"
 xmlns:f="http://java.sun.com/jsf/core"
 xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">

<ui:component>

	<c:if test="#{empty id}">
		<c:set var="id" value="panelUnidadeEnsino"></c:set>
	</c:if>
	<c:if test="#{empty update}">
		<c:set var="update" value="form"></c:set>
	</c:if>
	<c:if test="#{empty trazerUnidadeEnsinoDesativada}">
		<c:set var="trazerUnidadeEnsinoDesativada" value="false"></c:set>
	</c:if>
	<c:if test="#{empty consultarUnidadeEnisno}">
		<c:set var="consultarUnidadeEnisno" value="verificarTodasUnidadeEnsinoSelecionados"></c:set>
	</c:if>
	<c:if test="#{empty marcarUnidadeEnsino}">
		<c:set var="marcarUnidadeEnsino" value="marcarTodasUnidadesEnsinoAction(FilterFactory.filter('#{id}_sel', 'nome', 'TEXTO'))"></c:set>
	</c:if>
	
	<!-- novos -->
	
	<c:if test="#{empty filtrarPorSituacao}">
		<c:set var="filtrarPorSituacao" value="true"></c:set>
	</c:if>
	
	<c:if test="#{empty filtrarPorTipo}">
		<c:set var="filtrarPorTipo" value="true"></c:set>
	</c:if>
	<c:if test="#{empty filtrarPorPeriodoLetivo}">
		<c:set var="filtrarPorPeriodoLetivo" value="true"></c:set>
	</c:if>
	<c:if test="#{empty filtrarPorDigito}">
		<c:set var="filtrarPorDigito" value="true"></c:set>
	</c:if>

	<c:if test="#{empty marcarTodasUnidadeEnsino}">
		<c:set var="marcarTodasUnidadeEnsino" value="marcarTodasUnidadeEnsino"></c:set>
	</c:if>
	<c:if test="#{empty unidadeEnsinoVOs}">
	    <c:set var="unidadeEnsinoVOs" value="unidadeEnsinoPolosVOs" />
	</c:if>

	<p:dialog modal="true" hideEffect="fade" closeOnEscape="true" showEffect="fade" styleClass="modalMaximizado" id="#{id}" widgetVar="#{id}" width="600" height="350">
		<f:facet name="header">
			<h:panelGroup>
				<h:outputText value="#{msg_aplic.prt_ContaReceberRel_selecionarUnidadeEnsino}" />
			</h:panelGroup>
		</f:facet>
		<h:form prependId="false" id="form#{id}">
			<style type="text/css">
				.ui-dataview-header {
					display: none;
				}

				body .ui-dataview.ui-dataview-list .ui-dataview-row {
					border: none !important;
				}
            </style>
			<h:panelGroup layout="block" styleClass="row" id="#{id}_unidadeEnsinos">
				<h:outputText styleClass="field control-label tituloCampos" value="Trazer Unidades de Ensino Polos Desativadas"  rendered="#{trazerUnidadeEnsinoDesativada}"/>
				<h:panelGroup layout="block" style="float:Right;width:100%;" rendered="#{trazerUnidadeEnsinoDesativada}">
					<otm:selectBooleanCheckbox value="#{bean.trazerUnidadeEnsinoPoloDesabilitada}">
						<p:ajax event="change" update="#{id}_unidadeEnsinos, #{update}" listener="#{bean.consultarUnidadeEnsinoPolo}" />
					</otm:selectBooleanCheckbox>
				</h:panelGroup>
				<otm:spacer height= "50px"/>
				<otm2:pickList id="pick#{id}" bean="#{bean}" value="#{bean.unidadeEnsinoPolosVOs}" label="nome" update="#{update}" selecionar="filtrarUnidadeEnsinoPolo" labelSelecionado="unidadeEnsinoPoloApresentar" ></otm2:pickList>							
			</h:panelGroup>

			<p:growl escape="false" showDetail="true" showSummary="false" globalOnly="true"></p:growl>
		</h:form>
	</p:dialog>

</ui:component>

</html>
