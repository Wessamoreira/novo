<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:p="http://primefaces.org/ui" xmlns:h="http://java.sun.com/jsf/html"
 xmlns:f="http://java.sun.com/jsf/core"
 xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br"> <ui:component>

	<c:if test="#{empty id}">
		<c:set var="id" value="panelCidade"></c:set>
	</c:if>

	<p:dialog modal="true" hideEffect="fade" closeOnEscape="true" showEffect="fade" styleClass="modalMaximizado100" id="#{id}" widgetVar="#{id}" onhide="fechar#{id}()" shadowOpacity="true">
		<f:facet name="header">
			<h:outputText value="#{msg_aplic.prt_Historico_tituloForm}" />
		</f:facet>
		<h:form id="form#{id}" prependId="false">
			<p:remoteCommand name="renderDataHistorico_#{id}_listaHistoricosAlterar" update="#{id}_listaHistoricosAlterar" process="#{id}_listaHistoricosAlterar" />
			<h:panelGroup layout="block" styleClass="row mn border rounded-top pb5 bg-gray-100">
				<h:panelGroup layout="block" styleClass="col-md-12 border-bottom bg-white p5 mb5">
					<h:outputText styleClass="tituloCampos font-weight-bold" value="Legendas" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 p5 mb5 border-bottom">
					<i class="#{msg_botoes.btn_icon_aviso_embutido} iconePequeno border-radius-all btn btn-warning mr5" />
					<h:outputText styleClass="tituloCampos" value="Dados encontrados, dados referente ao professor e a data do histórico foi encontrado para alterar, passe o mouse em cima do ícone na disciplina para saber quais dados foram encontrados." />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4 p5 mb5">
					<i class="fas fa-file-export iconePequeno border-radius-all btn btn-info mr5" />
					<h:outputText styleClass="tituloCampos" value="Disciplina fora da grade" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4 p5 mb5">
					<i class="#{msg_botoes.btn_icon_info_embutido} iconePequeno border-radius-all btn btn-primary mr5" />
					<h:outputText styleClass="tituloCampos" value="Disciplina aproveitada" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4 p5 mb5">
					<i class="fas fa-swatchbook iconePequeno border-radius-all btn btn-danger mr5" />
					<h:outputText styleClass="tituloCampos" value="Disciplina faz parte da composição" />
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="row mn">
				<p:dataTable paginator="true" paginatorPosition="bottom" paginatorAlwaysVisible="false" id="#{id}_listaHistoricosAlterar" value="#{bean.listaHistoricoAtualizarDadosProfessor}" var="historicoAlterarItens" rows="10">
					<p:column style="width: 12.09% !important">
						<f:facet name="header">
							<h:outputText value="Disciplina" />
						</f:facet>
						<h:outputText value="#{historicoAlterarItens.disciplina.codigo} - #{historicoAlterarItens.disciplina.nome}" />
					</p:column>
					<p:column style="width: 9.09% !important">
						<f:facet name="header">
							<h:outputText value="Situação" />
						</f:facet>
						<h:outputText value="#{historicoAlterarItens.situacao_Apresentar}" />
					</p:column>
					<p:column style="width: 9.09% !important">
						<f:facet name="header">
							<h:outputText value="Ano/Semestre" />
						</f:facet>
						<h:outputText value="#{historicoAlterarItens.anoSemestreApresentar}" />
					</p:column>
					<p:column style="width: 9.09% !important">
						<f:facet name="header">
							<h:outputText value="Período Letivo" />
						</f:facet>
						<h:outputText value="#{historicoAlterarItens.periodoLetivo_apresentar}" />
					</p:column>
					<p:column style="width: 14.09% !important">
						<f:facet name="header">
							<h:outputText value="Professor" />
						</f:facet>
						<h:inputText styleClass="form-control #{historicoAlterarItens.professor != '' ? 'camposObrigatorios' : 'campos'}" value="#{historicoAlterarItens.professor}">
							<p:ajax event="change" update="#{id}_listaHistoricosAlterar" process="#{id}_listaHistoricosAlterar" />
						</h:inputText>
					</p:column>
					<p:column style="width: 11.09% !important">
						<f:facet name="header">
							<h:outputText value="Titulação do Professor" />
						</f:facet>
						<h:selectOneMenu value="#{historicoAlterarItens.formacaoAcademicaProfessor}" styleClass="form-control #{historicoAlterarItens.professor != '' ? 'camposObrigatorios' : 'campos'}">
							<f:selectItems value="#{EnumControle.comboboxNivelFormacaoAcademica}" />
						</h:selectOneMenu>
					</p:column>
					<p:column style="width: 9.09% !important">
						<f:facet name="header">
							<h:outputText value="Sexo" />
						</f:facet>
						<h:selectOneMenu value="#{historicoAlterarItens.sexoProfessor}" styleClass="form-control #{historicoAlterarItens.professor != '' ? 'camposObrigatorios' : 'campos'}">
							<f:selectItems value="#{EnumControle.comboboxSexoEnumCrm}" />
						</h:selectOneMenu>
					</p:column>
					<p:column style="width: 8.09% !important">
						<f:facet name="header">
							<h:outputText value="Data Inicio" />
						</f:facet>
						<otm:calendar jsFunction="renderDataHistorico_#{id}_listaHistoricosAlterar()" inputClass="form-control #{historicoAlterarItens.dataInicio != null || historicoAlterarItens.dataFim != null ? 'camposObrigatorios' : 'campos'}" value="#{historicoAlterarItens.dataInicio}" />
					</p:column>
					<p:column style="width: 8.09% !important">
						<f:facet name="header">
							<h:outputText value="Data Final" />
						</f:facet>
						<otm:calendar jsFunction="renderDataHistorico_#{id}_listaHistoricosAlterar()" inputClass="form-control #{historicoAlterarItens.dataInicio != null || historicoAlterarItens.dataFim != null ? 'camposObrigatorios' : 'campos'}" value="#{historicoAlterarItens.dataFim}" />
					</p:column>
					<p:column style="width: 5.09% !important">
						<f:facet name="header">
							<h:outputText value="Avisos" />
						</f:facet>
						<h:panelGroup id="panelAviso_#{id}_listaHistoricosAlterar" rendered="#{historicoAlterarItens.aviso != ''}" style="margin: 2px;">
							<i id="#{id}_iconAviso" class="#{msg_botoes.btn_icon_aviso_embutido} iconePequeno border-radius-all btn btn-warning" />
							<p:tooltip target="panelAviso_#{id}_listaHistoricosAlterar" value="#{historicoAlterarItens.aviso}" zindex="10000" />
						</h:panelGroup>
						<h:panelGroup id="panelForaGrade_#{id}_listaHistoricosAlterar" rendered="#{historicoAlterarItens.historicoDisciplinaForaGrade}" style="margin: 2px;">
							<i class="fas fa-file-export iconePequeno border-radius-all btn btn-info" />
							<p:tooltip target="panelForaGrade_#{id}_listaHistoricosAlterar" value="Disciplina fora da grade" zindex="10000" />
						</h:panelGroup>
						<h:panelGroup id="panelDisciplinaParteComposicao_#{id}_listaHistoricosAlterar" rendered="#{historicoAlterarItens.historicoDisciplinaFazParteComposicao}" style="margin: 2px;">
							<i class="fas fa-swatchbook iconePequeno border-radius-all btn btn-danger" />
							<p:tooltip target="panelDisciplinaParteComposicao_#{id}_listaHistoricosAlterar" value="Disciplina faz parte da composição" zindex="10000" />
						</h:panelGroup>
						<h:panelGroup id="panelDisciplinaAproveitada_#{id}_listaHistoricosAlterar" rendered="#{historicoAlterarItens.historicoDisciplinaAproveitada or (historicoAlterarItens.disciplinasAproveitadas != null and historicoAlterarItens.disciplinasAproveitadas > 0)}" style="margin: 2px;">
							<i class="#{msg_botoes.btn_icon_info_embutido} iconePequeno border-radius-all btn btn-primary" />
							<p:tooltip target="panelDisciplinaAproveitada_#{id}_listaHistoricosAlterar" value="Disciplina aproveitada" zindex="10000" />
						</h:panelGroup>
					</p:column>
					<p:column style="width: 5.09% !important">
						<f:facet name="header">
							<h:outputText value="Opções" />
						</f:facet>
						<p:commandLink update="#{id}_listaHistoricosAlterar, #{id}_growl" action="#{bean.alterarProfessorEdataHistoricoIndividual}">
							<i class="#{msg_botoes.btn_icon_gravar_embutido} iconePequeno border-radius-all btn btn-dark" />
							<p:tooltip value="Alterar Histórico" zindex="10000" />
						</p:commandLink>
					</p:column>
				</p:dataTable>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-100">
				<p:commandLink id="#{id}_definirProfessorHistorico" value="alterar históricos (lote)" styleClass="btn btn-dark" oncomplete="#{bean.oncompleteModal}" action="#{bean.alterarProfessorEdataHistoricoLote(id)}" update="form#{id}" style="margin: 2px;">
					<span class="#{msg_botoes.btn_icon_gravar_embutido} pull-left" style="margin-right: 0.8em; position: relative; top: 1px; font-size: 14px;" />
				</p:commandLink>
				<otm:commandButton id="#{id}_fecharModalDefinirProfessorDisciplina" value="fechar" styleClass="btn btn-danger" icon="#{msg_botoes.btn_icon_fechar_embutido}" oncomplete="PF(id).hide();" marginButton="2px" />
			</h:panelGroup>
			<p:growl id="#{id}_growl" escape="false" showDetail="true" showSummary="false" globalOnly="true"></p:growl>
		</h:form>
	</p:dialog>

</ui:component> </html>