<ui:component xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:cc="http://xmlns.jcp.org/jsf/composite" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"  xmlns:p="http://primefaces.org/ui" xmlns:otm="http://java.sun.com/jsf/composite/otm">
	<cc:interface>
		<cc:attribute name="action" method-signature="void action()" />
		<cc:attribute name="data" />
		<cc:attribute name="label" />
	</cc:interface>
	<cc:implementation>


		<otm:commandButton style="position:relative; left:-10px; top:-1px;" render="bagDataTable bagName" execute="@this" styleClass="#{msg_botoes.btn_icon_lupa_embutido}" actionListener="#{BagComponent.init(cc.attributes.data)}" oncomplete="#{rich:component('panelDepartamento')}.show();" alt="Consultar Departamento"  />

		<rich:popupPanel styleClass="modalMaximizado" id="panelDepartamento" autosized="true" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{cc.attributes.label}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal"  style="cursor:pointer" />
					<rich:componentControl target="panelDepartamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formDepartamento">
				<h:panelGrid columns="1" width="100%">

					<<p:dataTable> id="bagDataTable" value="#{BagComponent.getMap()}" var="map" rows="10">
						<c:forEach items="#{BagComponent.getMap()[0].keySet().toArray()}" var="key">
							<rich:column>
								<f:facet name="header">
									<h:outputText value="#{key}" />
								</f:facet>
								<h:outputText value="#{map[key]}" />
							</rich:column>
						</c:forEach>

						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_botoes.btn_opcoes}" />
							</f:facet>
							<h:panelGroup>

								<otm:commandButton action="#{cc.attrs.action}" value="#{msg_botoes.btn_editar}" styleClass="btn btn-info light btn-icon-editar" oncomplete="#{rich:component('panelDepartamento')}.hide()" alt="#{msg.msg_editar_dados}">
								</otm:commandButton>
								<otm:commandButton action="#{cc.attrs.action}"  oncomplete="#{rich:component('panelDepartamento')}.hide()" value="#{msg_botoes.btn_selecionar}" styleClass="btn btn-info light btn-icon-editar" alt="#{msg.msg_selecionar_dados}" />


							</h:panelGroup>
						</rich:column>

						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller align="center" for="bagDataTable" id="paginador" page="#{BagComponent.getBagDataModel().page}" scrollListener="#{BagComponent.scrollerListener}" rendered="#{BagComponent.getBagDataModel().apresentarPaginador}" />
							</div>
						</f:facet>
					</<p:dataTable>>

					<h:panelGrid id="mensagemConsultaDepartamento" columns="1" width="100%" styleClass="tabMensagens">
						<h:panelGrid id="mensagemDepartamento" columns="1" width="100%">
						</h:panelGrid>
					</h:panelGrid>
				</h:panelGrid>
			</h:form>
		</rich:popupPanel>


	</cc:implementation>
</ui:component>