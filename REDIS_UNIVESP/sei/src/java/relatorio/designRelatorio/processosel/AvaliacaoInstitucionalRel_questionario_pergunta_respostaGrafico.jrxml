<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="AvaliacaoInstitucionalRel_questionario_pergunta_resposta" pageWidth="538" pageHeight="790" whenNoDataType="AllSectionsNoDetail" columnWidth="538" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="1327bf70-e562-4fa8-ad7e-25a98df9121a">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.5"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<parameter name="tipoResposta" class="java.lang.String"/>
	<parameter name="apresentarGraficoPizza" class="java.lang.Boolean">
		<defaultValueExpression><![CDATA[true]]></defaultValueExpression>
	</parameter>
	<parameter name="pergunta" class="java.lang.String"/>
	<parameter name="nrPergunta" class="java.lang.Integer"/>
	<parameter name="apresentarGraficoColuna" class="java.lang.Boolean"/>
	<parameter name="apresentarLista" class="java.lang.Boolean"/>
	<parameter name="chavePergunta" class="java.lang.String"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\SEI\\workspace\\7.0.4.0\\src\\java\\relatorio\\designRelatorio\\processosel\\"]]></defaultValueExpression>
	</parameter>
	<field name="nomeResposta" class="java.lang.String"/>
	<field name="siglaResposta" class="java.lang.String"/>
	<field name="quantidadePessoa" class="java.lang.Integer"/>
	<field name="percentual" class="java.lang.Double"/>
	<field name="apresentarRespota" class="java.lang.Boolean"/>
	<field name="resposta" class="java.lang.String"/>
	<field name="respostasAdicionaisJR" class="java.lang.Object"/>
	<variable name="maiorQtde" class="java.lang.Integer" calculation="Highest">
		<variableExpression><![CDATA[$F{quantidadePessoa}]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<group name="respostaAdicional">
		<groupExpression><![CDATA[$P{nrPergunta} + $P{pergunta}]]></groupExpression>
		<groupHeader>
			<band height="279">
				<textField isStretchWithOverflow="true">
					<reportElement isPrintRepeatedValues="false" x="0" y="0" width="538" height="40" isPrintWhenDetailOverflows="true" uuid="ebc3d340-a96c-4050-b172-89b6138d0e9d"/>
					<box>
						<pen lineColor="#CCCCCC"/>
						<topPen lineWidth="0.0" lineColor="#CCCCCC"/>
						<leftPen lineColor="#CCCCCC"/>
						<bottomPen lineWidth="1.0" lineColor="#CCCCCC"/>
						<rightPen lineColor="#CCCCCC"/>
					</box>
					<textFieldExpression><![CDATA[$P{nrPergunta}+") "+$P{pergunta}]]></textFieldExpression>
				</textField>
				<barChart>
					<chart evaluationTime="Group" evaluationGroup="respostaAdicional" customizerClass="controle.arquitetura.DesignerGraficoIReport" renderType="draw" theme="default">
						<reportElement positionType="Float" x="0" y="41" width="537" height="238" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="2758b8be-5a8b-4e98-abdc-97d93b8159cc">
							<printWhenExpression><![CDATA[$P{apresentarGraficoColuna}]]></printWhenExpression>
						</reportElement>
						<chartTitle color="#999999">
							<font size="6"/>
						</chartTitle>
						<chartSubtitle/>
						<chartLegend position="Right">
							<font size="8" isPdfEmbedded="false"/>
						</chartLegend>
					</chart>
					<categoryDataset>
						<dataset>
							<incrementWhenExpression><![CDATA[$P{apresentarGraficoColuna}]]></incrementWhenExpression>
						</dataset>
						<categorySeries>
							<seriesExpression><![CDATA[$F{nomeResposta}+" - "+$F{quantidadePessoa}+" : "+$F{percentual}+"%"]]></seriesExpression>
							<categoryExpression><![CDATA[" "]]></categoryExpression>
							<valueExpression><![CDATA[$F{quantidadePessoa}]]></valueExpression>
							<labelExpression><![CDATA[$F{quantidadePessoa}+" : "+$F{percentual}+"%"]]></labelExpression>
						</categorySeries>
					</categoryDataset>
					<barPlot isShowLabels="true" isShowTickLabels="true" isShowTickMarks="true">
						<plot labelRotation="0.0">
							<seriesColor seriesOrder="0" color="#4572A7"/>
							<seriesColor seriesOrder="1" color="#AA4643"/>
							<seriesColor seriesOrder="2" color="#89A54E"/>
							<seriesColor seriesOrder="3" color="#80699B"/>
							<seriesColor seriesOrder="4" color="#3D96AE"/>
							<seriesColor seriesOrder="5" color="#DB843D"/>
							<seriesColor seriesOrder="6" color="#92A8CD"/>
							<seriesColor seriesOrder="7" color="#A47D7C"/>
							<seriesColor seriesOrder="8" color="#B5CA92"/>
						</plot>
						<itemLabel color="#000000" backgroundColor="#FFFFFF">
							<font size="8"/>
						</itemLabel>
						<categoryAxisFormat labelRotation="0.0">
							<axisFormat labelColor="#666666" tickLabelColor="#666666" verticalTickLabels="true" axisLineColor="#FFFFFF">
								<labelFont>
									<font size="8"/>
								</labelFont>
								<tickLabelFont>
									<font size="8"/>
								</tickLabelFont>
							</axisFormat>
						</categoryAxisFormat>
						<valueAxisLabelExpression><![CDATA["Qtde de Respostas"]]></valueAxisLabelExpression>
						<valueAxisFormat>
							<axisFormat labelColor="#666666" tickLabelColor="#666666" verticalTickLabels="false" axisLineColor="#FFFFFF">
								<labelFont>
									<font size="8"/>
								</labelFont>
								<tickLabelFont>
									<font size="8"/>
								</tickLabelFont>
							</axisFormat>
						</valueAxisFormat>
						<domainAxisMinValueExpression><![CDATA[$V{maiorQtde}]]></domainAxisMinValueExpression>
						<domainAxisMaxValueExpression><![CDATA[$V{maiorQtde}]]></domainAxisMaxValueExpression>
						<rangeAxisMinValueExpression><![CDATA[$V{maiorQtde}]]></rangeAxisMinValueExpression>
						<rangeAxisMaxValueExpression><![CDATA[$V{maiorQtde}]]></rangeAxisMaxValueExpression>
					</barPlot>
				</barChart>
				<pieChart>
					<chart isShowLegend="true" evaluationTime="Group" evaluationGroup="respostaAdicional" customizerClass="controle.arquitetura.DesignerGraficoIReport">
						<reportElement positionType="Float" x="0" y="41" width="537" height="238" isRemoveLineWhenBlank="true" isPrintWhenDetailOverflows="true" uuid="fc9510c5-e517-469e-b897-f99c77aad998">
							<printWhenExpression><![CDATA[$P{apresentarGraficoPizza}]]></printWhenExpression>
						</reportElement>
						<chartTitle/>
						<chartSubtitle/>
						<chartLegend position="Right">
							<font size="8"/>
						</chartLegend>
					</chart>
					<pieDataset>
						<dataset>
							<incrementWhenExpression><![CDATA[$P{apresentarGraficoPizza}]]></incrementWhenExpression>
						</dataset>
						<keyExpression><![CDATA[$F{nomeResposta}+" - "+$F{quantidadePessoa}+" : "+$F{percentual}+"%"]]></keyExpression>
						<valueExpression><![CDATA[$F{quantidadePessoa}]]></valueExpression>
						<otherKeyExpression><![CDATA[$P{chavePergunta}+" "+$F{nomeResposta}+" - "+$F{quantidadePessoa}+" : "+$F{percentual}+"%"]]></otherKeyExpression>
						<otherLabelExpression><![CDATA[$F{nomeResposta}+" - "+$F{quantidadePessoa}+" : "+$F{percentual}+"%"]]></otherLabelExpression>
					</pieDataset>
					<piePlot isCircular="true" labelFormat="{0}" legendLabelFormat="{0}">
						<plot>
							<seriesColor seriesOrder="0" color="#4572A7"/>
							<seriesColor seriesOrder="1" color="#AA4643"/>
							<seriesColor seriesOrder="2" color="#89A54E"/>
							<seriesColor seriesOrder="3" color="#80699B"/>
							<seriesColor seriesOrder="4" color="#3D96AE"/>
							<seriesColor seriesOrder="5" color="#DB843D"/>
							<seriesColor seriesOrder="6" color="#92A8CD"/>
							<seriesColor seriesOrder="7" color="#A47D7C"/>
							<seriesColor seriesOrder="8" color="#B5CA92"/>
						</plot>
						<itemLabel color="#000000" backgroundColor="#FFFFFF">
							<font size="8"/>
						</itemLabel>
					</piePlot>
				</pieChart>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Prevent"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<detail>
		<band height="47" splitType="Stretch">
			<subreport>
				<reportElement x="1" y="16" width="537" height="24" isRemoveLineWhenBlank="true" uuid="0fa14461-01a8-49cd-9e11-7a1f8e0c93a0"/>
				<subreportParameter name="resposta">
					<subreportParameterExpression><![CDATA[$F{nomeResposta}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[$F{respostasAdicionaisJR}]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "AvaliacaoInstitucionalRel_questionario_pergunta_respostaGrafico_RespostaAdicional.jasper"]]></subreportExpression>
			</subreport>
			<frame>
				<reportElement x="0" y="3" width="537" height="13" isPrintWhenDetailOverflows="true" uuid="8ec5121d-a2f8-4127-94fb-5062ee5aaf53"/>
				<textField isStretchWithOverflow="true">
					<reportElement x="454" y="0" width="83" height="13" uuid="1a9ac6dc-46ac-4a70-ac6a-eb0b4843f31f">
						<printWhenExpression><![CDATA[$P{apresentarLista}]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					</box>
					<textElement textAlignment="Right"/>
					<textFieldExpression><![CDATA[$F{percentual}.toString()+"%"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="372" y="0" width="82" height="13" uuid="02f72c8e-85b1-47ed-a325-642d0b39c96a">
						<printWhenExpression><![CDATA[$P{apresentarLista}]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					</box>
					<textElement textAlignment="Right"/>
					<textFieldExpression><![CDATA[$F{quantidadePessoa}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="1" y="0" width="371" height="13" isPrintWhenDetailOverflows="true" uuid="4be107a3-0428-42a8-8fd9-dacf1950dab1">
						<printWhenExpression><![CDATA[$P{tipoResposta}.equals("TE")]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					</box>
					<textElement textAlignment="Justified" verticalAlignment="Middle">
						<font fontName="Arial" size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{resposta}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true">
					<reportElement x="0" y="0" width="373" height="13" isPrintWhenDetailOverflows="true" uuid="506369ed-cf49-4898-b264-9df710474633">
						<printWhenExpression><![CDATA[$P{apresentarLista}]]></printWhenExpression>
					</reportElement>
					<box>
						<bottomPen lineWidth="0.5" lineColor="#CCCCCC"/>
					</box>
					<textElement verticalAlignment="Middle">
						<font size="9"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{nomeResposta}]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
	<columnFooter>
		<band splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
</jasperReport>
