<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="HistoricoAlunoLayout4PortariaMECRel_Disciplinas" pageWidth="585" pageHeight="802" columnWidth="585" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="7ac28cac-f942-416c-b510-26a0e06adf58">
	<property name="ireport.zoom" value="1.9965000000000013"/>
	<property name="ireport.x" value="265"/>
	<property name="ireport.y" value="0"/>
	<parameter name="apresentarDisciplinaPeriodoTrancadoCanceladoTransferido" class="java.lang.Boolean"/>
	<field name="nomeDisciplina" class="java.lang.String"/>
	<field name="anoSemstre" class="java.lang.String"/>
	<field name="chDisciplina" class="java.lang.String"/>
	<field name="mediaFinal" class="java.lang.String"/>
	<field name="freqDisciplina" class="java.lang.Double"/>
	<field name="situacaoFinal" class="java.lang.String"/>
	<field name="crDisciplina" class="java.lang.String"/>
	<field name="utilizaMediaConceito" class="java.lang.Boolean"/>
	<field name="mediaFinalCalculo" class="java.lang.Double"/>
	<field name="situacaoMatriculaPeriodo" class="java.lang.String"/>
	<field name="disciplinaForaGrade" class="java.lang.Boolean"/>
	<field name="disciplinaAtividadeComplementar" class="java.lang.Boolean"/>
	<field name="observacao" class="java.lang.String"/>
	<field name="tipoHistoricoComplementacaoCargaHoraria" class="java.lang.Boolean"/>
	<field name="situacaoHistorico" class="java.lang.String"/>
	<field name="professor" class="java.lang.String"/>
	<field name="titulacaoProfessor" class="java.lang.String"/>
	<field name="nomePeriodo" class="java.lang.String"/>
	<field name="casasDecimaisCoeficienteRendimento" class="java.lang.String"/>
	<field name="coeficienteRendimento" class="java.lang.Double"/>
	<variable name="subtotalCargaHoraria" class="java.lang.Integer" resetType="Group" resetGroup="anoSemestre" calculation="Sum">
		<variableExpression><![CDATA[($F{chDisciplina} == null || $F{chDisciplina} == "")
|| (($F{situacaoMatriculaPeriodo}.equals("TI") ||
$F{situacaoMatriculaPeriodo}.equals("PR") ||
$F{situacaoMatriculaPeriodo}.equals("PC") ||
$F{situacaoMatriculaPeriodo}.equals("AC") ||
$F{situacaoMatriculaPeriodo}.equals("TR") ||
$F{situacaoMatriculaPeriodo}.equals("CA") ||
$F{situacaoMatriculaPeriodo}.equals("TS"))
&& !$F{situacaoHistorico}.equals("IS")) ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado Falta") ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado no Período Letivo") ||
$F{disciplinaForaGrade} ||
$F{disciplinaAtividadeComplementar} ||
$F{tipoHistoricoComplementacaoCargaHoraria} ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado")
|| $F{situacaoFinal}.trim().equalsIgnoreCase("Cursando") ? 0 : Integer.parseInt($F{chDisciplina})]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="subtotalCredito" class="java.lang.Integer" resetType="Group" resetGroup="anoSemestre" calculation="Sum">
		<variableExpression><![CDATA[($F{crDisciplina} == null || $F{crDisciplina} == "")
|| (($F{situacaoMatriculaPeriodo}.equals("TI") ||
$F{situacaoMatriculaPeriodo}.equals("PR") ||
$F{situacaoMatriculaPeriodo}.equals("PC") ||
$F{situacaoMatriculaPeriodo}.equals("AC") ||
$F{situacaoMatriculaPeriodo}.equals("TR") ||
$F{situacaoMatriculaPeriodo}.equals("CA") ||
$F{situacaoMatriculaPeriodo}.equals("TS"))
&& !$F{situacaoHistorico}.equals("IS")) ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado Falta") ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado no Período Letivo") ||
$F{disciplinaForaGrade} ||
$F{disciplinaAtividadeComplementar} ||
$F{tipoHistoricoComplementacaoCargaHoraria} ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado")
|| $F{situacaoFinal}.trim().equalsIgnoreCase("Cursando")? 0 : Integer.parseInt($F{crDisciplina})]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="totalgeralCargaHoraria" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{chDisciplina} == null || $F{chDisciplina} == "")
|| (($F{situacaoMatriculaPeriodo}.equals("TI") ||
$F{situacaoMatriculaPeriodo}.equals("PR") ||
$F{situacaoMatriculaPeriodo}.equals("PC") ||
$F{situacaoMatriculaPeriodo}.equals("AC") ||
$F{situacaoMatriculaPeriodo}.equals("TR") ||
$F{situacaoMatriculaPeriodo}.equals("CA") ||
$F{situacaoMatriculaPeriodo}.equals("TS"))
&& !$F{situacaoHistorico}.equals("IS")) ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado Falta") ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado no Período Letivo") ||
$F{disciplinaForaGrade} ||
$F{disciplinaAtividadeComplementar} ||
$F{tipoHistoricoComplementacaoCargaHoraria} ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado")
|| $F{situacaoFinal}.trim().equalsIgnoreCase("Cursando")? 0 : Integer.parseInt($F{chDisciplina})]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="totalgeralCredito" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{crDisciplina} == null || $F{crDisciplina} == "")
|| (($F{situacaoMatriculaPeriodo}.equals("TI") ||
$F{situacaoMatriculaPeriodo}.equals("PR") ||
$F{situacaoMatriculaPeriodo}.equals("PC") ||
$F{situacaoMatriculaPeriodo}.equals("AC") ||
$F{situacaoMatriculaPeriodo}.equals("TR") ||
$F{situacaoMatriculaPeriodo}.equals("CA") ||
$F{situacaoMatriculaPeriodo}.equals("TS"))
&& !$F{situacaoHistorico}.equals("IS")) ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado Falta") ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado no Período Letivo") ||
$F{disciplinaForaGrade} ||
$F{disciplinaAtividadeComplementar} ||
$F{tipoHistoricoComplementacaoCargaHoraria} ||
$F{situacaoFinal}.trim().equalsIgnoreCase("Reprovado")
|| $F{situacaoFinal}.trim().equalsIgnoreCase("Cursando")? 0 : Integer.parseInt($F{crDisciplina})]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="quantidadeDisciplina" class="java.lang.Integer" resetType="Group" resetGroup="anoSemestre" calculation="Sum">
		<variableExpression><![CDATA[$F{situacaoFinal}.trim().equals("Isento") || $F{situacaoFinal}.trim().equals("IS") ? 0 : 1]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="totalMediaFinal" class="java.lang.Double" resetType="Group" resetGroup="anoSemestre" calculation="Sum">
		<variableExpression><![CDATA[$F{mediaFinalCalculo}]]></variableExpression>
	</variable>
	<variable name="coeficienteRendimento" class="java.lang.Double" resetType="Group" resetGroup="anoSemestre">
		<variableExpression><![CDATA[$V{totalMediaFinal} / $V{quantidadeDisciplina}]]></variableExpression>
	</variable>
	<group name="anoSemestre">
		<groupExpression><![CDATA[$F{anoSemstre}]]></groupExpression>
		<groupHeader>
			<band height="42">
				<rectangle radius="5">
					<reportElement x="0" y="15" width="585" height="15" isRemoveLineWhenBlank="true" uuid="4e98701c-8156-4560-8bc1-b8a1743543ae"/>
					<graphicElement>
						<pen lineWidth="0.75"/>
					</graphicElement>
				</rectangle>
				<rectangle radius="5">
					<reportElement x="0" y="0" width="585" height="15" forecolor="#333333" backcolor="#D6D8DB" uuid="2b5e9905-f9ad-4183-8cbc-83cac8ffc9e9"/>
					<graphicElement>
						<pen lineWidth="0.75"/>
					</graphicElement>
				</rectangle>
				<staticText>
					<reportElement x="358" y="16" width="75" height="12" isRemoveLineWhenBlank="true" uuid="4941f1f8-538c-4ecc-b788-6645fdf3524e"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Resultado]]></text>
				</staticText>
				<staticText>
					<reportElement x="0" y="16" width="196" height="12" isRemoveLineWhenBlank="true" uuid="6f2379a2-b81e-4cbe-b2dd-409b8c55f71a"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
						<paragraph leftIndent="3"/>
					</textElement>
					<text><![CDATA[Disciplina]]></text>
				</staticText>
				<staticText>
					<reportElement x="240" y="16" width="36" height="12" isRemoveLineWhenBlank="true" uuid="c37da052-d16f-4a14-8090-a7f53ead5f29"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[C.H.]]></text>
				</staticText>
				<staticText>
					<reportElement x="305" y="16" width="53" height="12" isRemoveLineWhenBlank="true" uuid="05f59517-ddd4-4953-964f-620ea9c915e9"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Média Final]]></text>
				</staticText>
				<textField>
					<reportElement x="7" y="1" width="100" height="12" uuid="37426fd2-5c8a-4010-96f5-35bb904632c4"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{anoSemstre}]]></textFieldExpression>
				</textField>
				<textField>
					<reportElement x="7" y="30" width="578" height="12" isRemoveLineWhenBlank="true" uuid="1ef8d9a4-dbd2-4497-84f6-a9e2113fd104"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{situacaoMatriculaPeriodo}.equals("TI") ? "TRANSFERÊNCIA INTERNA" :
$F{situacaoMatriculaPeriodo}.equals("PR") ? "PRÉ-MATRICULA" :
$F{situacaoMatriculaPeriodo}.equals("PC") ? "PRÉ-MATRICULA CANCELADA" :
$F{situacaoMatriculaPeriodo}.equals("AC") ? "ABANDONO DE CURSO" :
$F{situacaoMatriculaPeriodo}.equals("TR") ? "TRANCADA" :
$F{situacaoMatriculaPeriodo}.equals("CA") ? "CANCELADA" :
$F{situacaoMatriculaPeriodo}.equals("TS") ? "TRANSFERÊNCIA DE SAÍDA" :
$F{situacaoMatriculaPeriodo}.equals("JU") ? "JUBILAMENTO" : "")]]></textFieldExpression>
				</textField>
				<staticText>
					<reportElement x="276" y="16" width="29" height="12" isRemoveLineWhenBlank="true" uuid="d6bfb97a-3569-45f7-8335-3f077fce9037"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Freq %]]></text>
				</staticText>
				<staticText>
					<reportElement x="531" y="16" width="53" height="12" isRemoveLineWhenBlank="true" uuid="e84acf40-7519-4023-883a-81b7571eee4f"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
						<paragraph leftIndent="2"/>
					</textElement>
					<text><![CDATA[Titulação]]></text>
				</staticText>
				<staticText>
					<reportElement x="433" y="16" width="99" height="12" isRemoveLineWhenBlank="true" uuid="a73836f1-5ec6-4d81-97d4-2fd2fdc76ba9"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Professor]]></text>
				</staticText>
				<staticText>
					<reportElement x="196" y="16" width="44" height="12" isRemoveLineWhenBlank="true" uuid="449d8f40-62a0-442b-8a91-c36259c1c76a"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Período]]></text>
				</staticText>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="24">
				<rectangle radius="5">
					<reportElement x="0" y="3" width="585" height="15" isRemoveLineWhenBlank="true" uuid="fd3d3d2d-0218-4f8a-b532-a21d8f0c5709"/>
					<graphicElement>
						<pen lineWidth="0.75"/>
					</graphicElement>
				</rectangle>
				<staticText>
					<reportElement x="144" y="4" width="96" height="12" isRemoveLineWhenBlank="true" uuid="b0a32ae8-6e6f-44e1-897f-9ea8124baf42"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Sub-total:      ]]></text>
				</staticText>
				<staticText>
					<reportElement x="353" y="4" width="119" height="12" isRemoveLineWhenBlank="true" uuid="f661f86d-229b-43fb-88ad-cd75eca9a11e"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
					</textElement>
					<text><![CDATA[Coeficiente de rendimento:      ]]></text>
				</staticText>
				<textField>
					<reportElement x="240" y="4" width="36" height="12" isRemoveLineWhenBlank="true" uuid="aef22183-ea2b-4ef0-b1eb-87d1d1522677"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$V{subtotalCargaHoraria} + "h"]]></textFieldExpression>
				</textField>
				<textField pattern="">
					<reportElement x="472" y="4" width="65" height="12" isRemoveLineWhenBlank="true" uuid="e435d8c4-708e-419f-92ff-55018a209c0c"/>
					<textElement verticalAlignment="Middle">
						<font fontName="Arial" size="8"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{coeficienteRendimento} != null && $F{coeficienteRendimento} != 0.0 ?
$F{coeficienteRendimento} :

($V{coeficienteRendimento}.equals(0.0)?"----":
new DecimalFormat("0.00").format($V{coeficienteRendimento}).toString())]]></textFieldExpression>
					<patternExpression><![CDATA[$F{casasDecimaisCoeficienteRendimento} != "" ? $F{casasDecimaisCoeficienteRendimento} : "###0.00"]]></patternExpression>
				</textField>
			</band>
		</groupFooter>
	</group>
	<detail>
		<band height="12" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement x="0" y="0" width="196" height="12" isRemoveLineWhenBlank="true" uuid="32e0b436-c7b5-4ee3-8aa3-b6443d6fc0c3"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nomeDisciplina}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="240" y="0" width="36" height="12" isRemoveLineWhenBlank="true" uuid="e989402f-1762-4b08-9c14-91d13d433a3e"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{chDisciplina} == null || $F{chDisciplina}.equals("") || $F{chDisciplina}.equals("0") || $F{situacaoFinal}.equals("Cursando") ? "--" : $F{chDisciplina})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="305" y="0" width="53" height="12" isRemoveLineWhenBlank="true" uuid="a6efd67e-bbcd-49f9-8be3-e4a6f62d2110"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{mediaFinal} == "" || $F{mediaFinal} == null
    || $F{situacaoFinal}.equals("Cursando") ? "--" : $F{mediaFinal})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="358" y="0" width="75" height="12" isRemoveLineWhenBlank="true" uuid="9fbb7175-ba33-439c-b914-6eecd887bf09"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{situacaoFinal}.trim()]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="276" y="0" width="29" height="12" isRemoveLineWhenBlank="true" uuid="2c3d25e7-14b9-4f4c-b750-9914e1103f23"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[(($F{freqDisciplina} == 0.0
|| $F{situacaoFinal}.equals("IS")
|| $F{situacaoFinal}.trim().equalsIgnoreCase("Isento"))
|| $F{situacaoFinal}.equals("Cursando") ? "--" :
$F{freqDisciplina}.toString()+"%")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="433" y="0" width="99" height="12" isRemoveLineWhenBlank="true" uuid="cd38e3a6-253b-4a1b-b7a9-fc0487b8aa91"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{professor}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="531" y="0" width="53" height="12" isRemoveLineWhenBlank="true" uuid="0e507373-ee09-4f61-b5c6-06eaf4065272"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
					<paragraph leftIndent="2"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{titulacaoProfessor}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement x="196" y="0" width="44" height="12" isRemoveLineWhenBlank="true" uuid="faed26b3-a871-49f9-9119-0476b24a0a0a"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{nomePeriodo}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<lastPageFooter>
		<band height="15">
			<rectangle radius="5">
				<reportElement x="0" y="0" width="585" height="15" uuid="aac213b8-6a06-47ab-b1fc-155948ac6f62"/>
				<graphicElement>
					<pen lineWidth="0.75"/>
				</graphicElement>
			</rectangle>
			<staticText>
				<reportElement x="144" y="1" width="140" height="12" uuid="ac30d7c1-2829-41e3-8efd-24d7c80414c3"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="8" isBold="true" pdfFontName="Helvetica-Bold"/>
				</textElement>
				<text><![CDATA[Total Geral C.H.:      ]]></text>
			</staticText>
			<textField>
				<reportElement x="284" y="1" width="36" height="12" uuid="a9d239b0-04a9-41da-b119-994a1127c11d"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="8"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{totalgeralCargaHoraria}+ "h"]]></textFieldExpression>
			</textField>
		</band>
	</lastPageFooter>
</jasperReport>
