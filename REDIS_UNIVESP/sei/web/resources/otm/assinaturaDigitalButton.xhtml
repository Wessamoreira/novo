<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:composite="http://java.sun.com/jsf/composite">
<composite:interface>
	<composite:attribute name="id" required="true" type="java.lang.String" />
	<composite:attribute name="style" default="" type="java.lang.String" />
	<composite:attribute name="status" default="" type="java.lang.String" />
	<composite:attribute name="styleIcon" default="" type="java.lang.String" />
	<composite:attribute name="styleClass" default="btn btn-default dark" type="java.lang.String" />
	<composite:attribute name="value" default=" " type="java.lang.String" />
	<composite:attribute name="execute" default="@form" type="java.lang.String" />
	<composite:attribute name="onclick" type="java.lang.String" />
	<composite:attribute name="action" default="#" method-signature="java.lang.String action()" />
	<composite:attribute name="actionEvent" default="#" method-signature="java.lang.String actionEvent()" />
	<composite:attribute name="render" default="form" type="java.lang.String" />
	<composite:attribute name="oncomplete" type="java.lang.String" />
	<composite:attribute name="rendered" type="java.lang.Boolean" />
	<composite:attribute name="disabled" type="java.lang.Boolean" />	
	<composite:attribute name="icon" type="java.lang.String" />
	<composite:attribute name="bean" required="true" type="java.lang.Object" />
	<composite:actionSource name="actionEvent" targets="#{cc.namingContainer.clientId}:#{cc.attrs.id}"></composite:actionSource>		
</composite:interface>

<composite:implementation>
	<h:panelGroup id="#{cc.attrs.id}btn" rendered="#{cc.attrs.rendered}">	
		<a4j:commandLink id="#{cc.attrs.id}" status="#{cc.attrs.status}" oncomplete="#{cc.attrs.oncomplete};" value="#{cc.attrs.value}"  style="#{cc.attrs.style}" styleClass="btn-focus #{cc.attrs.styleClass}" execute="#{cc.attrs.execute}" 
			 action="#{cc.attrs.action}" render="#{cc.attrs.render}" disabled="#{cc.attrs.disabled}" onkeydown="acionarBotaoPelaTeclaEnter(event, '#{cc.namingContainer.clientId}:#{cc.attrs.id}');">
			 <span class="#{cc.attrs.icon} pull-left" style="margin-right: 0.8em;margin-top:2px;">
				
			</span>			
		</a4j:commandLink>
	</h:panelGroup>

<a4j:jsFunction name="latitude">
	<a4j:param  name="name" assignTo="#{cc.attrs.bean.latitude}"></a4j:param>
</a4j:jsFunction>
<a4j:jsFunction name="longitude">
	<a4j:param  name="name" assignTo="#{cc.attrs.bean.longitude}"></a4j:param>
</a4j:jsFunction>
<script>
$(document).ready(function() {
	  if(navigator.geolocation){
	    navigator.geolocation.getCurrentPosition(mostrarLocalizacao);
	 }
});
   function mostrarLocalizacao(posicao){
     let lat = posicao.coords.latitude;
     let longi = posicao.coords.longitude;
     latitude(lat);
     longitude(longi);
   }
</script>
</composite:implementation>
</html>
