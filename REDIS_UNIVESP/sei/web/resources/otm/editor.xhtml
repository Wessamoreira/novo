<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:rich="http://richfaces.org/rich" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:composite="http://java.sun.com/jsf/composite" >
<composite:interface>
	<composite:attribute name="id" type="java.lang.String" />
	<composite:attribute name="value" required="true" type="java.lang.String" />
	<composite:attribute name="height" default="auto" type="java.lang.String" />
	<composite:attribute name="readonly" type="java.lang.Boolean" />
	<composite:attribute name="rendered" type="java.lang.Boolean" />
	<composite:attribute name="options" default="full" type="java.lang.String" />
	<composite:attribute name="style"  type="java.lang.String" />
	<composite:attribute name="contents"  type="java.lang.String" />
	<composite:attribute name="theme" default="default"  type="java.lang.String" />
<!-- 	<composite:actionSource name="actionEvent" targets="#{cc.namingContainer.clientId}:#{cc.attrs.id}"></composite:actionSource> -->
</composite:interface>

<composite:implementation>	
		
	<h:panelGroup layout="block" styleClass="col-md-12 pn" rendered="#{cc.attrs.rendered}">
	<script type="text/javascript">
			(function($) {
				$(document).ready(function(){
	        		var theme = 'default';
					$('.editorJodit').each(
						function(){						
							var id = this;					
			        		var apresentarToolbar = true;
			        		var readonlyText = false;
			        		var height = document.getElementById(this.id).style.height;			        		
			        		if($(this).hasClass('transparent')){
			        			theme =  'transparent';
							}
			        		if($(this).attr('readonly') == 'readonly'){
			        			apresentarToolbar = false;	
			        			readonlyText =  true;
							}
			        		initEditor(id, apresentarToolbar, readonlyText, height, theme);
						});							
				});
		
						
			})(jQuery);
	</script>	
			<h:inputTextarea id="#{cc.attrs.id}" styleClass="editorJodit #{cc.attrs.theme}" height="#{cc.attrs.height}" style="height:#{cc.attrs.height} !important;#{cc.attrs.style}" value="#{cc.attrs.value}" readonly="#{cc.attrs.readonly}" rendered="#{cc.attrs.rendered}">
		
			</h:inputTextarea>		
	</h:panelGroup>
</composite:implementation>
</html>
