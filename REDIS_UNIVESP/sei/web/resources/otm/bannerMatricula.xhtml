<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:composite="http://java.sun.com/jsf/composite" xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions" xmlns:otm2="http://www.otimize-ti.com.br">
<composite:interface>
	<composite:attribute name="bean" required="true" type="java.lang.Object" />
	<composite:attribute name="dashboardMatricula" required="true" type="java.lang.Object" />
	<composite:attribute name="height" default="380px" type="java.lang.String" />
</composite:interface>

<composite:implementation>

	<script src="#{resource['startbootstrap/vendor/jquery/jquery.min.js']}"></script>
	<script src="#{resource['startbootstrap/vendor/jquery-easing/jquery.easing.min.js']}"></script>
	<script src="#{resource['V2/script/jquery.bxslider.min.js']}" />

	<style>
.bx-controls-direction {
	position: absolute;
	top: 50%;
	width: 100%;
	z-index: 100;
}

.bx-wrapper {
    position: relative;
    margin-bottom: 0px !important;
    padding: 0;
    -ms-touch-action: pan-y;
    touch-action: pan-y;
    -moz-box-shadow: 0 0 5px #ccc;
    -webkit-box-shadow: 0 0 5px #ccc;
    box-shadow: 0 0 5px #ccc;
    border: 5px solid #fff;
    background: #fff;
}
</style>

	<h:panelGroup id="BANNER_MATRICULA" style="order:#{cc.attrs.dashboardMatricula.ordem}" rendered="#{cc.attrs.dashboardMatricula != null and !empty LoginControle.caminhoArquivoBanner and !cc.attrs.dashboardMatricula.ocultar}" styleClass="col-md-6" layout="block">
		<rich:dropTarget dropValue="#{cc.attrs.bean.dashboardMatricular}" render=":form:panelGeral" dropListener="#{cc.attrs.bean.registrarPosicaoDashboard}" acceptedTypes="DASHBOARDS" />
		<rich:dragSource type="DASHBOARDS" dragIndicator="BANNER_MATRICULA_DRAG" dragValue="#{cc.attrs.bean.dashboardMatricular}">
		</rich:dragSource>
		<otm2:dashpanel id="dashboardMatricular" styleClass="p-0" cols="12">
			<ui:define name="header">
				<i class="#{cc.attrs.dashboardMatricula.icone} mr-2 fonteHeaderDashboard"></i>
				<h:outputLabel value="#{cc.attrs.dashboardMatricula.titulo}" styleClass="fonteHeaderDashboard" />
<!-- 				<a4j:commandLink action="#{cc.attrs.bean.persistirDashboard(cc.attrs.dashboardMatricula)}" rendered="#{!cc.attrs.dashboardMatricula.maximizado}" styleClass="float-right p-0 mr5" render="panelGeral"> -->
<!-- 					<i class="fas fa-angle-down text-center fonteHeaderDashboard" /> -->
<!-- 					<f:setPropertyActionListener value="true" target="#{cc.attrs.dashboardMatricula.maximizado}"></f:setPropertyActionListener> -->
<!-- 				</a4j:commandLink> -->
<!-- 				<a4j:commandLink action="#{cc.attrs.bean.persistirDashboard(cc.attrs.dashboardMatricula)}" rendered="#{cc.attrs.dashboardMatricula.maximizado}" styleClass="float-right p-0 mr5" render="panelGeral"> -->
<!-- 					<i class="fas fa-angle-up text-center fonteHeaderDashboard " /> -->
<!-- 					<f:setPropertyActionListener value="false" target="#{cc.attrs.dashboardMatricula.maximizado}"></f:setPropertyActionListener> -->
<!-- 				</a4j:commandLink> -->
<!-- 				<a4j:commandLink id="ocultarrBanner" action="#{cc.attrs.bean.persistirDashboard(cc.attrs.dashboardMatricula)}" render=":form:menuTopo, :form:panelGeral" styleClass="border-0 bg-transparent float-right p-0 mr5" title="Ocultar GrÃ¡fico"> -->
<!-- 					<i class="fas fa-compress-arrows-alt text-center fonteHeaderDashboard" /> -->
<!-- 					<f:setPropertyActionListener value="true" target="#{cc.attrs.dashboardMatricula.ocultar}"></f:setPropertyActionListener> -->
<!-- 				</a4j:commandLink> -->
			</ui:define>
			<ui:define name="body">
				<h:panelGroup layout="block" rendered="#{cc.attrs.dashboardMatricula.maximizado}" style="height:#{cc.attrs.height}">

					<script type="text/javascript">
						$(document)
								.ready(
										function() {
											$('.bxslider')
													.bxSlider(
															{
																auto : true,
																captions : false,
																mode : 'fade',
																pagerType : 'short',
																pager : false,
																adaptiveHeight : true,
																responsive : true,
																video : false,
																nextText : '<i class="fa fa-angle-right fs16" ></i>',
																prevText : '<i class="fa fa-angle-left fs16" ></i>',
																touchEnabled : false
															});
										});
						selecionarBanner = function(url) {
							window.open(url, '_blank').focus();
						};
					</script>

					<div class="bxslider" style="cursor: move; position: relative; overflow: hidden; width: 100%; height: 100%;">
						<a4j:repeat rowKeyVar="row" value="#{LoginControle.politicaDivulgacaoMatriculaOnlineVOs}" var="banner">
							<a4j:commandLink onclick="selecionarBanner('#{banner.urlClick}')">
								<img id="bannerMat_#{row+1}" src="#{banner.urlImagem}" style="max-height: 260px;" width="100%" title="banner #{row+1}" />
							</a4j:commandLink>
						</a4j:repeat>
					</div>

					<h:panelGroup styleClass="col-md-12 text-center" layout="block">
						<h:outputText styleClass="fs10" value="Clique sobre a imagem do curso que deseja MATRICULAR-SE" />
					</h:panelGroup>
				</h:panelGroup>
			</ui:define>
		</otm2:dashpanel>
	</h:panelGroup>
</composite:implementation>
</html>
