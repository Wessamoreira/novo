<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
</h:head>
<ui:composition template="/visaoProfessor/template/visaoProfessor.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Requerimento" />
	</ui:define>
	<ui:define name="conteudo">
		<h:outputScript name="jquery.color.js" library="script/crop" />
		<h:outputScript name="jquery.Jcrop.js" library="script/crop" />
		<h:outputStylesheet name="jquery.Jcrop.css" library="script/crop" />
		<h:outputScript name="webcam.js" library="script/webcam" />
		<h:form id="form">
			<h:panelGroup id="tabConsulta">
				<rich:tabPanel width="100%" activeTabClass="true" ontabchange="true" headerAlignment="center" switchType="client">
					<rich:tab ontabenter="true" rendered="#{!empty RequerimentoControle.listaConsultaFinalizados or !empty RequerimentoControle.listaConsultaAbertos}" header="Meus Requerimentos">
						<h:panelGroup layout="block" styleClass="row">
							<rich:tabPanel width="100%" activeTabClass="true" ontabchange="true" headerAlignment="center" switchType="client">
								<rich:tab ontabenter="true" rendered="#{!empty RequerimentoControle.listaConsultaAbertos}" header="Abertos">
									<h:panelGroup layout="block" styleClass="row">
										<rich:dataTable id="itemsRequerimento" width="100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{RequerimentoControle.listaConsultaAbertos}" rows="15" var="requerimentoItem">
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_codigo}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="codigoRequerimento" title="Visualizar Dados Requerimento" value="#{requerimentoItem.codigo}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_tipoRequerimento}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="tipoRequerimento" title="Visualizar Dados Requerimento" value="#{requerimentoItem.tipoRequerimento.nome}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_situacao}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="situacao" title="Visualizar Dados Requerimento" value="#{requerimentoItem.situacao_Apresentar}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_situacaoFinanceira}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="situacaoFinanceira" title="Visualizar Dados Requerimento" value="#{requerimentoItem.situacaoFinanceira_Apresentar}" />
											</rich:column>
											<rich:column style="text-align: center !important" rendered="#{RequerimentoControle.usuarioLogado.isApresentarVisaoPais}">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_pessoa}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="nome" title="Visualizar Dados Requerimento" value="#{requerimentoItem.pessoa.nome}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_situacao} Trâmite" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="situacaoTramiteCons" value="#{requerimentoItem.situacaoRequerimentoDepartamentoVO.situacao}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="Opções" />
												</f:facet>
												<otm:commandIcon execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" tooltip="Visualizar Dados Requerimento" icon="#{msg_botoes.btn_icon_editar} iconePequeno" />
											</rich:column>
											<f:facet name="footer">
												<div style="text-align: center !important">
													<rich:dataScroller boundaryControls="auto" stepControls="auto" fastControls="hide" for="form:itemsRequerimento" />
												</div>
											</f:facet>
										</rich:dataTable>
									</h:panelGroup>
								</rich:tab>

								<rich:tab ontabenter="true" rendered="#{!empty RequerimentoControle.listaConsultaFinalizados}" header="Finalizados">
									<h:panelGroup layout="block" styleClass="row">
										<rich:dataTable id="itemsRequerimentoFinalizados" width="100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{RequerimentoControle.listaConsultaFinalizados}" rows="15" var="requerimentoItem">
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_codigo}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="codigo" value="#{requerimentoItem.codigo}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_tipoRequerimento}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="tipoRequerimento" value="#{requerimentoItem.tipoRequerimento.nome}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_situacao}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="situacao" value="#{requerimentoItem.situacao_Apresentar}" />
											</rich:column>
											<rich:column style="text-align: center !important" rendered="#{RequerimentoControle.usuarioLogado.isApresentarVisaoPais}">
												<f:facet name="header">
													<h:outputText value="#{msg_aplic.prt_Requerimento_pessoa}" />
												</f:facet>
												<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="nome" title="Visualizar Dados Requerimento" value="#{requerimentoItem.pessoa.nome}" />
											</rich:column>
											<rich:column style="text-align: center !important">
												<f:facet name="header">
													<h:outputText value="Opções" />
												</f:facet>
												<otm:commandIcon execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar" />
												<otm:commandIcon id="imprirmirRequerimentoDeferido" rendered="#{requerimentoItem.aptoImpressaoVisaoAluno and requerimentoItem.tipoRequerimento.isUtilizaTextoPadrao}" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.imprirmirDeclaracaoVisaoAlunoOpcao}" tooltip="#{msg.help_ImprimirRequerimentoVisaoAluno}" alt="#{msg_aplic.prt_Questionario_tituloForm}" icon="#{msg_botoes.btn_icon_imprimir} iconePequeno" oncomplete="#{RequerimentoControle.contrato};" />
												<!-- 												#{msg_aplic.prt_Questionario_tituloForm}  -->
											</rich:column>
											<f:facet name="footer">
												<div style="text-align: center !important">
													<rich:dataScroller boundaryControls="auto" stepControls="auto" fastControls="hide" for="form:itemsRequerimentoFinalizados" />
												</div>
											</f:facet>
										</rich:dataTable>
									</h:panelGroup>
								</rich:tab>
							</rich:tabPanel>
						</h:panelGroup>
					</rich:tab>

					<rich:tab ontabenter="true" rendered="#{!empty RequerimentoControle.listaConsulta}" header="Requerimento de Alunos">
						<h:panelGroup layout="block" styleClass="row">
							<rich:dataTable id="itemsRequerimentoAlunos" width="100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{RequerimentoControle.listaConsulta}" rows="15" var="requerimentoItem">
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="#{msg_aplic.prt_Requerimento_codigo}" />
									</f:facet>
									<a4j:commandLink execute="@this" action="#{RequerimentoControle.editar}" id="codigoRequerimento" title="Visualizar Dados Requerimento" value="#{requerimentoItem.codigo}" />
								</rich:column>
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="Requerente" />
									</f:facet>
									<a4j:commandLink execute="@this" action="#{RequerimentoControle.editar}" id="nomeMatricula" rendered="#{!empty requerimentoItem.matricula.matricula}" title="Visualizar Dados Requerimento" value="#{requerimentoItem.matricula.matricula} - #{requerimentoItem.pessoa.nome}" />
									<a4j:commandLink execute="@this" action="#{RequerimentoControle.editar}" id="nome" title="Visualizar Dados Requerimento" rendered="#{empty requerimentoItem.matricula.matricula}" value="#{requerimentoItem.pessoa.nome}" />
								</rich:column>
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="#{msg_aplic.prt_Requerimento_tipoRequerimento}" />
									</f:facet>
									<a4j:commandLink execute="@this" action="#{RequerimentoControle.editar}" id="tipoRequerimento" title="Visualizar Dados Requerimento" value="#{requerimentoItem.tipoRequerimento.nome}" />
								</rich:column>
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="#{msg_aplic.prt_Requerimento_situacao}" />
									</f:facet>
									<a4j:commandLink execute="@this" action="#{RequerimentoControle.editar}" id="situacao" title="Visualizar Dados Requerimento" value="#{requerimentoItem.situacao_Apresentar}" />
								</rich:column>
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="#{msg_aplic.prt_Requerimento_situacao} Trâmite" />
									</f:facet>
									<a4j:commandLink execute="@this" render="form:novoRequerimento, requerimento, todosBotoes" action="#{RequerimentoControle.editar}" id="situacaoTramiteCons" value="#{requerimentoItem.situacaoRequerimentoDepartamentoVO.situacao}" />
								</rich:column>
								<rich:column style="text-align: center !important">
									<f:facet name="header">
										<h:outputText value="Opções" />
									</f:facet>
									<otm:commandIcon execute="@this" action="#{RequerimentoControle.editar}" tooltip="Visualizar Dados Requerimento" icon="#{msg_botoes.btn_icon_editar} iconePequeno" />
								</rich:column>
								<f:facet name="footer">
									<div style="text-align: center !important">
										<rich:dataScroller boundaryControls="auto" stepControls="auto" fastControls="hide" for="form:itemsRequerimentoAlunos" />
									</div>
								</f:facet>
							</rich:dataTable>
						</h:panelGroup>
					</rich:tab>
				</rich:tabPanel>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="barraFlutuanteInferior" id="todosBotoes">
				<otm:commandButton execute="@this" id="mrNovoRequerimento" action="#{RequerimentoControle.novo}" render="form:requerimento, todosBotoes, form" value="Novo Requerimento" accesskey="1" styleClass="btn btn-info btn-novo" />
				<!-- 				rendered="#{RequerimentoControle.existeTipoRequerimentoCadastradoProfessorCoordenador}" -->
			</h:panelGroup>
		</h:form>

		<rich:popupPanel styleClass="modalMaximizado" id="panelTramite" style="overflow:auto" shadowOpacity="false" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Requerimento_tramiteEntreDepartamentos}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPanelTramite" />
					<rich:componentControl target="panelTramite" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formTramite">
				<a4j:repeat id="items" rowKeyVar="row" value="#{RequerimentoControle.requerimentoVO.requerimentoHistoricoVOs}" var="requerimentoHistoricoItem">
					<otm2:panel name="panelInforma#{row}" renderedControl="false" styleClassFooter="dn">
						<ui:define name="body">
							<h:panelGroup rendered="#{!requerimentoHistoricoItem.retorno and !requerimentoHistoricoItem.enviouDepartamentoAnterior}">
								<h:panelGroup layout="block" styleClass="col-md-11">
									<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{requerimentoHistoricoItem.dptoResposanvelPeloIndeferimento}">
										<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="Dep. Responsável pelo Indeferimento" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="#{!empty requerimentoHistoricoItem.responsavelRequerimentoDepartamento.nome ? 'col-md-6' : 'col-md-3'}">
										<h:outputText styleClass="tituloCampos btn-block" value="#{msg_aplic.prt_Requerimento_departamento} " />
										<h:outputText value="#{requerimentoHistoricoItem.departamento.nome}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{!empty requerimentoHistoricoItem.responsavelRequerimentoDepartamento.nome}">
										<h:outputText styleClass="tituloCampos btn-block" value="#{msg_aplic.prt_Requerimento_funcResponsavel}: " />
										<h:outputText value="#{requerimentoHistoricoItem.responsavelRequerimentoDepartamento.nome}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-3">
										<h:outputText styleClass="tituloCampos btn-block" value="Entrada Dpto " />
										<h:outputText value="#{requerimentoHistoricoItem.dataEntradaDepartamento_Apresentar}">
											<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
										</h:outputText>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-3">
										<h:outputText styleClass="tituloCampos btn-block" value="Data Início: " />
										<h:outputText value="#{requerimentoHistoricoItem.dataInicioExecucaoDepartamento_Apresentar}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-3">
										<h:outputText styleClass="tituloCampos btn-block" value="Data Conclusão: " />
										<h:outputText value="#{requerimentoHistoricoItem.dataConclusaoDepartamento_Apresentar}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{!empty requerimentoHistoricoItem.observacaoDepartamento}">
										<h:outputText styleClass="tituloCampos btn-block" value="Obs: " />
										<h:outputText value="#{requerimentoHistoricoItem.observacaoDepartamento}" />
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-1">
									<otm:commandIcon rendered="#{requerimentoHistoricoItem.questionario.codigo > 0}" render="formQuestionarioRequerimentoHistorico" oncomplete="#{RequerimentoControle.acaoModalQuestionarioRequerimentoHistorico}" action="#{RequerimentoControle.visualizarQuestionarioTramite}" icon="#{msg_botoes.btn_icon_lupa_embutido} iconePequeno" tooltip="Resp. Questionario" />
								</h:panelGroup>
							</h:panelGroup>
						</ui:define>
					</otm2:panel>
				</a4j:repeat>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelQuestionario" style="overflow:auto" shadowOpacity="false" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Questionario_tituloForm}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPanelQuestionario" />
					<rich:componentControl target="panelQuestionario" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formQuestionario">
				<a4j:repeat id="listaPergunta" rowKeyVar="row" var="perguntaItens" value="#{RequerimentoControle.requerimentoVO.questionarioVO.perguntaQuestionarioVOs}">
					<h:panelGroup layout="block" styleClass="row mb5 p10 bg-gray-100 rounded">
						<h:panelGroup layout="block" style="float: left;text-align:left;height:100%;width:calc(100% - 50px)">
							<h:outputText style="color: black;" escape="false" value="#{row+1})  #{perguntaItens.pergunta.descricao}" />
						</h:panelGroup>
					</h:panelGroup>
					<a4j:region>
						<h:panelGroup layout="block" styleClass="row mn">
							<h:panelGroup layout="block" styleClass="col-md-12 border-bottom" rendered="#{!perguntaItens.pergunta.tipoRespostaTextual and perguntaItens.pergunta.layoutHorizontal}">
								<a4j:repeat id="listaResposta" var="respostaItens" value="#{perguntaItens.pergunta.respostaPerguntaVOs}">
									<h:panelGroup layout="block" styleClass="row pl10 mb5">
										<div class="col-md-12">
											<h:panelGroup layout="block" style="float:left;">
												<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'ME'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="formQuestionario:listaPergunta:listaResposta" action="#{RequerimentoControle.validarDadosListaResposta}">
													<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-square fs14 ': 'far fa-square fs14   '}"></h:panelGroup>
												</a4j:commandLink>
												<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'SE'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="formQuestionario:listaPergunta:listaResposta" action="#{RequerimentoControle.validarDadosListaResposta}">
													<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-circle fs14  ': 'far fa-circle fs14  '}"></h:panelGroup>
												</a4j:commandLink>
											</h:panelGroup>
											<h:panelGroup id="editorFinish" style="display:block;float:left;width:calc(100% - 60px);">
												<h:outputText style="color: black;" escape="false" value="#{respostaItens.descricao}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-12 pn">
												<h:inputText size="20" rendered="#{respostaItens.selecionado and respostaItens.apresentarRespostaAdicional}" maxlength="250" styleClass="form-control campos" value="#{respostaItens.respostaAdicional}" />
											</h:panelGroup>
										</div>
									</h:panelGroup>
								</a4j:repeat>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 border-bottom" rendered="#{!perguntaItens.pergunta.tipoRespostaTextual and !perguntaItens.pergunta.layoutHorizontal}">
								<a4j:repeat id="listaResposta2" var="respostaItens" value="#{perguntaItens.pergunta.respostaPerguntaVOs}">
									<h:panelGroup layout="block" style="float:left;">
										<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'ME'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="formQuestionario:listaPergunta:listaResposta2" action="#{RequerimentoControle.validarDadosListaResposta}">
											<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-square fs14 ': 'far fa-square fs14   '}"></h:panelGroup>
										</a4j:commandLink>
										<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'SE'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="formQuestionario:listaPergunta:listaResposta2" action="#{RequerimentoControle.validarDadosListaResposta}">
											<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-circle fs14  ': 'far fa-circle fs14  '}"></h:panelGroup>
										</a4j:commandLink>
									</h:panelGroup>
									<h:panelGroup style="display:block;float:left;width:calc(100% - 60px);">
										<h:outputText style="color: black;" escape="false" value="#{respostaItens.descricao}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText size="20" rendered="#{respostaItens.selecionado and respostaItens.apresentarRespostaAdicional}" maxlength="250" styleClass="form-control campos" value="#{respostaItens.respostaAdicional}" />
									</h:panelGroup>
								</a4j:repeat>
							</h:panelGroup>
						</h:panelGroup>
					</a4j:region>
					<h:panelGroup layout="block" styleClass="col-md-12 border-bottom mb5 pb5" rendered="#{perguntaItens.pergunta.tipoRespostaTextual}">
						<h:inputTextarea styleClass="form-control " value="#{perguntaItens.pergunta.texto}" readonly="#{!RequerimentoControle.requerimentoVO.novoObj}" rendered="#{perguntaItens.pergunta.tipoRespostaTextual}" />
					</h:panelGroup>
				</a4j:repeat>
				<h:panelGroup width="100%" styleClass="tabMensagens" id="tabMensagensQuestionario">
					<h:panelGroup width="100%" columnClasses="colunaEsquerda">
						<h:outputText styleClass="field control-label mensagem col-md-12" value="#{RequerimentoControle.mensagem}" />
						<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{RequerimentoControle.mensagemDetalhada}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">
						<otm:commandButton id="salvar2" rendered="#{RequerimentoControle.requerimentoVO.novoObj}" action="#{RequerimentoControle.gravarRequerimentoComQuestionario}" oncomplete="#{rich:component('panelQuestionario')}.hide(); #{RequerimentoControle.modalPagamentoOnline}" value="#{msg_bt.btn_gravar}" accesskey="2" styleClass="btn btn-dark btn-gravar" render="form;main2, formQuestionario, formGravadoComSucesso, form, form:matricula, formPagamento" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelQuestionarioRequerimentoHistorico" style="overflow:auto" shadowOpacity="false" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Questionario_tituloForm}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPanelQuestionarioRequerimentoHistorico" />
					<rich:componentControl target="panelQuestionarioRequerimentoHistorico" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formQuestionarioRequerimentoHistorico">
				<h:panelGroup layout="block" styleClass="row">
					<a4j:repeat id="listaPerguntaRequerimentoHistorico" rowKeyVar="row" var="perguntaItens" value="#{RequerimentoControle.requerimentoHistoricoVO.questionario.perguntaQuestionarioVOs}">
						<h:panelGroup rendered="#{!perguntaItens.perguntaRestrita}">
							<h:panelGroup layout="block" styleClass="row mb5 p10 bg-gray-100 rounded">
								<h:panelGroup layout="block" style="float: left;text-align:left;height:100%;width:calc(100% - 50px)">
									<h:outputText style="color: black;" escape="false" value="#{row+1})  #{perguntaItens.pergunta.descricao}" />
								</h:panelGroup>
							</h:panelGroup>
							<a4j:region>
								<h:panelGroup layout="block" styleClass="row mn">
									<h:panelGroup layout="block" styleClass="col-md-12 border-bottom" rendered="#{!perguntaItens.pergunta.tipoRespostaTextual and perguntaItens.pergunta.layoutHorizontal}">
										<a4j:repeat id="listaRespostaRequerimentoHistorico" var="respostaItens" value="#{perguntaItens.pergunta.respostaPerguntaVOs}">
											<h:panelGroup layout="block" style="width:12px">
												<otm:commandButton disabled="true" rendered="#{perguntaItens.pergunta.tipoResposta eq 'ME'}" styleClass="#{respostaItens.selecionado ? 'checkboxMarcado': 'checkboxDesmarcado'}" render="formQuestionarioRequerimentoHistorico:listaPerguntaRequerimentoHistorico:listaRespostaRequerimentoHistorico" action="#{RequerimentoControle.validarDadosListaRespostaRequerimentoHistorico}" />
												<otm:commandButton disabled="true" rendered="#{perguntaItens.pergunta.tipoResposta eq 'SE'}" styleClass="#{respostaItens.selecionado ? 'radioboxMarcado': 'radioboxDesmarcado'}" render="formQuestionarioRequerimentoHistorico:listaPerguntaRequerimentoHistorico:listaRespostaRequerimentoHistorico" action="#{RequerimentoControle.validarDadosListaRespostaRequerimentoHistorico}" />
											</h:panelGroup>
											<h:panelGroup layout="block" style="width:280px;text-align:left;margin-left:3px;vertical-align:middle">
												<h:outputText styleClass="field control-label tituloCampos" value="#{respostaItens.descricao}" />
												<h:inputText size="20" rendered="#{respostaItens.selecionado and respostaItens.apresentarRespostaAdicional}" readonly="true" maxlength="250" styleClass="form-control campos" value="#{respostaItens.respostaAdicional}" />
											</h:panelGroup>

											<h:panelGroup layout="block" styleClass="row pl10 mb5">
												<div class="col-md-12">
													<h:panelGroup layout="block" style="float:left;">
														<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'ME'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="form:listaPerguntaVis:listaRespostaVis" action="#{RequerimentoControle.validarDadosListaResposta}">
															<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-square fs14 ': 'far fa-square fs14   '}"></h:panelGroup>
														</a4j:commandLink>
														<a4j:commandLink rendered="#{perguntaItens.pergunta.tipoResposta eq 'SE'}" styleClass="mr5" disabled="#{!RequerimentoControle.requerimentoVO.novoObj}" render="form:listaPerguntaVis:listaRespostaVis" action="#{RequerimentoControle.validarDadosListaResposta}">
															<h:panelGroup style="color: black;" styleClass="#{respostaItens.selecionado ? 'fas fa-check-circle fs14  ': 'far fa-circle fs14  '}"></h:panelGroup>
														</a4j:commandLink>
													</h:panelGroup>
													<h:panelGroup id="editorFinish" style="display:block;float:left;width:calc(100% - 60px);">
														<h:outputText style="color: black;" escape="false" value="#{respostaItens.descricao}" />
													</h:panelGroup>
													<h:panelGroup layout="block" styleClass="col-md-12 pn">
														<h:inputText size="20" rendered="#{respostaItens.selecionado and respostaItens.apresentarRespostaAdicional}" maxlength="250" styleClass="form-control campos" value="#{respostaItens.respostaAdicional}" />
													</h:panelGroup>
												</div>
											</h:panelGroup>

										</a4j:repeat>
									</h:panelGroup>
									<a4j:repeat rendered="#{!perguntaItens.pergunta.tipoRespostaTextual and !perguntaItens.pergunta.layoutHorizontal}" id="listaRespostaRequerimentoHistorico2" var="respostaItens" value="#{perguntaItens.pergunta.respostaPerguntaVOs}">
										<h:panelGroup style="background-color: transparent;text-align:left" width="100%" columnClasses="colunaEsquerda">
											<h:panelGroup layout="block" style="width:12px">
												<otm:commandButton disabled="true" rendered="#{perguntaItens.pergunta.tipoResposta eq 'ME'}" styleClass="#{respostaItens.selecionado ? 'checkboxMarcado': 'checkboxDesmarcado'}" render="formQuestionarioRequerimentoHistorico:listaPerguntaRequerimentoHistorico:listaRespostaRequerimentoHistorico2" action="#{RequerimentoControle.validarDadosListaRespostaRequerimentoHistorico}" />
												<otm:commandButton disabled="true" rendered="#{perguntaItens.pergunta.tipoResposta eq 'SE'}" styleClass="#{respostaItens.selecionado ? 'radioboxMarcado': 'radioboxDesmarcado'}" render="formQuestionarioRequerimentoHistorico:listaPerguntaRequerimentoHistorico:listaRespostaRequerimentoHistorico2" action="#{RequerimentoControle.validarDadosListaRespostaRequerimentoHistorico}" />
											</h:panelGroup>
											<h:panelGroup layout="block" style="width:580px;text-align:left;margin-left:3px;vertical-align:middle">
												<h:outputText styleClass="field control-label tituloCampos" value="#{respostaItens.descricao}" />
												<h:inputText size="20" rendered="#{respostaItens.selecionado and respostaItens.apresentarRespostaAdicional}" readonly="true" maxlength="250" styleClass="form-control campos" value="#{respostaItens.respostaAdicional}" />
											</h:panelGroup>
										</h:panelGroup>
									</a4j:repeat>
								</h:panelGroup>
							</a4j:region>
							<h:inputTextarea rendered="#{perguntaItens.pergunta.tipoRespostaTextual}" readonly="true" value="#{perguntaItens.pergunta.texto}" rows="2" cols="80" style="width:100%" styleClass="form-control campos" />
						</h:panelGroup>
					</a4j:repeat>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelGravadoComSucesso" shadowOpacity="true" width="450" height="120">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Dados Gravados"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formGravadoComSucesso">
				<h:panelGroup width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoImagemGravadoComSucesso}" styleClass="tituloCamposNegrito" />
					<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoPossuiValor}" styleClass="tituloCamposNegrito" />
					<otm:spacer width="20px" />
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
						<otm:commandButton value="Ok" icon="#{msg_botoes.btn_icon_ok_embutido}" styleClass="btn btn-info" immediate="true" oncomplete="#{rich:component('panelGravadoComSucesso')}.hide()" image="#{resource['/imagens/botaoOK.png']}" alt="OK" render="form, form:matricula" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelExcluir" shadowOpacity="true" width="320" height="120">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Excluir"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formExcluir">
				<h:panelGroup width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:outputText value="#{msg_aplic.prt_RenovarMatricula_confirmarExclusao}" styleClass="tituloCamposNegrito" />
					<otm:spacer width="20px" />
					<otm:spacer width="20px" />
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
						<otm:commandButton icon="#{msg_botoes.btn_icon_remover_embutido}" render="form:requerimento, form:mrMsg" styleClass="btn btn-danger" oncomplete="#{rich:component('panelExcluir')}.hide()" action="#{RequerimentoControle.removerArquivoRequerimento}" value="Excluir" />
						<otm:spacer width="5px" />
						<otm:commandButton icon="#{msg_botoes.btn_icon_cancelar_embutido}" immediate="true" render="panelLinkArquivo" oncomplete="#{rich:component('panelExcluir')}.hide()" styleClass="btn btn-warning" value="Não Excluir" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelCapturarImagemWebCam" zindex="2000" top="5" overlapEmbedObjects="true" shadowOpacity="false" width="750" height="500" onshow="showWebCamAPP()">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Disciplina_tirarFoto}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPanelCapturarImagemWebCam" />
					<rich:componentControl target="panelCapturarImagemWebCam" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formWebCam">
				<div id="my_camera" style="width: 320px; height: 240px;"></div>
				<br />
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
					<otm:commandButton value="Tirar Foto" icon="#{msg_botoes.btn_icon_camera_embutido}" styleClass="btn btn-primary mr5" action="#{RequerimentoControle.executarCapturarFotoWebCam}" oncomplete="take_snapshot('../UploadServlet');" />
					<otm:commandButton value="Nova Foto" icon="#{msg_botoes.btn_icon_imagem_embutido}" styleClass="btn btn-success mr5" onclick="Webcam.unfreeze();" />
					<otm:commandButton value="Gravar" icon="#{msg_botoes.btn_icon_gravar_embutido}" styleClass="btn btn-dark" render="formImagem, foto2" onclick="#{rich:component('panelCapturarImagemWebCam')}.hide(); #{rich:component('panelImagem')}.show()" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelArquivoRequerimento" zindex="2000" top="5" overlapEmbedObjects="true" shadowOpacity="false" width="450" height="120">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Disciplina_uploadArquivos}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPanelImagemRequerimento" />
					<rich:componentControl target="panelArquivoRequerimento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formArquivo">
				<script type="text/javascript">
					jQuery(function($) {
						$(document).ready(function() {
							$("#formArquivo\\:foto2").Jcrop({
								onSelect : showCoords,
								onChange : showCoords,
								bgColor : 'black',
								bgOpacity : .3,
								setSelect : [ 1, 1, 85, 113 ],
								minSize : [ 31, 21 ],
								maxSize : [ 600, 450 ]
							});
						});
					});
					function showCoords(c) {
						var valorX = document.getElementById('formArquivo:x');
						valorX.value = c.x;

						var valorY = document.getElementById('formArquivo:y');
						valorY.value = c.y;

						var valorW = document.getElementById('formArquivo:w');
						valorW.value = c.w;

						var valorH = document.getElementById('formArquivo:h');
						valorH.value = c.h;
					};
				</script>

				<h:panelGroup style="float:left" layout="block">
					<h:panelGroup width="600px">
						<otm:commandButton style="float: right;" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" value="Cancelar" action="#{RequerimentoControle.cancelar}" oncomplete="#{rich:component('panelArquivoRequerimento')}.hide();" render="formArquivo, panelLinkArquivo" title="Cancelar" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup rendered="#{RequerimentoControle.exibirBotao}" layout="block" style="float:left; clear:both;overflow:auto; min-width:455px; min-height:120px ; width:600px; height:500px;">
					<h:graphicImage url="#{RequerimentoControle.showFotoCrop}" id="foto2" />
				</h:panelGroup>
				<h:panelGroup style="display:none" layout="block">
					<h:panelGroup style="display:none" columns="6">
						<h:panelGroup>
							<h:outputText value="X" />
							<h:inputText size="4" id="x" value="#{RequerimentoControle.x}" />
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText value="Y" />
							<h:inputText size="4" id="y" value="#{RequerimentoControle.y}" />
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText value="largura" />
							<h:inputText size="4" id="w" value="#{RequerimentoControle.largura}" />
						</h:panelGroup>
						<h:panelGroup>
							<h:outputText value="altura" />
							<h:inputText size="4" id="h" value="#{RequerimentoControle.altura}" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup style="float:left" layout="block">
					<rich:fileUpload acceptedTypes="JPG,PNG,JPEG,GIF" listHeight="15" listWidth="600" noDuplicate="true" fileUploadListener="#{RequerimentoControle.upLoadArquivo}" maxFilesQuantity="1" addLabel="Selecionar Arquivo" sizeExceededLabel="Arquivo não Enviado. Tamanho Máximo 2MB" progressLabel="Enviando" uploadLabel="Enviar" serverErrorLabel="Tamanho Máximo Permitido 2MB" id="uploadImagemBanner" immediateUpload="true" rendered="#{RequerimentoControle.exibirUpload}">
						<a4j:ajax listener="#{RequerimentoControle.renderizarUpload}" event="uploadcomplete" render="formArquivo, foto2" />
					</rich:fileUpload>
					<br />
					<h:panelGroup columns="7">
						<otm:commandButton rendered="#{RequerimentoControle.exibirBotao}" styleClass="button1" action="#{RequerimentoControle.executarZoomIn}" image="#{resource['/imagens/botaoZoomIn.png']}" render="formArquivo, foto2" />
						<otm:commandButton rendered="#{RequerimentoControle.exibirBotao}" styleClass="button1" action="#{RequerimentoControle.executarZoomOut}" image="#{resource['/imagens/botaoZoomOut.png']}" render="formArquivo, foto2" />
						<otm:commandButton rendered="#{RequerimentoControle.exibirBotao}" image="#{resource['/imagens/girar90Esquerda.png']}" styleClass="button1" action="#{RequerimentoControle.rotacionar90GrausParaEsquerda}" render="formArquivo, foto2" value="Girar 90º para Esquerda" />
						<otm:commandButton rendered="#{RequerimentoControle.exibirBotao}" image="#{resource['/imagens/girar90Direita.png']}" styleClass="button1" action="#{RequerimentoControle.rotacionar90GrausParaDireita}" render="formArquivo, foto2" value="Girar 90º para Direita" />
						<otm:commandButton rendered="#{RequerimentoControle.exibirBotao}" image="#{resource['/imagens/gerar180.png']}" styleClass="button1" action="#{RequerimentoControle.rotacionar180Graus}" render="formArquivo, foto2" value="Girar 180º" />
						<otm:commandButton oncomplete="#{RequerimentoControle.oncompleteModal}" rendered="#{RequerimentoControle.exibirBotao}" image="#{resource['/imagens/botaoRecorteFoto.png']}" styleClass="button1" action="#{RequerimentoControle.recortarFoto}" render="formArquivo, foto2" value="Recorte a foto" />
						<otm:commandButton action="#{RequerimentoControle.adicionarArquivoRequerimento}" value="#{msg_bt.btn_adicionar}" oncomplete="#{rich:component('panelArquivoRequerimento')}.hide()" render="tabMensagensAux, mrMsg, mensagemDetalhada, panelLinkArquivo" styleClass="btn btn-dark btn-gravar" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelCidade" shadowOpacity="true" width="750" onshow="document.getElementById('formCidade:valorConsultaCidade').focus();" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Cidade_consultarCidade}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkCidade" />
					<rich:componentControl target="panelCidade" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formCidade">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:selectOneMenu styleClass="form-control campos" id="consultaCidade" value="#{RequerimentoControle.campoConsultaCidade}">
						<f:selectItems value="#{RequerimentoControle.tipoConsultaCidade}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:inputText id="valorConsultaCidade" size="10" styleClass="form-control campos" value="#{RequerimentoControle.valorConsultaCidade}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultar" render="formCidade:mensagemConsultaCidade, formCidade:resultadoConsultaCidade, formCidade:scResultadoCidade" action="#{RequerimentoControle.consultarCidade}" value="#{msg_bt.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaCidade" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{RequerimentoControle.listaConsultaCidade}" rows="5" var="cidadeItem">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Cidade_codigo}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RequerimentoControle.selecionarCidade}" focus="cidade" render="form:cidade" oncomplete="#{rich:component('panelCidade')}.hide()" value="#{cidadeItem.codigo}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Cidade_nome}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RequerimentoControle.selecionarCidade}" focus="cidade" render="form:cidade" oncomplete="#{rich:component('panelCidade')}.hide()" value="#{cidadeItem.nome}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Cidade_estado}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RequerimentoControle.selecionarCidade}" focus="cidade" render="form:cidade" oncomplete="#{rich:component('panelCidade')}.hide()" value="#{cidadeItem.estado.nome}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_bt.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{RequerimentoControle.selecionarCidade}" focus="cidade" render="cidade" oncomplete="#{rich:component('panelCidade')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formCidade:resultadoConsultaCidade" maxPages="10" boundaryControls="auto" stepControls="auto" fastControls="hide" id="scResultadoCidade" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaCidade" width="100%" styleClass="tabMensagens">
					<h:panelGroup width="100%">
						<h:outputText styleClass="field control-label mensagem col-md-12" value="#{RequerimentoControle.mensagem}" />
						<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{RequerimentoControle.mensagemDetalhada}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelPagamento" width="900" height="650" domElementAttachment="parent">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Formas de Pagamento" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidePagamento" />
					<rich:componentControl target="panelPagamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formPagamento">
				<h:panelGroup style="text-align:center;width:100%;">
					<h:panelGroup width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
						<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoImagemGravadoComSucesso}" styleClass="tituloCamposNegrito" />
						<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoPossuiValor}" styleClass="tituloCamposNegrito" />
						<otm:spacer width="20px" />
					</h:panelGroup>
					<h:panelGroup columns="3" style="text-align:center;width:100%;">
						<h:panelGroup layout="block" style="width: 15%; float:left;">
							<otm:commandButton title="Cartão de Crédito" rendered="#{RequerimentoControle.requerimentoVO.permitirRecebimentoCartaoCreditoOnline}" action="#{RequerimentoControle.montarDadosPagamentoOnlineCartaoCredito}" disabled="#{RequerimentoControle.desativarBotaoCartaoCredito}" style="position:relative;width:110px;float: left;" render="formPagamento" image="#{resource['/imagens/cartaoCredito.jpg']}" />
						</h:panelGroup>
						<h:panelGroup layout="block" style="position: relative;text-align: center;width: 93%">
							<h:outputText styleClass="field control-label tituloCampos" style="font-size: 25px;" value="#{msg_aplic.prt_NegociacaoRecebimento_valorTotal}: " />
							<otm:spacer width="5px" />
							<h:outputText id="totalNegociacao2" styleClass="field control-label tituloCampos" style="font-size: 20px;" value="#{RequerimentoControle.negociacaoRecebimentoVO.valorTotal}">
								<f:converter converterId="FormatadorNumerico" />
							</h:outputText>
							<h:outputText styleClass="field control-label tituloCampos" style="font-size: 25px;" rendered="#{RequerimentoControle.isApresentarResiduoPagamentoOnline}" value="#{msg_aplic.prt_NegociacaoRecebimento_valorRestante}: " />
							<otm:spacer width="5px" rendered="#{RequerimentoControle.isApresentarResiduoPagamentoOnline}" />
							<h:outputText id="residuo" rendered="#{RequerimentoControle.isApresentarResiduoPagamentoOnline}" style="font-size: 20px;" styleClass="field control-label tituloCampos" value="#{RequerimentoControle.negociacaoRecebimentoVO.residuo}">
								<f:converter converterId="FormatadorNumerico" />
							</h:outputText>
						</h:panelGroup>
						<h:panelGroup style="position: relative; float: right;top: 5px;width: 15%">
							<otm:commandButton title="Boleto Bancário" action="#{RequerimentoControle.realizarRecebimentoBoletoBancario}" oncomplete="#{RequerimentoControle.download}; #{rich:component('panelPagamento')}.hide()" render="formPagamento" style="position: relative; float: right;top: 5px;right: -5px;width: 65px;" image="#{resource['/imagens/boleto.jpg']}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" style="width:100%; height: 400px; overflow:auto;position: relative;top: 8px;">
						<rich:list id="items" rowKeyVar="row" value="#{RequerimentoControle.negociacaoRecebimentoVO.formaPagamentoNegociacaoRecebimentoVOs}" rendered="#{RequerimentoControle.negociacaoRecebimentoVO.pagamentoCartaoCredito}" var="formaPagamentoItem" style="width:100%;">
							<rich:panel header="Cartão de Crédito #{formaPagamentoItem.quantidadeCartao}" style="text-align:left;width:99%;height:100%;margin-top:5px;float:left;">
								<otm:commandButton title="Remover Cartão de Crédito" style="position: relative; float: right;top: -27px;right: -5px;" render="formPagamento" action="#{RequerimentoControle.removerCartaoCredito}" image="#{resource['/imagens/close.png']}" />
								<h:panelGroup width="80%" style="float: left;" styleClass="colunaVerticalmenteCentralizada, colunaVerticalmenteCentralizada">
									<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_NegociacaoRecebimento_operadora}" />
									<h:panelGroup>
										<h:selectOneMenu id="configuracaoFinanceiroCartao" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.configuracaoFinanceiroCartaoVO.codigo}">
											<f:selectItems value="#{formaPagamentoItem.listaSelectItemConfiguracaoFinanceiroCartao}" />
											<a4j:ajax event="change" render="formPagamento:items" listener="#{RequerimentoControle.consultarConfiguracaoFinanceiroCartao}" />
										</h:selectOneMenu>
										<h:panelGroup>
											<h:outputText styleClass="field control-label tituloCampos" value="Valor Mínimo para Recebimento R$" />
											<h:outputText styleClass="field control-label tituloCampos" value="#{formaPagamentoItem.configuracaoFinanceiroCartaoVO.valorMinimoParaRecebimentoCartao}">
												<f:converter converterId="FormatadorNumerico" />
												<!-- 												<a4j:ajax event="change" render="formPagamento" /> -->
											</h:outputText>
										</h:panelGroup>
									</h:panelGroup>
									<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_FormaPagamentoNegociacaoRecebimento_valorRecebimento}" />
									<h:inputText id="valor" size="20" maxlength="20" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.valorRecebimento}">
										<f:converter converterId="FormatadorNumerico" />
										<a4j:ajax event="change" render="formPagamento" listener="#{RequerimentoControle.calcularTotalPago}" />
									</h:inputText>
									<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_FormaPagamentoNegociacaoRecebimento_nomaCartaoCredito}" />
									<h:panelGroup id="nomeCartaoCredito">
										<h:inputText size="40" maxlength="40" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.nomeCartaoCredito}">
											<a4j:ajax event="change" render="nomeCartaoCredito" />
										</h:inputText>
										<h:graphicImage url="#{resource['/imagens/sucesso.gif']}" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.validarCampoNomeCartaoCredito}" />
									</h:panelGroup>
									<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_FormaPagamentoNegociacaoRecebimento_numeroCartao}" />
									<h:panelGroup id="numeroCartaoCredito">
										<h:inputText size="20" maxlength="20" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.numeroCartao}">
											<a4j:ajax event="change" render="numeroCartaoCredito, formPagamento:panelGridMensagens" listener="#{RequerimentoControle.validarNumeroCartaoCredito}" />
										</h:inputText>
										<h:graphicImage url="#{resource['/imagens/sucesso.gif']}" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.validarCampoNumeroCartaoCredito}" />
									</h:panelGroup>
									<h:outputText styleClass="field control-label tituloCampos" value="Mês Vencimento" />
									<h:panelGroup>
										<h:panelGroup id="mesValidade">
											<h:inputText size="2" maxlength="2" onkeydown="aceitarSomenteValorDecimal(this)" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.mesValidade}">
												<a4j:ajax event="change" render="mesValidade" />
											</h:inputText>
											<h:graphicImage url="#{resource['/imagens/sucesso.gif']}" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.validarCampoMesVencimentoCartaoCredito}" />
										</h:panelGroup>
										<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_FormaPagamentoNegociacaoRecebimento_anoVencimento}" />
										<h:panelGroup id="anoValidade">
											<h:inputText size="4" maxlength="4" onkeydown="aceitarSomenteValorDecimal(this)" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.anoValidade}">
												<a4j:ajax event="change" render="anoValidade" />
											</h:inputText>
											<h:graphicImage url="#{resource['/imagens/sucesso.gif']}" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.validarCampoAnoVencimentoCartaoCredito}" />
										</h:panelGroup>
										<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_FormaPagamentoNegociacaoRecebimento_codigoDeVerificacao}" />
										<h:panelGroup id="codigoVerificacao">
											<h:inputText size="3" maxlength="3" onkeydown="aceitarSomenteValorDecimal(this)" styleClass="form-control camposObrigatorios" value="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.codigoVerificacao}">
												<a4j:ajax event="change" render="codigoVerificacao, imagensCartao" listener="#{RequerimentoControle.esconderDicaCVCartaoCredito}" />
												<a4j:ajax event="click" render="imagensCartao" listener="#{RequerimentoControle.apresentarDicaCVCartaoCredito}" />
											</h:inputText>
											<h:graphicImage url="#{resource['/imagens/sucesso.gif']}" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.validarCampoCVCartaoCredito}" />
										</h:panelGroup>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup width="20%" id="imagensCartao" rendered="#{formaPagamentoItem.configuracaoFinanceiroCartaoVO.codigo ne 0}" styleClass="colunaVerticalmenteCentralizada, colunaVerticalmenteCentralizada">
									<h:graphicImage id="imgIcone3" rendered="#{!formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.apresentarDicaCVCartaoCredito}" url="#{resource['/imagens/cartao/#{formaPagamentoItem.configuracaoFinanceiroCartaoVO.operadoraCartaoVO.operadoraCartaoCreditoEnum.caminhoImagem}']}" width="150" height="80" />
									<h:graphicImage id="imgIcone5" rendered="#{formaPagamentoItem.formaPagamentoNegociacaoRecebimentoCartaoCreditoVO.apresentarDicaCVCartaoCredito}" url="#{resource['/imagens/cartao/exemploCVC.png']}" width="150" height="80" />
								</h:panelGroup>
							</rich:panel>
							<h:panelGroup layout="block" style="width:90%;text-align:right;top: -44px;position: relative;" rendered="#{row eq  RequerimentoControle.negociacaoRecebimentoVO.sizeListaFormaRecebimentoCartaoCreditoVOs}">
								<otm:commandButton title="Realizar Recebimento" style="position: relative;float: left; top: 49px; text-align: center;right: -5px;opacity: 1 !important;" action="#{RequerimentoControle.realizarRecebimentoCartaoCredito}" rendered="#{RequerimentoControle.negociacaoRecebimentoVO.pagamentoCartaoCredito}" oncomplete="#{RequerimentoControle.modalPagamentoOnline}; #{RequerimentoControle.modalConfirmacaoPagamento}" render="panelGridMensagens, form, formConfirmacaoPagamento" image="#{resource['/imagens/pagar.png']}" />
								<otm:commandButton title="Pagar Com Mais de Um Cartão" style="position: relative; float: right;top: 49px;right: -81px;" action="#{RequerimentoControle.adicionarNovoCartaoCredito}" rendered="#{RequerimentoControle.negociacaoRecebimentoVO.pagamentoCartaoCredito}" render="formPagamento" image="#{resource['/imagens/pagarComMaisDeUmCartao.png']}" />
							</h:panelGroup>
						</rich:list>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="panelBotoesConteudo" style="top: 15px;position: relative;margin-top: 6px;">
						<h:panelGroup id="panelGridMensagens" width="100%" styleClass="tabMensagens">
							<!-- 							<rich:effect for="panelGridForm" targetId="msgFloat2" event="onclick" type="Fade" params="delay:0.3,duration:0.5"></rich:effect> -->
							<!-- 							<rich:effect for="panelGridForm" targetId="msgFloat2" event="onkeydown" type="Fade" params="delay:0.3,duration:0.5"></rich:effect> -->
							<rich:panel style="border:none" rendered="#{RequerimentoControle.mensagemDetalhada ne '' }" id="msgFloat2" bodyClass="msgFlutuanteVisao">
								<!-- 								<rich:effect type="Appear" params="duration:0.3" /> -->
								<h:panelGroup width="100%">
									<h:panelGroup>
										<h:graphicImage id="iconeMensagem3" url="#{RequerimentoControle.iconeMensagem}" rendered="#{RequerimentoControle.sucesso}" />
										<otm:spacer width="10" />
										<h:outputText styleClass="field control-label mensagem col-md-12" value="#{RequerimentoControle.mensagem}" />
									</h:panelGroup>
									<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{RequerimentoControle.mensagemDetalhada}" />
								</h:panelGroup>
							</rich:panel>
							<h:panelGroup width="100%" style="position: relative; float: left">
								<h:panelGroup style="position: relative; float: left">
									<h:graphicImage id="imgIcone" url="#{RequerimentoControle.iconeMensagem}" rendered="#{RequerimentoControle.sucesso}" />
									<otm:spacer width="10" />
									<h:outputText styleClass="field control-label mensagem col-md-12" value="#{RequerimentoControle.mensagem}" />
								</h:panelGroup>
								<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" style="position: relative; float: left" value="#{RequerimentoControle.mensagemDetalhada}" />
							</h:panelGroup>
						</h:panelGroup>
						<h:graphicImage id="imgIcone6" style="position: relative;top: -21px;float: right;" url="#{resource['/imagens/cartao/certificadoMundiPagg.png']}" width="171" height="61" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelConfirmacaoPagamento" width="650" height="150">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Confirmação de pagamento" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkConfirmacaoPagamento" />
					<rich:componentControl target="panelConfirmacaoPagamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formConfirmacaoPagamento">
				<h:panelGroup layout="block" style="text-align: center;">
					<h:graphicImage id="imgIcone7" url="#{resource['/imagens/dadosGravadosComSucesso.png']}" />
					<h:outputText styleClass="field control-label tituloCampos" style="font-size: 25px;position:relative;top:-17px;" value="Pagamento Realizado com Sucesso!" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
					<otm:commandButton icon="#{msg_botoes.btn_icon_confirmar_embutido}" styleClass="btn btn-info" value="Confirmar" tooltip="Imprimir Comprovante" action="#{RequerimentoControle.imprimirComprovanteRecebimento}" oncomplete="#{rich:component('panelConfirmacaoPagamento')}.hide(); #{RequerimentoControle.comprovanteRecebimentoRelControle.download}" render="form" image="#{resource['/imagens/botaoEmitirComprovante.png']}" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
