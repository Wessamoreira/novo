<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
</h:head>
<ui:composition template="/visaoProfessor/template/visaoProfessor.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Aula Complementar" />
	</ui:define>
	<ui:define name="conteudo">
		<h:form id="form">
			<h:panelGroup id="panelGridPrincipal">
				<h:panelGroup id="panelCadastro">
					<h:panelGroup styleClass="col-md-12 pn">
						<h:panelGroup styleClass="col-md-1">
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{AtividadeComplementarControle.isApresentarAnoVisaoProfessorCoordenador}" value="Ano" />
							<h:inputText size="4" rendered="#{AtividadeComplementarControle.isApresentarAnoVisaoProfessorCoordenador}" disabled="#{AtividadeComplementarControle.isDesabilitarAnoVisaoProfessorCoordenador}" maxlength="4" value="#{AtividadeComplementarControle.atividadeComplementarVO.ano}" styleClass="#{AtividadeComplementarControle.consultarAtividadeComplementarProfessor ? 'form-control campos' : 'form-control camposObrigatorios'}" onkeydown="aceitarSomenteValorNumerico(this)">
								<a4j:ajax event="change" execute="form:panelCadastro" listener="#{AtividadeComplementarControle.montarListaSelectItemTurmaVisaoProfessor}" render="form:panelCadastro, form:panelMensagem" />
							</h:inputText>
						</h:panelGroup>
						<h:panelGroup styleClass="col-md-1" rendered="#{AtividadeComplementarControle.isApresentarSemestreVisaoProfessorCoordenador}">
							<h:outputText styleClass="field control-label tituloCampos" value="Semestre" rendered="#{AtividadeComplementarControle.isApresentarSemestreVisaoProfessorCoordenador}" />
							<h:selectOneMenu id="semestre2" styleClass="#{AtividadeComplementarControle.consultarAtividadeComplementarProfessor ? 'form-control campos' : 'form-control camposObrigatorios'}" value="#{AtividadeComplementarControle.atividadeComplementarVO.semestre}" rendered="#{AtividadeComplementarControle.isApresentarSemestreVisaoProfessorCoordenador}" disabled="#{AtividadeComplementarControle.isDesabilitarSemestreVisaoProfessorCoordenador}">
								<a4j:ajax event="change" execute="form:panelCadastro" listener="#{AtividadeComplementarControle.montarListaSelectItemTurmaVisaoProfessor}" render="form:panelCadastro, form:panelMensagem" />
								<f:selectItems value="#{AtividadeComplementarControle.listaSelectSemestre}" />
							</h:selectOneMenu>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText id="turmaDiario" styleClass="field control-label tituloCampos" value="Turma " />
						<h:selectOneMenu disabled="#{!AtividadeComplementarControle.atividadeComplementarVO.novoObj or !empty AtividadeComplementarControle.atividadeComplementarVO.listaAtividadeComplementarMatriculaVOs}" styleClass="#{AtividadeComplementarControle.consultarAtividadeComplementarProfessor ? 'form-control campos' : 'form-control camposObrigatorios'}" value="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo}">
							<a4j:ajax event="change" listener="#{AtividadeComplementarControle.consultarTurmaProfessor}" render="panelCadastro" />
							<f:selectItems value="#{AtividadeComplementarControle.listaSelectItemTurma}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-6" rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0 and !AtividadeComplementarControle.atividadeComplementarVO.turmaVO.turmaAgrupada and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText styleClass="field control-label tituloCampos" value="Curso" />
						<h:inputText size="40" maxlength="50" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.curso.nome}" />
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-6" rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0 and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0 and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" styleClass="field control-label tituloCampos" value="Turno" />
						<h:inputText size="40" rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0 and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" maxlength="30" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.turno.nome}" />
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-2" rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0 and !AtividadeComplementarControle.atividadeComplementarVO.turmaVO.turmaAgrupada and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_HistoricoTurma_periodoLetivo}" />
						<h:inputText size="40" maxlength="30" id="periodoLetivoDiario" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.peridoLetivo.descricao}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-4" rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0}">
						<h:outputText rendered="#{AtividadeComplementarControle.atividadeComplementarVO.turmaVO.codigo ne 0}" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_DiarioRel_disciplina}" />
						<h:selectOneMenu id="disciplinaDiario" styleClass="#{AtividadeComplementarControle.consultarAtividadeComplementarProfessor ? 'form-control campos' : 'form-control camposObrigatorios'}" disabled="#{!empty AtividadeComplementarControle.atividadeComplementarVO.listaAtividadeComplementarMatriculaVOs}" rendered="#{!AtividadeComplementarControle.desabilitarDisciplina}" value="#{AtividadeComplementarControle.atividadeComplementarVO.disciplinaVO.codigo}">
							<f:selectItems value="#{AtividadeComplementarControle.listaSelectItemDisciplina}" />
							<a4j:ajax event="change" execute="@this" />
						</h:selectOneMenu>
						<h:inputText id="disciplinaDiario2" rendered="#{AtividadeComplementarControle.desabilitarDisciplina}" styleClass="form-control camposSomenteLeitura" disabled="true" value="#{AtividadeComplementarControle.atividadeComplementarVO.disciplinaVO.nome}" />
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-2" rendered="#{!AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeComplementar_qtdeHora}" />
						<h:inputText id="qtdeHoraComplementar" size="8" value="#{AtividadeComplementarControle.atividadeComplementarVO.qtdeHoraComplementar}" styleClass="form-control camposObrigatorios" />
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-2" rendered="#{!AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeComplementar_dataAtividade}" />
						<otm:calendar id="dataAtividade" inputClass="form-control camposObrigatorios" value="#{AtividadeComplementarControle.atividadeComplementarVO.dataAtividade}"></otm:calendar>
					</h:panelGroup>
					<h:panelGroup styleClass="col-md-12" rendered="#{!AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RegistroAula_conteudo}" />
						<h:inputTextarea rows="4" cols="100" styleClass="form-control camposObrigatorios" value="#{AtividadeComplementarControle.atividadeComplementarVO.conteudo}" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center m10" rendered="#{!AtividadeComplementarControle.consultarAtividadeComplementarProfessor}">
					<otm:commandButton class="fa fa-search pull-left" value="Buscar Alunos" styleClass="btn btn-default btn-consultar" id="btnPreencherAluno" action="#{AtividadeComplementarControle.consultarHoraComplementarAluno}" alt="Localizar Aluno" render="panelGridPrincipal, panelMensagem, panelGridBotao" image="#{resource['/imagens/botaoMontarListaAlunos.png']}" />
				</h:panelGroup>
				<rich:dataTable id="items" style="width:100%" headerClass="consulta" styleClass="tabConsulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{AtividadeComplementarControle.atividadeComplementarVO.listaAtividadeComplementarMatriculaVOs}" rendered="#{AtividadeComplementarControle.apresentarResultadoAtividadeComplementar and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" var="atividadeItens">
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_matricula}" />
						</f:facet>
						<h:outputText id="matricula" value="#{atividadeItens.matriculaVO.matricula}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Matricula_situacao}" />
						</f:facet>
						<h:outputText id="situacaoMatricula" value="#{atividadeItens.matriculaVO.situacao_Apresentar}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_nome}" />
						</f:facet>
						<h:outputText id="nome" value="#{atividadeItens.matriculaVO.aluno.nome}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:panelGroup>
								<h:outputText value="#{msg_botoes.btn_opcoes}" styleClass="btn-block" />
								<h:panelGroup id="marcar_todos">
									<otm:selectBooleanCheckbox id="marcarTodas" value="#{AtividadeComplementarControle.marcarTodos}">
										<a4j:ajax event="click" execute="@this" listener="#{AtividadeComplementarControle.preencherTodosListaAluno}" render="form:items" />
									</otm:selectBooleanCheckbox>
								</h:panelGroup>
								<rich:tooltip value="Marcar Todos Alunos" target="marcar_todos" />
							</h:panelGroup>
						</f:facet>
						<h:panelGroup id="marcar_aluno">
							<otm:selectBooleanCheckbox id="marcarHoraComplementar" value="#{atividadeItens.alunoSelecionado}" styleClass="form-control campos">
								<a4j:ajax event="click" execute="@this" render="form:items" />
							</otm:selectBooleanCheckbox>
						</h:panelGroup>
						<h:panelGroup rendered="#{AtividadeComplementarControle.marcarTodos eq false}">
							<rich:tooltip target="marcar_aluno" >
								<h:outputText value="#{(atividadeItens.alunoSelecionado eq false) ? 'Marcar Aluno' : 'Desmarcar Aluno'}" />
							</rich:tooltip>
						</h:panelGroup>
						<h:panelGroup rendered="#{AtividadeComplementarControle.marcarTodos eq true}">
							<rich:tooltip target="marcar_aluno" >
								<h:outputText value="#{(atividadeItens.alunoSelecionado eq true) ? 'Desmarcar Aluno' : 'Marcar Aluno'}" />
							</rich:tooltip>
						</h:panelGroup>
					</rich:column>
				</rich:dataTable>
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="pn col-md-12 text-left mt10 mb10">
						<otm:mensagem bean="#{GestaoAvaliacaoOnlineControle}"></otm:mensagem>
					</h:panelGroup>
					<h:panelGroup styleClass="row navbar navbar-fixed-bottom barraFlutuanteInferior " layout="block">
						<otm:commandButton id="novo" style="margin-left:10px" action="#{AtividadeComplementarControle.novoVisaoProfessor}" render="form" execute="@form" value="#{msg_botoes.btn_novo}" accesskey="1" styleClass="btn btn-info btn-novo" />
						<a4j:commandLink id="btnConsultarAluno" style="margin-left:10px" render="form" execute="@form" value="#{msg_botoes.btn_consultar}" action="#{AtividadeComplementarControle.consultarAtividadeComplementarVisaoProfessor}" styleClass="btn btn-default btn-consultar">
							<span class="fa fa-search pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
							<f:setPropertyActionListener for="btnConsultarAluno" target="#{AtividadeComplementarControle.controleConsultaOtimizado.paginaAtual}" value="1" />
							<f:setPropertyActionListener for="btnConsultarAluno" target="#{AtividadeComplementarControle.controleConsultaOtimizado.page}" value="1" />
						</a4j:commandLink>
						<otm:commandButton action="#{AtividadeComplementarControle.persistir}" style="margin-left:10px" rendered="#{AtividadeComplementarControle.apresentarResultadoAtividadeComplementar and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" value="#{msg_botoes.btn_gravar}" accesskey="2" styleClass="btn btn-dark btn-gravar" />
						<otm:commandButton id="excluir" style="margin-left:10px" rendered="#{!AtividadeComplementarControle.atividadeComplementarVO.novoObj and !AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" action="#{AtividadeComplementarControle.excluir}" value="#{msg_botoes.btn_excluir}" accesskey="3" onclick="return confirm('#{msg.msg_confirmacao_excluxao}');" styleClass="btn btn-danger btn-excluir" />
					</h:panelGroup>
				</h:panelGroup>
				<rich:dataTable id="itemsAtiidadeComplementar" render="paginador" style="width:100%" headerClass="consulta" styleClass="tabConsulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{AtividadeComplementarControle.controleConsultaOtimizado}" rendered="#{AtividadeComplementarControle.controleConsultaOtimizado.apresentarListaConsulta and AtividadeComplementarControle.consultarAtividadeComplementarProfessor}" rows="10" var="atividadeComplementarItens">
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_codigo}" />
						</f:facet>
						<h:commandLink action="#{AtividadeComplementarControle.editar}" id="codigoLista" value="#{atividadeComplementarItens.codigo}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_turma}" />
						</f:facet>
						<h:commandLink action="#{AtividadeComplementarControle.editar}" id="turmaLista" value="#{atividadeComplementarItens.turmaVO.identificadorTurma}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_disciplina}" />
						</f:facet>
						<h:commandLink action="#{AtividadeComplementarControle.editar}" id="disciplinaLista" value="#{atividadeComplementarItens.disciplinaVO.nome}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_qtdeHora}" />
						</f:facet>
						<h:commandLink action="#{AtividadeComplementarControle.editar}" id="qtdeHoraComplementarLista" value="#{atividadeComplementarItens.qtdeHoraComplementar}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_AtividadeComplementar_dataAtividade}" />
						</f:facet>
						<h:commandLink action="#{AtividadeComplementarControle.editar}" id="dataAtividadeLista" value="#{atividadeComplementarItens.dataAtividade_Apresentar}" />
					</rich:column>
					<rich:column style="text-align:center !important">
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{AtividadeComplementarControle.editar}" render="form" execute="@form" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" render="itemsAtiidadeComplementar" for="itemsAtiidadeComplementar" id="paginador" page="#{ContaReceberControle.controleConsultaOtimizado.page}" scrollListener="#{AtividadeComplementarControle.scrollerListener}" rendered="#{AtividadeComplementarControle.controleConsultaOtimizado.apresentarPaginador}" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
			</h:panelGroup>
			<h:panelGrid columns="1" id="panelMensagem" width="100%" columnClasses="colunaEsquerda">
				<h:outputText styleClass="field control-label mensagem col-md-12" value="#{AtividadeComplementarControle.mensagem}" />
				<h:panelGrid columns="2" styleClass="middle">
					<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{AtividadeComplementarControle.mensagemDetalhada}" />
				</h:panelGrid>
			</h:panelGrid>
		</h:form>
	</ui:define>
</ui:composition>
</html>
