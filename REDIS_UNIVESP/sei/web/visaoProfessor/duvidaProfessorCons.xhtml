<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
</h:head>
<ui:composition template="/visaoProfessor/template/visaoProfessor.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Dúvida ao Professor" />
	</ui:define>
	<ui:define name="conteudo">

		<style type="text/css">
.rich-dtascroller-table {
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	border-radius: 5px;
}

.rich-datascr-button {
	border: none;
}

.rich-datascr-button-dsbld {
	background-color: transparent;
}

.rich-list-item {
	display: block;
}

.mceLayout {
	width: 100% !important;
	height: 100% !important;
}

.cke_top {
	display: none !important;
}

.cke_reset {
	background-color: transparent !important;
	height: 60px !important;
}

.cke_reset:hover {
	height: auto !important;
}

.interacaoForum {
	background-color: #fff;
}

.interacaoForum:hover {
	background-color: #ededed;
}

.rf-dg {
	background: none !important;
	empty-cells: show;
	left: 214px;
	position: relative;
}
</style>


		<!-- 	<ui:include src="richPanelImagem.xhtml" /> -->

		<h:form id="form">
			<!-- 			<h:panelGroup layout="block" style="float:right;position:relative; top:-10px;" id="panelPendencia"> -->
			<!-- 				<h:graphicImage url="#{resource['imagens/avisoResumido.png']}" /> -->
			<!-- 				<otm:spacer width="5px" /> -->
			<!-- 				<a4j:commandLink value="Você possui #{VisaoProfessorControle.qtdeAtualizacaoDuvidaProfessor} pendência(s)" action="#{DuvidaProfessorControle.listarTodasDuvidasNaoRespondidas}" styleClass="field control-label tituloCampos" style="position:relative; top:-5px;" render="form" /> -->
			<!-- 			</h:panelGroup> -->
			<h:panelGroup id="panelGridForm">
				<h:panelGroup layout="block" styleClass="row" id="dadosBasicos">
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<h:panelGroup layout="block" styleClass="col-md-1">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_CriterioAvaliacaoAluno_ano}" />
							<h:inputText maxlength="4" id="ano" size="4" styleClass="form-control camposObrigatorios" value="#{DuvidaProfessorControle.ano}" onkeydown="aceitarSomenteValorNumerico(this)">
								<a4j:ajax event="change" listener="#{DuvidaProfessorControle.montarListaSelectItemTurma}" render="dadosBasicos" execute="dadosBasicos" />
							</h:inputText>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-1">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Advertencia_semestre}" />
							<h:selectOneMenu styleClass="form-control camposObrigatorios" id="semestre" value="#{DuvidaProfessorControle.semestre}">
								<a4j:ajax event="change" listener="#{DuvidaProfessorControle.montarListaSelectItemTurma}" render="dadosBasicos" execute="dadosBasicos" />
								<f:selectItems value="#{EnumControle.comboboxSemestreEnum}" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Forum_turma}" />
							<h:selectOneMenu styleClass="form-control campos" value="#{DuvidaProfessorControle.turma}">
								<a4j:ajax event="change" render="form" listener="#{DuvidaProfessorControle.montarListaSelectItemDisciplina}" />
								<f:selectItem itemValue="" />
								<f:selectItems value="#{DuvidaProfessorControle.listaSelectItemTurma}" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Conteudo_disciplina}" />
							<h:selectOneMenu styleClass="form-control campos" value="#{DuvidaProfessorControle.disciplina}">
								<a4j:ajax event="change" render="dadosBasicos, minhasDuvidas, scResultadoConsultaMinhasDuvidas, panelDuvidasFrequentes, scResultadoConsultaDuvidasFrequentes , panelGridMensagens" />
								<f:selectItem itemValue="" />
								<f:selectItems value="#{DuvidaProfessorControle.listaSelectItemDisciplina}" />
							</h:selectOneMenu>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<otm:commandButton id="btnConsultar" render="dadosBasicos, minhasDuvidas, scResultadoConsultaMinhasDuvidas, panelDuvidasFrequentes, scResultadoConsultaDuvidasFrequentes , quadroResumo, panelGridMensagens" action="#{DuvidaProfessorControle.inicializarDuvidaProfessor}" value="#{msg_botoes.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
					</h:panelGroup>
				</h:panelGroup>
				<rich:tabPanel switchType="client">
					<rich:tab header="Todas as Dúvidas">
						<h:panelGroup layout="block" styleClass="row">
							<h:panelGroup layout="block" styleClass="col-md-12" id="quadroResumo">
								<otm2:dashpanel id="situacaoduvida" cols="12" stylePanelHeader=" " renderedControl="false" styleClassFooter="dn" styleClassPanel="p5" stylePanel=" ">
									<ui:define name="header">
										<i class="fas fa-question-circle border-radius-all" style="margin-top: 10px; margin-right: 5px"> </i>
										<h:outputText value="Situações Dúvida"  styleClass="fonteHeaderDashboard" disabled="true" />
									</ui:define>
									<ui:define name="body">
										<a4j:repeat value="#{DuvidaProfessorControle.quadroResumoDuvidaProfessorVOs}" var="resumoItens">
											<h:panelGroup layout="block" styleClass="col-md-2 p20" style="border:1px solid #e3e6f0; background-color: #fff; ">
												<h:panelGroup layout="block" styleClass="col-md-12 text-center">
													<h:panelGroup layout="block" styleClass="col-md-12 text-center">
														<otm:commandIcon render="minhasDuvidas, scResultadoConsultaMinhasDuvidas, quadroResumo" icon="#{resumoItens.situacaoDuvidaProfessor.icone}" action="#{DuvidaProfessorControle.consultarDuvidaProfessorFiltroSituacao}" />
													</h:panelGroup>
													<h:panelGroup layout="block" styleClass="col-md-12 text-center">
														<a4j:commandLink render="minhasDuvidas, scResultadoConsultaMinhasDuvidas, quadroResumo" action="#{DuvidaProfessorControle.consultarDuvidaProfessorFiltroSituacao}">
															<h:outputText styleClass="fs9" value="#{resumoItens.situacaoDuvidaProfessor.valorApresentar}" />
															<rich:tooltip value="#{resumoItens.situacaoDuvidaProfessor.valorApresentar}" />
														</a4j:commandLink>
													</h:panelGroup>
													<h:panelGroup layout="block" styleClass="col-md-12 text-center">
														<a4j:commandLink render="minhasDuvidas, scResultadoConsultaMinhasDuvidas, quadroResumo" action="#{DuvidaProfessorControle.consultarDuvidaProfessorFiltroSituacao}">
															<h:outputText style="font-size:13px; color: #666; margin-left:2px" styleClass="field control-label fs20" value="(#{resumoItens.quantidade})" />
														</a4j:commandLink>
													</h:panelGroup>
												</h:panelGroup>
											</h:panelGroup>
										</a4j:repeat>
									</ui:define>
								</otm2:dashpanel>
							</h:panelGroup>
							<h:panelGroup layout="block" style="width:100%; text-align:center;padding-top:30px;padding-bottom:30px" rendered="#{!DuvidaProfessorControle.duvidaProfessorProfessorVOs.apresentarListaConsulta}">
								<h:outputText escape="false" styleClass="field control-label tituloCampos" style="color:gray" value="#{msg.msg_duvida_nao_cadastrada_professor}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 mt15"></h:panelGroup>
							<rich:list id="minhasDuvidas" rowKeyVar="row" value="#{DuvidaProfessorControle.duvidaProfessorProfessorVOs}" rows="10" var="duvidaItens">
								<h:panelGroup styleClass="row border rounded ml5 interacaoForum">
									<a4j:commandLink style="cursor:pointer;z-index:1000;" action="#{DuvidaProfessorControle.editar}">
										<h:panelGroup layout="block" style="height:45px;width:45px;" styleClass="float-left text-center mr10 mt5">
											<h:graphicImage rendered="#{duvidaItens.aluno.existeImagem}" style="width: 24px;" value="#{DuvidaProfessorControle.caminhoBaseFoto}/imagem/#{duvidaItens.aluno.CPF}/#{duvidaItens.aluno.arquivoImagem.nome}" />
											<h:panelGroup rendered="#{!duvidaItens.aluno.existeImagem}" styleClass="fa fa-user fs24 text-gray-700 mt10">
											</h:panelGroup>
										</h:panelGroup>
									</a4j:commandLink>
									<h:panelGroup layout="block" styleClass="float-left p10" style="text-align:left;float:left;width:calc(100% - 60px);height:100%;">
										<a4j:commandLink style="cursor:pointer;z-index:1000;" action="#{DuvidaProfessorControle.editar}">
											<h:panelGroup layout="block" style="text-align:left;width:85%;float:left;">
												<h:panelGroup style="text-align:left;width:70%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_criadoPor}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.aluno.nome}" />
												</h:panelGroup>
												<h:panelGroup style="text-align:right;width:30%;float:right;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_dataCriacao}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.dataCadastro}">
														<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
													</h:outputText>
												</h:panelGroup>
												<h:panelGroup style="text-align:left;width:70%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_turma}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.turma.identificadorTurma}" />
												</h:panelGroup>
												<h:panelGroup style="text-align:right;width:30%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_disciplina}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.disciplina.nome}" />
												</h:panelGroup>
											</h:panelGroup>
										</a4j:commandLink>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12">
										<h:panelGroup id="texto" style="cursor:pointer;z-index:1000;">
											<otm:editor id="editor" value="#{duvidaItens.duvida}" readonly="true" autoResize="true" />
										</h:panelGroup>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 text-right">
										<otm:commandIcon icon="#{duvidaItens.situacaoDuvidaProfessor.iconeReduzido}" tooltip="Visualizar Dúvida" style="background: none; color: black !important; font-family: monospace; font-size: 13px; margin-right: 5px; margin-top: 5px" action="#{DuvidaProfessorControle.editar}" />
										<a4j:commandLink action="#{DuvidaProfessorControle.editar}" style="margin-right: 12px;">
											<h:outputText style="background: none; color: black !important; font-family: monospace; font-size: 14px !important;" value="Situação: #{duvidaItens.situacaoDuvidaProfessor.valorApresentar} " />
											<rich:tooltip value="Visualizar Dúvida" />
										</a4j:commandLink>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-6 text-left mb5 ">
										<!-- 										<a4j:commandLink style="cursor:pointer;z-index:1000;" action="#{DuvidaProfessorControle.listarTodasDuvidasNaoRespondidas}"> -->
										<!-- 											<i class="#{msg_botoes.btn_icon_alerta_triangulo_embutido} tituloCampos ml10 mr5"></i> -->
										<!-- 											<h:outputText styleClass="tituloCampos fs14" value="Você possui #{DuvidaProfessorControle.qtdeAtualizacaoDuvidaProfessor} pendência(s)"></h:outputText> -->
										<!-- 										</a4j:commandLink> -->
									</h:panelGroup>
									<!-- 									<a4j:commandLink value="Você possui #{VisaoProfessorControle.qtdeAtualizacaoDuvidaProfessor} pendência(s)" action="#{DuvidaProfessorControle.listarTodasDuvidasNaoRespondidas}" styleClass="field control-label tituloCampos" style="position:relative; top:-5px;" render="form" /> -->
									<h:panelGroup id="opcoes" layout="block" styleClass="col-md-6 text-right mb5">
										<h:panelGroup>
											<otm:commandButton icon="#{msg_botoes.btn_icon_entrar_embutido}" style="border-radius: 4px 4px 4px 4px !important;" styleClass="btn btn-primary mr5" value="#{msg_botoes.btn_entrar_duvidaprofessor}" alt="#{msg_botoes.btn_entrar_duvidaprofessor}" action="#{DuvidaProfessorControle.editar}" />
										</h:panelGroup>
										<h:panelGroup id="frequente" rendered="#{duvidaItens.permitePublicarDuvida}">
											<otm:commandButton icon="fas fa-star" styleClass="btn btn-info mr5" value="Duvida Frequente" render="frequente, panelDuvidasFrequentes, panelGridMensagens" image="#{resource['/imagens/ead/iconeDuvidaNaoFrequente.png']}" rendered="#{!duvidaItens.duvidaFrequente}" action="#{DuvidaProfessorControle.registrarDuvidaComoFrequenteTelaConsulta}" />
											<otm:commandButton icon="far fa-star" styleClass="btn btn-danger mr5" value="Não é uma Duvida Frequente" render="frequente, panelDuvidasFrequentes, panelGridMensagens" image="#{resource['/imagens/ead/iconeDuvidaFrequente.png']}" rendered="#{duvidaItens.duvidaFrequente}" action="#{DuvidaProfessorControle.registrarDuvidaComoNaoFrequenteTelaConsulta}" />
										</h:panelGroup>
									</h:panelGroup>
								</h:panelGroup>
							</rich:list>
							<rich:dataScroller align="center" for="form:minhasDuvidas" style="border:none; background-color:transparent; margin-top:5px" render="minhasDuvidas, panelGridMensagens" id="scResultadoConsultaMinhasDuvidas" scrollListener="#{DuvidaProfessorControle.paginarDuvidaProfessor}" rendered="#{DuvidaProfessorControle.duvidaProfessorProfessorVOs.apresentarDatascroller}" selectedStyle="border:none;background-color:transparent;" pagesVar="pages" boundaryControls="hide" fastControls="hide" maxPages="0" inactiveStyle="border:none; background-color:transparent;">
								<f:facet name="previous">
									<h:outputText style="width:100px;text-align:center;display:block;" styleClass="scrollLast" value="Anterior" />
								</f:facet>
								<f:facet name="next">
									<h:outputText style="width:100px;display:block;text-align:center;" styleClass="scrollNext" value="Mais Recentes" />
								</f:facet>
								<f:facet name="pages">
									<h:outputText style="width:200px;display:block;text-align:center;" styleClass="tituloCamposResultado" value="#{DuvidaProfessorControle.duvidaProfessorProfessorVOs.paginaAtual}/#{pages}" />
								</f:facet>
							</rich:dataScroller>
						</h:panelGroup>
					</rich:tab>
					<rich:tab header="Dúvidas Frequentes">
						<h:panelGroup id="panelDuvidasFrequentes" layout="block" styleClass="row">
							<h:panelGroup layout="block" style="width:100%; text-align:center;padding-top:30px;padding-bottom:30px" rendered="#{!DuvidaProfessorControle.duvidaProfessorFrequentesVOs.apresentarListaConsulta}">
								<h:outputText escape="false" styleClass="field control-label tituloCampos" style="color:gray" value="#{msg.msg_duvida_frequente_nao_cadastrada}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 mt15"></h:panelGroup>
							<rich:list id="duvidasFrequentes" rowKeyVar="row" value="#{DuvidaProfessorControle.duvidaProfessorFrequentesVOs}" rows="10" var="duvidaItens">
								<h:panelGroup styleClass="row border rounded ml5 interacaoForum">
									<a4j:commandLink style="cursor:pointer;z-index:1000;" action="#{DuvidaProfessorControle.editar}">
										<h:panelGroup layout="block" style="height:45px;width:45px;" styleClass="float-left text-center mr10 mt5">
											<h:graphicImage rendered="#{duvidaItens.aluno.existeImagem}" style="width: 24px;" value="#{DuvidaProfessorControle.caminhoBaseFoto}/imagem/#{duvidaItens.aluno.CPF}/#{duvidaItens.aluno.arquivoImagem.nome}" />
											<h:panelGroup rendered="#{!duvidaItens.aluno.existeImagem}" styleClass="fa fa-user fs24 text-gray-700 mt10" />
										</h:panelGroup>
									</a4j:commandLink>
									<h:panelGroup layout="block" styleClass="float-left p10" style="text-align:left;float:left;width:calc(100% - 60px);height:100%;">
										<a4j:commandLink style="cursor:pointer;z-index:1000;" action="#{DuvidaProfessorControle.editar}">
											<h:panelGroup layout="block" style="text-align:left;width:80%;float:left;">
												<h:panelGroup style="text-align:left;width:100%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_criadoPor}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.aluno.nome}" />
												</h:panelGroup>
												<h:panelGroup style="text-align:left;width:100%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_dataCriacao}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{duvidaItens.dataCadastro}">
														<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
													</h:outputText>
												</h:panelGroup>
											</h:panelGroup>
										</a4j:commandLink>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12">
										<h:panelGroup id="textoFrequentes" style="cursor:pointer;z-index:1000;">
											<otm:editor id="editor2" value="#{duvidaItens.duvida}" readonly="true" autoResize="true" />
										</h:panelGroup>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-12 text-right">
										<otm:commandButton icon="fas fa-question-circle" style="background: none; color: black !important; font-family: monospace; font-size: 13px; margin-right:5px" disabled="true" image="#{duvidaItens.situacaoDuvidaProfessor.iconeReduzido}" title="#{duvidaItens.situacaoDuvidaProfessor.valorApresentar}" value="#{duvidaItens.situacaoDuvidaProfessor.valorApresentar}" action="#{DuvidaProfessorControle.editar}" />
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="col-md-6"></h:panelGroup>
									<h:panelGroup id="opcoesFrequentes" layout="block" styleClass="col-md-6 text-right mb5">
										<h:panelGroup>
											<otm:commandButton icon="#{msg_botoes.btn_icon_entrar_embutido}" styleClass="btn btn-primary mr5" value="#{msg_botoes.btn_entrar_duvidaprofessor}" alt="#{msg_botoes.btn_entrar_duvidaprofessor}" action="#{DuvidaProfessorControle.editar}" />
										</h:panelGroup>
										<h:panelGroup id="frequente" rendered="#{duvidaItens.permitePublicarDuvida}">
											<otm:commandButton icon="fas fa-star" styleClass="btn btn-info mr5" value="Duvida Frequente" render="frequente, panelDuvidasFrequentes, panelGridMensagens" image="#{resource['/imagens/ead/iconeDuvidaNaoFrequente.png']}" rendered="#{!duvidaItens.duvidaFrequente}" action="#{DuvidaProfessorControle.registrarDuvidaComoFrequenteTelaConsulta}" />
											<otm:commandButton icon="far fa-star" styleClass="btn btn-danger mr5" value="Não é uma Duvida Frequente" render="frequente, panelDuvidasFrequentes, panelGridMensagens" image="#{resource['/imagens/ead/iconeDuvidaFrequente.png']}" rendered="#{duvidaItens.duvidaFrequente}" action="#{DuvidaProfessorControle.registrarDuvidaComoNaoFrequenteTelaConsulta}" />
										</h:panelGroup>
									</h:panelGroup>
								</h:panelGroup>
							</rich:list>
							<rich:dataScroller align="center" for="form:duvidasFrequentes" style="border:none; background-color:transparent; margin-top:5px" render="duvidasFrequentes, panelGridMensagens" id="scResultadoConsultaDuvidasFrequentes" scrollListener="#{DuvidaProfessorControle.paginarDuvidaProfessorFrequente}" rendered="#{DuvidaProfessorControle.duvidaProfessorFrequentesVOs.apresentarDatascroller}" selectedStyle="border:none;background-color:transparent;" pagesVar="pages" boundaryControls="hide" fastControls="hide" maxPages="0" inactiveStyle="border:none; background-color:transparent;">
								<f:facet name="previous">
									<h:outputText style="width:100px;text-align:center;display:block;" styleClass="scrollLast" value="Anterior" />
								</f:facet>
								<f:facet name="next">
									<h:outputText style="width:100px;display:block;text-align:center;" styleClass="scrollNext" value="Mais Recentes" />
								</f:facet>
								<f:facet name="pages">
									<h:outputText style="width:200px;display:block;text-align:center;" styleClass="tituloCamposResultado" value="#{DuvidaProfessorControle.duvidaProfessorFrequentesVOs.paginaAtual}/#{pages}" />
								</f:facet>
							</rich:dataScroller>
						</h:panelGroup>
					</rich:tab>
				</rich:tabPanel>
				<h:panelGroup id="panelGridMensagens" style="margin-top:5px" columns="1" width="100%" styleClass="tabMensagens">
					<otm:mensagem bean="#{DuvidaProfessorControle}"></otm:mensagem>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>
