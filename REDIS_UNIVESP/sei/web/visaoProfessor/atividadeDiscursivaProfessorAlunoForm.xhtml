<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
<h:head>
</h:head>
<ui:composition template="/visaoProfessor/template/visaoProfessor.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Atividade Discursiva" />
	</ui:define>
	<ui:define name="conteudo">
		<style type="text/css">
.rich-dtascroller-table {
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	border-radius: 5px;
}

.rich-datascr-button {
	border: none;
}

.rich-datascr-button-dsbld {
	background-color: transparent;
}

.rich-list-item {
	display: block;
}

.mceLayout {
	width: 100% !important;
	height: 100% !important;
}

.cke_top {
	display: none !important;
}

.cke_reset {
	background-color: transparent !important;
	height: 60px !important;
}

.cke_reset:hover {
	height: auto !important;
}

.interacaoForum {
	background-color: #fff;
}

.interacaoForum:hover {
	background-color: #ededed;
}

.rf-dg {
	background: none !important;
	empty-cells: show;
	left: 214px;
	position: relative;
}
</style>


		<!-- 	<ui:include src="richPanelImagem.xhtml" /> -->


		<h:form id="form">
			<h:panelGroup layout="block" id="panelGridForm" styleClass="row">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_turma}" />
						<h:inputText readonly="true" styleClass="form-control camposSomenteLeitura" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.atividadeDiscursivaVO.turmaVO.identificadorTurma}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_disciplina}" />
						<h:inputText readonly="true" id="disciplinasTurma" styleClass="form-control camposSomenteLeitura" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.atividadeDiscursivaVO.disciplinaVO.nome}" />
					</h:panelGroup>
					<!--  												<h:outputText rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarAnoVisaoProfessor}" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_ano}" />  -->
					<!--  												<h:panelGroup rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarAnoVisaoProfessor}" layout="block" style="margin-top:2px">  -->
					<!--  													<h:inputText rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarAnoVisaoProfessor}" style="width:80px;" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.ano}" />  -->
					<!--  													<otm:spacer width="209px" />  -->
					<!--  													<h:outputText rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarSemestreVisaoProfessor}" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_semestre}" />  -->
					<!--  													<h:inputText rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarSemestreVisaoProfessor}" style="width:80px;" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.semestre}" /> -->
					<!--  												</h:panelGroup>  -->
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:panelGroup layout="block" styleClass="col-md-4">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_dataliberacaoresposta}" />
						<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.dataLiberacao}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-4">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_datalimiteentrega}" />
						<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.dataLimiteEntrega}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-4">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_dataalteracao}" />
						<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.dataUpload}">
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
						</h:inputText>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_matricula}" />
						<h:inputText value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.matriculaPeriodoTurmaDisciplinaVO.matriculaObjetoVO.matricula}" readonly="true" styleClass="form-control camposSomenteLeitura" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-7">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_aluno}" />
						<h:inputText value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.matriculaPeriodoTurmaDisciplinaVO.matriculaObjetoVO.aluno.nome}" readonly="true" styleClass="form-control camposSomenteLeitura" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-3">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_situacao}" />
						<h:inputText value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva_Apresentar}" readonly="true" styleClass="form-control camposSomenteLeitura" />
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva eq 'AVALIADO'}" value="Nota" />
					<h:inputText rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva eq 'AVALIADO' and !AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.utilizaNotaConceito}" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.nota}" readonly="true" styleClass="form-control camposSomenteLeitura">
						<f:converter converterId="FormatadorNumericoPermitindoValoresNulos" />
						<f:attribute name="quantidadeCasasDecimaisPermitirAposVirgula" value="2" />
					</h:inputText>
					<h:inputText style="width:160px" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva eq 'AVALIADO' and AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.utilizaNotaConceito}" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.notaConceito.conceitoNota}" readonly="true" styleClass="form-control camposSomenteLeitura" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_enunciado}" />
					<h:inputTextarea value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.atividadeDiscursivaVO.enunciado}" readonly="true" styleClass="form-control camposSomenteLeitura" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarArtefatoEntregaTextual}">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_resposta}" />
					<h:inputTextarea value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.resposta}" readonly="true" styleClass="form-control camposSomenteLeitura" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaVO.isApresentarArtefatoEntregaUploadArquivo}">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtividadeDiscursiva_arquivo}" />
					<h:inputText value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.nomeArquivoApresentar}" styleClass="form-control camposSomenteLeitura" readonly="true" />
					<span class="append-icon right"> 
						<a4j:commandLink  oncomplete="#{AtividadeDiscursivaControle.executarDownloadArquivo}" id="selecionarArquivoParaDownload" title="Download Arquivo" >
							<span class="#{msg_botoes.btn_icon_download_embutido}" style="font-size:12px" />
						</a4j:commandLink>	
						
					</span>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="pn col-md-12 text-left mt10 mb10">
						<otm:mensagem bean="#{AtividadeDiscursivaControle}"></otm:mensagem>
					</h:panelGroup>
					<h:panelGroup styleClass="row navbar navbar-fixed-bottom barraFlutuanteInferior text-center" layout="block">
						<otm:commandButton id="avaliado" render="formNotaAluno, form:panelGridMensagens" icon="fas fa-power-off" style="margin-left:10px" value="#{msg_botoes.btn_finalizar}" oncomplete="#{rich:component('panelNotaAluno')}.show()" alt="#{msg.msg_consultar_dados}" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.isApresentarBotaoAvaliado}" action="#{AtividadeDiscursivaControle.validarAvaliacaoRespostaAluno}" styleClass="btn btn-info btn-novo" />
						<otm:commandButton id="solicitarNovaResposta" render="form:panelGridForm, form:panelGridMensagens" style="margin-left:10px" tootip="#{msg_botoes.btn_solicitar_nova_resposta}" value="#{msg_botoes.btn_solicitar_nova_resposta}" action="#{AtividadeDiscursivaControle.solicitarNovaRespostaAluno}" icon="fas fa-retweet" alt="#{msg.msg_consultar_dados}" accesskey="2" styleClass="btn btn-danger btn-excluir" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.isApresentarBotaoSolicitarNovaResposta}" />
						<otm:commandButton id="voltar" icon="fas fa-arrow-left" value="#{msg_botoes.btn_voltar}" style="margin-left:10px" tooltip="#{msg_botoes.btn_voltar}" action="#{AtividadeDiscursivaControle.voltarTelaConsultaAlunosProfessor}" styleClass="btn btn-primary dark btn-adicionar" alt="#{msg.msg_consultar_dados}" rendered="#{!AtividadeDiscursivaControle.navegarProfessorAtividadeDiscursivaMonitoramentoEad}" />
						<otm:commandButton id="voltarEad" icon="fas fa-arrow-left" style="margin-left:10px" value="#{msg_botoes.btn_voltar}" tooltip="#{msg_botoes.btn_voltar}" action="#{AtividadeDiscursivaControle.navegarProfessorAtividadeDiscursivaMonitoramentoEad}" styleClass="btn btn-primary dark btn-adicionar" alt="#{msg.msg_consultar_dados}" rendered="#{AtividadeDiscursivaControle.navegarProfessorAtividadeDiscursivaMonitoramentoEad}" />
					</h:panelGroup>
				</h:panelGroup>
				<otm:spacer height="10px" />

				<h:panelGroup layout="block" styleClass="col-md-12 mt10" style="border-bottom: solid 1px; margin-bottom: 10px; font-family: monospace;">
					<h:outputText value="#{msg_aplic.prt_AtividadeDiscursiva_interacaoalunoprofessor}" />
				</h:panelGroup>
				<h:panelGroup id="panelGridInteracao">
					<h:panelGroup id="textoInteracao">
						<h:panelGroup rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva ne 'AVALIADO'}">
							<h:panelGroup layout="block" styleClass="col-md-10">
								<h:inputTextarea pt:placeholder="Envie uma nova interação" styleClass="form-control" rows="2" value="#{AtividadeDiscursivaControle.atividadeDiscursivaInteracaoVO.interacao}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2">
								<otm:commandButton id="enviar" styleClass="btn btn-info btn-novo" execute="@form" render="form:panelGridForm" icon="#{msg_botoes.btn_icon_enviar_email_embutido}" title="#{msg_botoes.btn_EnviarMensagem}" alt="#{msg_botoes.btn_EnviarMensagem}" value="#{msg_botoes.btn_EnviarMensagem}" action="#{AtividadeDiscursivaControle.gravarInteracao}" />
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-12 mt10"></h:panelGroup>
						<rich:list id="items" rowKeyVar="row" value="#{AtividadeDiscursivaControle.controleConsultaInteracao}" rows="10" var="atividadeInteracaoItens" type="definitions" style="width:100%">
							<h:panelGroup styleClass="row border rounded ml5 interacaoForum">
								<h:panelGroup id="grid">
									<h:panelGroup style="cursor:pointer;z-index:1000;">
										<h:panelGroup layout="block" style="height:45px;width:45px;" styleClass="float-left text-center mr10 mt5">
											<h:graphicImage rendered="#{atividadeInteracaoItens.usuarioVO.pessoa.existeImagem}" style="width: 24px;" value="#{AtividadeDiscursivaControle.caminhoBaseFoto}/imagem/#{atividadeInteracaoItens.usuarioVO.pessoa.CPF}/#{atividadeInteracaoItens.usuarioVO.pessoa.arquivoImagem.nome}" />
											<h:panelGroup rendered="#{!atividadeInteracaoItens.usuarioVO.pessoa.existeImagem}" styleClass="fa fa-user fs24 text-gray-700 mt10">
											</h:panelGroup>
										</h:panelGroup>
									</h:panelGroup>
									<h:panelGroup layout="block" styleClass="float-left p10" style="text-align:left;float:left;width:calc(100% - 60px);height:100%;">
										<h:panelGroup style="cursor:pointer;z-index:1000;">
											<h:panelGroup layout="block" style="text-align:left;width:85%;float:left;">
												<h:panelGroup style="text-align:left;width:70%;float:left;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="#{msg_aplic.prt_Forum_criadoPor}: " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{atividadeInteracaoItens.usuarioVO.pessoa.nome}" />
												</h:panelGroup>
												<h:panelGroup style="text-align:right;width:30%;float:right;">
													<h:outputText styleClass="field control-label tituloCampos font-weight-bold" value="Data Interação " />
													<h:outputText styleClass="field control-label tituloCampos" value="#{atividadeInteracaoItens.dataInteracao}">
														<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
													</h:outputText>
												</h:panelGroup>
											</h:panelGroup>
										</h:panelGroup>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:panelGroup id="texto" style="cursor:pointer;z-index:1000;">
										<otm:editor id="editor" value="#{atividadeInteracaoItens.interacao}" readonly="true" autoResize="true" />
									</h:panelGroup>
								</h:panelGroup>
							</h:panelGroup>
						</rich:list>
						<h:panelGroup layout="block" styleClass="col-md-12 text-center">
							<rich:dataScroller align="center" for="form:items" render="form:itens, form:panelGridMensagens" id="scResultadoConsulta" scrollListener="#{AtividadeDiscursivaControle.scrollListenerInteracao}" rendered="#{AtividadeDiscursivaControle.controleConsultaInteracao.apresentarDatascroller}" boundaryControls="auto" fastControls="hide" stepControls="auto" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
		<rich:popupPanel styleClass="modalMaximizado" id="panelNotaAluno" shadowOpacity="true" width="600" height="250">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Confirmação"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelink5" />
					<rich:componentControl target="panelNotaAluno" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formNotaAluno">
				<h:panelGroup layout="block" id="panelNotas" styleClass="row">
					<h:panelGroup layout="block" styleClass="col-md-12" style="text-align:center;padding-bottom: 40px;">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_AtividadeDiscursivaInteracao_desejaFinalizarAtividadeDiscursiva}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-12">
						<h:panelGroup layout="block" styleClass="col-md-8">
							<h:outputText styleClass="field control-label tituloCampos" value="Tipo Nota" />
							<h:selectOneMenu disabled="#{!AtividadeDiscursivaControle.permitirInformarTipoNota}" readonly="#{!AtividadeDiscursivaControle.permitirInformarTipoNota}" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.tipoNota}" styleClass="#{AtividadeDiscursivaControle.permitirInformarTipoNota?'form-control campos':'form-control camposSomenteLeitura'}">
								<a4j:ajax event="change" listener="#{AtividadeDiscursivaControle.selecionarTipoNota}" render="panelNotas" />
								<f:selectItems value="#{AtividadeDiscursivaControle.listaSelectItemNota}" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.tipoNota ne null}" style="margin-left:10px" value="Nota" />
							<h:inputText id="notaAluno" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.tipoNota ne null and !AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.utilizaNotaConceito}" styleClass="form-control campos" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.nota}" readonly="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.situacaoRespostaAtividadeDiscursiva eq 'AVALIADO'}">
								<f:converter converterId="FormatadorNumericoPermitindoValoresNulos" />
								<f:attribute name="quantidadeCasasDecimaisPermitirAposVirgula" value="#{AtividadeDiscursivaControle.historico.configuracaoAcademico.quantidadeCasasDecimaisPermitirAposVirgula}" />
								<a4j:ajax render="formNotaAluno:notaAluno, formNotaAluno:panelGridAvaliado, form:panelGridMensagens" listener="#{AtividadeDiscursivaControle.validarNotaAvaliarRespostaAluno}" event="change" execute="@this" />
							</h:inputText>
							<h:selectOneMenu readonly="#{!AtividadeDiscursivaControle.permitirInformarTipoNota}" rendered="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.tipoNota ne null and AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.utilizaNotaConceito}" value="#{AtividadeDiscursivaControle.atividadeDiscursivaRespostaAlunoVO.notaConceito.codigo}" styleClass="form-control campos">
								<f:selectItems value="#{AtividadeDiscursivaControle.listaSelectItemNotaConceito}" />
							</h:selectOneMenu>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="pn col-md-12 text-left mt10 mb10">
						<otm:mensagem bean="#{AtividadeDiscursivaControle}"></otm:mensagem>
					</h:panelGroup>
					<h:panelGroup styleClass="row navbar navbar-fixed-bottom barraFlutuanteInferior text-center" layout="block">
						<otm:commandButton id="confirmarAvaliar" render="form:panelGridForm, formNotaAluno" icon="fas fa-check" value="#{msg_botoes.btn_confirmar}" action="#{AtividadeDiscursivaControle.avaliarRespostaAluno}" styleClass="btn btn-info btn-novo" oncomplete="#{AtividadeDiscursivaControle.oncompleteModal}" alt="#{msg.msg_consultar_dados}" accesskey="2" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
