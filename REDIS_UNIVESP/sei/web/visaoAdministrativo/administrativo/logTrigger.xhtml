<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="Log" />
	</ui:define>
	<ui:define name="conteudo">
		<h:outputScript name="autoresize.js" library="script" />
		<h:form id="form">
			<rich:tabPanel switchType="client">
				<rich:tab header="Sistema">
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Fornecedor Java" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.fornecedorJava}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Versão Java" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.versaoJava}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText value="JAVA_HOME" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.javaHome}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText value="Timezone" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.timezone}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Locale" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.local}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Horário Aplicação" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.horarioAplicacao}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Formatador Numérico" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.numeroExemplo}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura">
								<f:converter converterId="FormatadorNumerico" />
							</h:inputText>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Caminho Web" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.caminhoWeb}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Request URL" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.requestURL}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Request URI" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.requestURI}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Sistema Operacional" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.nomeSO}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Usuário" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.userSO}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Hostname" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.hostname}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>

						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Identificador Autenticação" styleClass="field control-label tituloCampos" />
							<h:inputText value="#{SistemaControle.idCliente}" size="64" readonly="true" styleClass="form-control camposSomenteLeitura" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText value="Data Autenticação" styleClass="field control-label tituloCampos" />
							<otm:calendar disabled="true" enableManualInput="false" value="#{SistemaControle.dataAutenticacao}" />
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>

				<rich:tab header="Consultar Log">
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-12 pn">
							<h:panelGroup layout="block" styleClass="col-md-2">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_LogTrigger_dataInicial}" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn h36">
									<otm:calendar jsFunction="dataInicialCalen()" id="dataInicial" value="#{LogTriggerControle.dataInicial}" styleClass="form-control" enableManualInput="true" zindex="2" showWeeksBar="false">
									</otm:calendar>
									<a4j:jsFunction name="dataInicialCalen" render="form:dataFinal"></a4j:jsFunction>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_LogTrigger_dataFinal}" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn h36">
									<otm:calendar jsFunction="dataFinalCalen()" id="dataFinal" value="#{LogTriggerControle.dataFinal}" styleClass="form-control" enableManualInput="true" zindex="2" showWeeksBar="false">
									</otm:calendar>
									<a4j:jsFunction name="dataFinalCalen" render="form:dataFinal"></a4j:jsFunction>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_LogTrigger_registrosPorPagina}" />
							<h:selectOneMenu styleClass="form-control campos" id="qtdePagina" value="#{LogTriggerControle.quantidadeRegistrosPorPagina}">
								<f:selectItems value="#{LogTriggerControle.listaQuantidadeRegistrosPorPagina}" />
								<a4j:ajax event="change" render="form:qtdePagina" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_LogTrigger_usuario}" />
							<h:selectOneMenu styleClass="form-control campos" id="usuario" value="#{LogTriggerControle.usuarioLog}">
								<f:selectItems value="#{LogTriggerControle.listaUsuarios}" />
								<a4j:ajax event="change" render="form:usuario" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_LogTrigger_tabela}" />
							<h:selectOneMenu styleClass="form-control campos" value="#{LogTriggerControle.tabela}">
								<f:selectItems value="#{LogTriggerControle.listaTabelas}" />
								<a4j:ajax event="change" listener="#{LogTriggerControle.inicializarCampos}" render="form:campos, form:registros, form:msg, form:filtrosAdd" />
							</h:selectOneMenu>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px" id="panelBotaoConsultar">
							<a4j:commandLink id="consultar" render="form" execute="form" action="#{LogTriggerControle.consultarOtimizado}" value="#{msg_bt.btn_consultar}" accesskey="4" styleClass="btn btn-default btn-consultar">
								<span class="fa fa-search pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
								<f:setPropertyActionListener target="#{LogTriggerControle.controleConsultaOtimizado.paginaAtual}" value="1" />
								<f:setPropertyActionListener target="#{LogTriggerControle.controleConsultaOtimizado.page}" value="1" />
							</a4j:commandLink>
						</h:panelGroup>
						<h:panelGroup layout="block" id="filtrosAdd" style="width:100%">
							<h:panelGroup layout="block" columns="1" rendered="#{!LogTriggerControle.isCamposVazio}" style="border:1px solid #C4C0C9;" columnClasses="colunaCentralizada" headerClass="consultaPainel" width="100%">
								<f:facet name="header">
									<h:panelGroup>
										<h:outputText rendered="#{LogTriggerControle.filtroAdicional}" style="position:relative;top:-3px" styleClass="tituloCamposReduzidosNegritoItalicoCinza" value="Ocultar Filtros Adicionais" />
										<a4j:commandLink rendered="#{LogTriggerControle.filtroAdicional}" style="width:10px" render="filtrosAdd" image="#{resource['/imagens/botaoRemoverPainelGestorPequeno.png']}">
											<f:setPropertyActionListener target="#{LogTriggerControle.filtroAdicional}" value="false" />
										</a4j:commandLink>
										<h:outputText rendered="#{!LogTriggerControle.filtroAdicional}" style="position:relative;top:-3px" styleClass="tituloCamposReduzidosNegritoItalicoCinza" value="Apresentar Filtros Adicionais" />
										<a4j:commandLink rendered="#{!LogTriggerControle.filtroAdicional}" style="width:10px" render="filtrosAdd" styleClass="btn btn-primary dark btn-adicionar">
											<f:setPropertyActionListener target="#{LogTriggerControle.filtroAdicional}" value="true" />
										</a4j:commandLink>
									</h:panelGroup>
								</f:facet>
								<h:panelGroup rendered="#{LogTriggerControle.filtroAdicional}" id="campos">
									<rich:dataTable width="100%" headerClass="consulta" var="campo" value="#{LogTriggerControle.campos}" id="campoVOs" columnClasses="colunaAlinhamento">
										<rich:column>
											<f:facet name="header">
												<h:outputText value="Usar Filtro" />
											</f:facet>
											<otm:selectBooleanCheckbox value="#{campo.selecionado}">
												<a4j:ajax event="change" listener="#{LogTriggerControle.limparRegistros}" render="form:registros, form:msg" />
											</otm:selectBooleanCheckbox>
										</rich:column>
										<rich:column filterType="custom" filter="#{FilterFactory.filter('campoVOs', 'nome', 'TEXTO')}">
											<f:facet name="header">
												<h:outputText value="Campo" />
												<h:panelGroup layout="block" styleClass="col-md-12 pn">
													<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('campoVOs', 'nome', 'TEXTO').filtro}">
														<a4j:ajax event="change" execute="@this" render="campoVOs" />
													</h:inputText>
													<span class="append-icon right"> <otm:commandIcon render="campoVOs" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('campoVOs')}" tooltip="Limpar" />
													</span>
												</h:panelGroup>
											</f:facet>
											<h:outputText value="#{campo.nome}" />
										</rich:column>
										<rich:column style="text-align:left">
											<f:facet name="header">
												<h:outputText value="Filtro" />
											</f:facet>
											<h:selectOneMenu styleClass="form-control campos" value="#{campo.tipoFiltro}">
												<f:selectItems value="#{campo.listaTiposFiltro}" />
												<a4j:ajax event="change" render="form:campos, form:msg" />
											</h:selectOneMenu>
											<otm:spacer width="8px" />
											<rich:calendar id="filtroDtIni" rendered="#{campo.apresentarFiltroDataInicial}" value="#{campo.dataInicialCampo}" inputClass="campos" oninputkeypress="return mascara(this.form, this.id, '99/99/9999', event);" onchanged="return renderData(this.id)" oninputchange="validarData(this.value,this.id)" datePattern="dd/MM/yyyy" enableManualInput="true" zindex="2" showWeeksBar="false">
												<a4j:ajax event="change" render="form:campoVOs:filtroDtIni" />
											</rich:calendar>
											<otm:spacer rendered="#{campo.apresentarFiltroDataInicial}" width="8px" />
											<rich:calendar id="filtroDtFim" rendered="#{campo.apresentarFiltroDataFinal}" value="#{campo.dataFinalCampo}" inputClass="campos" oninputkeypress="return mascara(this.form, this.id, '99/99/9999', event);" onchanged="return renderData(this.id)" oninputchange="validarData(this.value,this.id)" datePattern="dd/MM/yyyy" enableManualInput="true" zindex="2" showWeeksBar="false">
												<a4j:ajax event="change" render="form:campoVOs:filtroDtFim" />
											</rich:calendar>
											<h:inputText rendered="#{campo.apresentarFiltroInput}" id="input" styleClass="form-control campos" value="#{campo.input}">
												<a4j:ajax event="change" render="form:campoVOs:input" />
											</h:inputText>
										</rich:column>
									</rich:dataTable>
								</h:panelGroup>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup id="registros">
							<c:if test="${!LogTriggerControle.isRegistrosVazio}">
								<!-- 								<rich:dataScroller render="form:paginador2" execute="@this" align="center" for="form:resultadoConsultaRegistros" id="paginador" page="#{LogTriggerControle.controleConsultaOtimizado.page}" scrollListener="#{LogTriggerControle.scrollerListener}" rendered="#{LogTriggerControle.controleConsultaOtimizado.apresentarPaginador}" />
 -->
								<rich:dataTable id="resultadoConsultaRegistros" width="100%" headerClass="consulta" var="registro" value="#{LogTriggerControle.controleConsultaOtimizado}" rowKeyVar="row" rendered="#{LogTriggerControle.controleConsultaOtimizado.apresentarPaginador}" rows="#{LogTriggerControle.controleConsultaOtimizado.limitePorPagina}" columnClasses="colunaAlinhamento">
									<rich:column>
										<f:facet name="header">
										</f:facet>
										<h:graphicImage title="Inclusão" value="#{resource['/imagens/botaoMarcar.png']}" rendered="#{registro.action eq 'I' }"></h:graphicImage>
										<h:graphicImage title="Alteração" value="#{resource['/imagens/botaoEditar2.png']}" rendered="#{registro.action eq 'U' }"></h:graphicImage>
										<h:graphicImage title="Remoção" value="#{resource['/imagens/botaoRemover.png']}" rendered="#{registro.action eq 'D' }"></h:graphicImage>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Data" />
										</f:facet>
										<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
											<h:outputText value="#{registro.dataApresentar}" />
											<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />
										</a4j:commandLink>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Usuário" />
										</f:facet>
										<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
											<h:outputText value="#{registro.usuario}" />
											<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />
										</a4j:commandLink>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Tabela" />
										</f:facet>
										<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
											<h:outputText value="#{registro.tabela}" />
											<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />
										</a4j:commandLink>
									</rich:column>
									<!-- 									 																					A outra coluna ficaria aqui	<c:forEach var="filtro" items="#{LogTriggerControle.camposSelecionados}">  -->
									<!-- 									 																									<th>${filtro.nome}</th>  -->
									<!-- 									 																								</c:forEach>  -->
									<!-- 									 											<td><a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">  -->
									<!-- 									 										${campo.valor}  -->
									<!-- 									 										<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />  -->
									<!-- 									 												</a4j:commandLink></td>  -->
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Detalhes" />
										</f:facet>
										<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
											<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
												<h:outputText value="Consultar Todos os Campos" />
												<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />
											</a4j:commandLink>
											<otm:spacer width="16" />
											<a4j:commandLink action="#{LogTriggerControle.consultarEvento2}" oncomplete="#{rich:component('panelEvento2')}.show()" render="panelEvento2">
												<h:outputText value="Consultar Eventos na mesma Transação" />
												<f:setPropertyActionListener value="#{registro}" target="#{LogTriggerControle.registro}" />
											</a4j:commandLink>
										</a4j:commandLink>
									</rich:column>
								</rich:dataTable>
								<div style="text-align: center !important">
									<rich:dataScroller render="form:paginador" execute="@this" align="center" for="form:resultadoConsultaRegistros" id="paginador2" page="#{LogTriggerControle.controleConsultaOtimizado.page}" scrollListener="#{LogTriggerControle.scrollerListener}" rendered="#{LogTriggerControle.controleConsultaOtimizado.apresentarPaginador}" />
								</div>
							</c:if>
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>

				<rich:tab switchType="client" header="Ativa/Desativar Log por Tabela">
					<rich:dataTable width="100%" render="scrolltabelasTrigger" headerClass="consulta" rows="10" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" var="triggerItens" value="#{LogTriggerControle.listaTriggers}" id="tabelasTrigger">
						<rich:column filterType="custom" filter="#{FilterFactory.filter('tabelasTrigger', 'tabela', 'TEXTO')}">
							<f:facet name="header">
								<h:outputText value="Tabela" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn">
									<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('tabelasTrigger', 'tabela', 'TEXTO').filtro}">
										<a4j:ajax event="change" execute="@this" render="tabelasTrigger" />
									</h:inputText>
									<span class="append-icon right"> <otm:commandIcon render="tabelasTrigger" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('tabelasTrigger')}" tooltip="Limpar" />
									</span>
								</h:panelGroup>
							</f:facet>
							<h:outputText value="#{triggerItens.tabela}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Dados" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoTabela}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Indices" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoIndice}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Toast" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoToast}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Status" />
							</f:facet>
							<h:outputText value="#{triggerItens.status}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Tabela de Log" />
							</f:facet>
							<a4j:region>
								<!-- 									<a4j:status>
										<f:facet name="start">
											<a4j:commandLink styleClass="btn btn-orange btn-mini">
												<i class="tooltip-test font16 icon-time" data-original-title="Aguarde"> </i> Aguarde...
							        </a4j:commandLink>
										</f:facet>
										<f:facet name="stop">
											<a4j:commandLink styleClass="btn btn-orange btn-mini" action="#{LogTriggerControle.ativarDesativarTriggerTabela}" render="form">
												<f:setPropertyActionListener value="#{triggerItens}" target="#{LogTriggerControle.trigger}" />
												<i class="tooltip-test font16 icon-off" data-original-title="Alterar"> </i> Alterar
									</a4j:commandLink>
										</f:facet>
									</a4j:status> -->
							</a4j:region>
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller for="tabelasTrigger" boundaryControls="auto" fastControls="hide" stepControls="auto" render="tabelasTrigger" id="scrolltabelasTrigger" />
							</div>
						</f:facet>
					</rich:dataTable>
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<h:panelGroup>
							<otm:commandButton id="ativarTabela" immediate="true" action="#{LogTriggerControle.ativarTodasTriggersTabelas}" value="Ativar Todas Tabelas" styleClass="btn btn-primary" icon="#{msg_botoes.btn_icon_ativar_embutido}" accesskey="1" image="#{resource['/imagens/botaoAtivarTodasTabelas.png']}" />
							<otm:spacer width="5px;" />
							<otm:commandButton id="desativarTabela" immediate="true" action="#{LogTriggerControle.desativarTodasTriggersTabelas}" value="Desativar Todas Tabelas" styleClass="btn btn-danger" icon="#{msg_botoes.btn_icon_cancelar_embutido}" accesskey="2" image="#{resource['/imagens/botaoDesativarTodasTabelas.png']}" />
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>

				<rich:tab switchType="client" header="Executar Query">
					<h:panelGroup id="abaQuery" layout="block" styleClass="row">
						<h:panelGroup layout="block" id="sqlQuery" style="width:100%;text-align:center;padding:5px">
							<h:inputTextarea style="width:98%; min-height:300px; height:300px" value="#{LogTriggerControle.query.query}" />
						</h:panelGroup>
						<h:panelGroup id="btnsRel" layout="block" styleClass="row text-center" style="margin:10px">
							<a4j:commandLink oncomplete="resize()" action="#{LogTriggerControle.irPaginaInicial}" styleClass="btn btn-primary" value="Realizar Consulta Query" render="msg, resultadoConsultaQuery, scrResultado, btnsRel, abaQuery">
								<span class="#{msg_botoes.btn_icon_lupa_embutido} pull-left" style="margin-right: 0.8em; position: relative; top: 1px; font-size: 14px;" />
								<f:setPropertyActionListener target="#{PerguntaControle.controleConsultaOtimizado.paginaAtual}" value="1" />
								<f:setPropertyActionListener target="#{PerguntaControle.controleConsultaOtimizado.page}" value="1" />
							</a4j:commandLink>
							<otm:spacer width="5px" />
							<otm:commandButton oncomplete="#{rich:component('panelGravarQuery')}.show()" styleClass="btn btn-dark" value="Gravar" icon="#{msg_botoes.btn_icon_gravar_embutido}" render="msg, formGravarQuery" />
							<otm:spacer width="5px" />
							<otm:commandButton oncomplete="#{rich:component('panelQuerys')}.show()" action="#{LogTriggerControle.consultarQuerys}" value="Consultar Querys" styleClass="btn btn-info" icon="#{msg_botoes.btn_icon_lupa_embutido}" image="#{resource['/imagens/botaoConsultarQuery.png']}" render="msg, formQuerys" />
							<otm:spacer rendered="#{!empty LogTriggerControle.resultadoConsultaQuery}" width="5px" />
							<otm:commandButton render="form:btnsRel" id="imprimirExcel" rendered="#{!empty LogTriggerControle.resultadoConsultaQuery}" oncomplete="#{LogTriggerControle.download}" action="#{LogTriggerControle.realizarGeracaoRelatorio}" value="Gerar Relatório (Excel)" styleClass="btn btn-success" icon="#{msg_botoes.btn_icon_excel_embutido}" />
							<otm:spacer rendered="#{!empty LogTriggerControle.resultadoConsultaQuery}" width="5px" />
							<otm:commandButton render="form:btnsRel" id="imprimirCsv" rendered="#{!empty LogTriggerControle.resultadoConsultaQuery}" oncomplete="#{LogTriggerControle.download}" action="#{LogTriggerControle.realizarGeracaoRelatorioCsv}" value="Gerar Relatório (CSV)" styleClass="btn btn-warning" icon="#{msg_botoes.btn_icon_gerar_relatorio_embutido}" image="#{resource['/imagens/botaoGerarRelatorioCSV.png']}" />
						</h:panelGroup>

						<style>
.panelNotasHead {
	min-width: inherit;
	display: inline-flex;
	float: left;
	overflow: auto;
}

.panelTodosHead {
	min-width: inherit;
	width: calc(104% - 130px);
	float: left;
	overflow: auto;
}

.panelTodosHead::-webkit-scrollbar {
	height: 10px !important;
	padding-top: 5px;
	padding-bottom: 5px;
}

.panelTodosHead::-webkit-scrollbar-thumb {
	display: block !important;
	background-color: #c7c7c7 !important;
	scrollbar-color: #c7c7c7 transparent !important;
	height: 20px !important;
}

.panelNotasOpcoesHead {
	display: block;
	width: calc(100% - 20%);
	float: left;
}

.rf-edt-c-colunaMatricula {
	width: 180px !important;
	min-width: 180px !important;
	vertical-align: baseline !important;
	padding: 0px !important;
}

.panelNotasOpcoes {
	display: block;
	width: calc(100% - 20%);
	float: left;
}

.panelNotas {
	min-width: inherit;
	overflow-x: auto;
	overflow-y: hidden;
	display: inline-flex;
}

@media ( max-width : 780px) {
	.panelNotasHead {
		width: calc(100% - 40px) !important;
		min-width: calc(100% - 40px) !important;
	}
	.panelNotasOpcoesHead {
		width: calc(100%);
	}
	.panelNotasOpcoes {
		width: calc(100%);
	}
	.panelNotas {
		width: calc(100% - 40px) !important;
		min-width: calc(100% - 40px) !important;
	}
}
</style>
						<script>
							(function($) {
								$(document)
										.ready(
												function() {

													$('.panelNotas')
															.on(
																	'scroll',
																	function() {
																		$(
																				'.panelNotasHead')
																				.scrollLeft(
																						$(
																								this)
																								.scrollLeft());
																		$(
																				'.labelAluno2')
																				.css(
																						"left",
																						$(
																								this)
																								.scrollLeft() + 5);
																	});
													$('.panelNotasHead')
															.on(
																	'scroll',
																	function() {
																		$(
																				'.panelNotas')
																				.scrollLeft(
																						$(
																								this)
																								.scrollLeft());
																		$(
																				'.labelAluno2')
																				.css(
																						"left",
																						$(
																								this)
																								.scrollLeft() + 5);
																	});
												});

								nextInputTable = function(id) {
									$(id).next().focus();
								};
							}(jQuery));
						</script>

						<h:panelGroup id="resultadoConsultaQuery" layout="block" rendered="#{!empty LogTriggerControle.resultadoConsultaQuery}" styleClass="row text-center ">
							<div class="panelTodosHead">
								<div class="panelNotasOpcoes float-left">
									<div class="panelNotas" style="max-height: 400px; overflow: auto">
										<table id="resultadoQuery">
											<thead class="rf-dt-thd">
												<tr class="rf-dt-shdr headerTable">
													<a4j:repeat id="resultados" rowKeyVar="row" value="#{LogTriggerControle.resultadoConsultaQuery[0]}" var="resultado">
														<th class="rf-dt-shdr-c" style="#{((resultado.linha - 1) % 10 eq 0) ? '' : 'display:none'}"><h:outputText value="#{LogTriggerControle.colunas[resultado.coluna-1]}" /></th>
													</a4j:repeat>
												</tr>
											</thead>
											<tbody class="rf-dt-b">
												<a4j:repeat id="resultadosLinha" rowKeyVar="row" value="#{LogTriggerControle.resultadoConsultaQuery}" rows="10" var="resultadoLinha">
													<tr class="rf-dt-r">
														<a4j:repeat id="resultadosItem" rowKeyVar="row" value="#{resultadoLinha}" var="resultadoItem">
															<td class="rf-dt-c columTable" style="white-space: nowrap;"><h:outputText styleClass="tituloCampos" value="#{resultadoItem.valor}" style="text-align:center" /></td>
														</a4j:repeat>
													</tr>
												</a4j:repeat>
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-12 text-center m5">
							<rich:dataScroller render="form:abaQuery" boundaryControls="auto" stepControls="auto" fastControls="hide" for="resultadosLinha" limitRender="10" page="#{LogTriggerControle.controleConsultaOtimizado.page}" scrollListener="#{LogTriggerControle.scrollerListener2}" />
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>
				<rich:tab switchType="client" header="Logs Disponíveis">
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText styleClass="field control-label tituloCampos" value="Extrair Log do Mês" />
						<h:selectOneMenu id="mes" styleClass="form-control camposObrigatorios" value="#{LogTriggerControle.mes}">
							<a4j:ajax event="change" render="mes" />
							<f:selectItems value="#{LogTriggerControle.listaMes}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText styleClass="field control-label tituloCampos" value="e Ano" />
						<h:selectOneMenu id="ano" styleClass="form-control camposObrigatorios" value="#{LogTriggerControle.ano}">
							<a4j:ajax event="change" render="ano" />
							<f:selectItems value="#{LogTriggerControle.listaAno}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<otm:spacer width="10px" />
					<a4j:region>
						<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
							<otm:commandButton action="#{LogTriggerControle.realizarInicioProgressBar}" render="panelProgressBar, msg" oncomplete="executarExtracao()" value="Exportar Log" styleClass="btn btn-default" icon="#{msg_botoes.btn_icon_atualizar_embutido}" />
							<a4j:jsFunction name="executarExtracao" render="logs, msg, panelProgressBar" action="#{LogTriggerControle.realizarCriacaoTabelaLogMesAno}" />
							<rich:popupPanel styleClass="modalMaximizado" id="panelProgressBar" width="420" domElementAttachment="parent" show="#{LogTriggerControle.progressBarVO.ativado}" height="35" autosized="false">
								<rich:progressBar minValue="-1" enabled="#{LogTriggerControle.progressBarVO.ativado}" maxValue="#{LogTriggerControle.progressBarVO.maxValue}" interval="1000" style="width: 400px" value="#{LogTriggerControle.progressBarVO.progresso}" render="panelProgressBar, msg, logs" label="#{LogTriggerControle.progressBarVO.status}" renderAfterComplete="panelProgressBar, logs">
									<h:outputText styleClass="field control-label tituloCampos" value="#{LogTriggerControle.progressBarVO.status}" />
								</rich:progressBar>
							</rich:popupPanel>
						</h:panelGroup>
					</a4j:region>
					<rich:dataTable width="100%" render="scrLogs" rows="10" headerClass="consulta" var="triggerItens" rendered="#{!empty LogTriggerControle.tabelasLog}" value="#{LogTriggerControle.tabelasLog}" id="logs" columnClasses="colunaAlinhamento">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Nome Tabela" />
							</f:facet>
							<h:outputText value="#{triggerItens.tabela}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Mês/Ano Referência" />
							</f:facet>
							<h:outputText value="#{triggerItens.mesAnoLog}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Dados" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoTabela}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Indices" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoIndice}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Toast" />
							</f:facet>
							<h:outputText value="#{triggerItens.tamanhoToast}" />
						</rich:column>
					</rich:dataTable>
					<rich:dataScroller for="form:logs" stepControls="auto" fastControls="hide" boundaryControls="auto" render="form:logs" id="scrLogs" />
				</rich:tab>
				<rich:tab switchType="client" id="abaBloq" header="Bloqueios de Execução">
					<h:panelGroup layout="block" styleClass="row" id="panelBloqs">
						<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
							<otm:commandButton render="abaBloq" action="#{LogTriggerControle.buscarListaBloqueio}" styleClass="btn btn-default" value="Buscar Lista Bloqueio" icon="#{msg_botoes.btn_icon_lupa_embutido}" />
						</h:panelGroup>
						<rich:dataGrid style="width:80%" var="bloqFuncao" rendered="#{!empty LogTriggerControle.bloqueioFuncaoVOs}" columns="1" value="#{LogTriggerControle.bloqueioFuncaoVOs}" columnClasses="colunaAlinhamento">
							<rich:panel header="#{bloqFuncao.bloqueioFuncaoEnum}">
								<rich:dataTable value="#{bloqFuncao.listaFuncaoBloqueadaVO}" var="funcBloqueada" columnClasses="colunaAlinhamento">
									<rich:column style="width:20%">
										<f:facet name="header">
											<h:outputText value="Codigo" styleClass="label" />
										</f:facet>
										<h:outputText value="#{funcBloqueada.codigo}" />
									</rich:column>
									<rich:column style="width:60%">
										<f:facet name="header">
											<h:outputText value="Descrição" styleClass="label" />
										</f:facet>
										<h:outputText value="#{funcBloqueada.descricao}" />
									</rich:column>
									<rich:column style="width:20%">
										<f:facet name="header">
											<h:outputText value="Opções" styleClass="label" />
										</f:facet>
										<otm:commandIcon action="#{LogTriggerControle.revomerBloqueioTelaLotTrigger}" onclick="return confirm('#{msg.msg_confirmacao_liberacaoBloqueioLogTrigger}');" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Revomer Bloqueio Tela Lot Trigger" />
									</rich:column>
								</rich:dataTable>
							</rich:panel>
						</rich:dataGrid>
					</h:panelGroup>
				</rich:tab>
				<rich:tab switchType="client" id="abaElastic" header="Elastic">
					<h:panelGroup layout="block" id="indices" styleClass="row">
						<h:panelGroup layout="block" styleClass="row">
							<h:panelGroup layout="block" styleClass="col-md-5 ">
								<otm:spacer width="100" />
								<h:selectOneRadio id="opcoesPesquisa" value="#{IndiceElasticControle.indiceElastic}" styleClass="form-control" enabledClass="tituloCampos  ml5 mr10" disabledClass="tituloCampos ml5 mr10">
									<f:selectItems value="#{IndiceElasticControle.listaSelectItemIndiceElastic}" />
									<a4j:ajax event="click" render="indices, msg" listener="#{IndiceElasticControle.realizarConsultaIndiceElastic}" />
								</h:selectOneRadio>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-5">
								<h:outputText styleClass="field control-label tituloCampos" value="URL" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn">
									<h:inputText styleClass="form-control campos" size="32" readonly="#{not empty IndiceElasticControle.indiceElasticVO.nome}" value="#{IndiceElasticControle.indiceElasticVO.url}" />
									<span class="append-icon right">
										<otm:commandIcon rendered="#{empty IndiceElasticControle.indiceElasticVO.nome}" render="indices, msg" action="#{IndiceElasticControle.incluirIndice}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" tooltip="Adicionar URL do Índice" />
										<otm:commandIcon rendered="#{not empty IndiceElasticControle.indiceElasticVO.nome}" render="indices, msg" action="#{IndiceElasticControle.excluirIndice}" icon="#{msg_botoes.btn_icon_remver_embutido}" tooltip="Excluir URL do Índice" />
									</span>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2 ">
								<otm:spacer width="100" />
								<otm:commandButton render="indices, msg" styleClass="btn btn-info btn-block" action="#{IndiceElasticControle.atualizarInformacoesElastic}" value="Atualizar Índice" icon="#{msg_botoes.btn_icon_atualizar_embutido}" />
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<rich:dataTable value="#{IndiceElasticControle.indiceElasticVO.versoes}" var="versao" columnClasses="colunaAlinhamento">
								<f:facet name="header">
									<rich:columnGroup>
										<rich:column colspan="3">
											<h:panelGroup layout="block" styleClass="col-md-12 pn">
												<h:outputText rendered="#{not empty IndiceElasticControle.indiceElasticVO.nome}" value="Adicionar Nova Versão do Índice" />
												<h:panelGroup layout="block" styleClass="col-md-12 pn">
													<h:inputText rendered="#{not empty IndiceElasticControle.indiceElasticVO.nome}" size="32" styleClass="form-control campos" value="#{IndiceElasticControle.indiceVersaoElasticVO.numero}" />
													<span class="append-icon right"> <otm:commandIcon rendered="#{not empty IndiceElasticControle.indiceElasticVO.nome}" render="indices, msg" action="#{IndiceElasticControle.incluirVersao}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" tooltip="Adicionar Versionamento do Índice" />
													</span>
												</h:panelGroup>
											</h:panelGroup>
										</rich:column>
										<rich:column breakRowBefore="true">
											<h:outputText value="Versão do Índice" styleClass="label" />
										</rich:column>
										<rich:column>
											<h:outputText value="Registros" styleClass="label" />
										</rich:column>
										<rich:column>
											<h:outputText value="Opções" styleClass="label" />
										</rich:column>
									</rich:columnGroup>
								</f:facet>
								<rich:column>
									<h:outputText value="#{versao.numero}" />
								</rich:column>
								<rich:column>
									<h:outputText value="#{versao.registros}" />
								</rich:column>
								<rich:column>
									<h:panelGroup>
										<otm:commandIcon rendered="#{!versao.ativo}" render="indices, msg" action="#{IndiceElasticControle.ativarVersao}" icon="#{msg_botoes.btn_icon_ativar} iconePequeno" />
										<otm:commandIcon rendered="#{versao.ativo}" render="indices, msg" action="#{IndiceElasticControle.agendarVersao}" icon="#{msg_botoes.btn_icon_engrenagem} iconePequeno" />
									</h:panelGroup>
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<rich:dataTable value="#{IndiceElasticControle.sincronismos}" var="sincronismo">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="10 últimos sincronismos" styleClass="label" />
									</f:facet>
									<h:outputText escape="false" value="#{sincronismo.resumo}" />
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<rich:dataTable value="#{IndiceElasticControle.excecoesPesquisa}" var="ex_pesquisa">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Exceções Pesquisa: #{IndiceElasticControle.totalExcecoesPesquisa}" styleClass="label" />
									</f:facet>
									<h:outputText value="#{ex_pesquisa.criado} #{ex_pesquisa.mensagem}" />
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<rich:dataTable value="#{IndiceElasticControle.excecoesAgendamento}" var="ex_fila">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Exceções Agendamento: #{IndiceElasticControle.totalExcecoesAgendamento}" styleClass="label" />
									</f:facet>
									<h:outputText value="#{ex_fila.criado} #{ex_fila.mensagem}" />
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<rich:dataTable value="#{IndiceElasticControle.excecoesSincronismo}" var="ex_sync">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="Exceções Sincronismo: #{IndiceElasticControle.totalExcecoesSincronismo}" styleClass="label" />
									</f:facet>
									<h:outputText value="#{ex_sync.criado} #{ex_sync.mensagem}" />
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
					</h:panelGroup>
					<otm:mensagem bean="#{IndiceElasticControle}"></otm:mensagem>
				</rich:tab>
				<rich:tab switchType="client" id="tabQueryAtivaLog" header="Query Ativa LogTrigger">
					<h:panelGroup layout="block" styleClass="row" id="panelQueryAtivaLog">
						<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
							<otm:commandButton render="form:panelQueryAtivaLog" action="#{LogTriggerControle.consultarQueryAtivaLogTrigger}" styleClass="btn btn-default" value="Consultar Query Ativa Log Trigger" icon="#{msg_botoes.btn_icon_lupa_embutido}" />
						</h:panelGroup>
						<rich:dataTable value="#{LogTriggerControle.listaQueryAtivaVOs}" rendered="#{!empty LogTriggerControle.listaQueryAtivaVOs}" var="listaQueryLock" columnClasses="colunaAlinhamento">
							<rich:column style="width:7%">
								<f:facet name="header">
									<h:outputText value="PID" styleClass="label" />
								</f:facet>
								<h:outputText value="#{listaQueryLock.pid}" />
							</rich:column>
							<rich:column style="width:10%">
								<f:facet name="header">
									<h:outputText value="Usuário Banco Dados" styleClass="label" />
								</f:facet>
								<h:outputText value="#{listaQueryLock.usuarioBancoDados}" />
							</rich:column>
							<rich:column style="width:8%">
								<f:facet name="header">
									<h:outputText value="Situação" styleClass="label" />
								</f:facet>
								<h:outputText value="#{listaQueryLock.situacao}" />
							</rich:column>
							<rich:column style="width:15%">
								<f:facet name="header">
									<h:outputText value="Nome Aplicação Que Executou" styleClass="label" />
								</f:facet>
								<h:outputText value="#{listaQueryLock.nomeAplicacao}" />
							</rich:column>
							<rich:column style="width:80%">
								<f:facet name="header">
									<h:outputText value="Query que está sendo executada" styleClass="label" />
								</f:facet>
								<h:outputText value="#{listaQueryLock.query}" />
							</rich:column>
							<rich:column style="width:15%">
								<f:facet name="header">
									<h:outputText value="Opções" styleClass="label" />
								</f:facet>
								<otm:commandIcon action="#{LogTriggerControle.cancelarQueryAtivaLogTrigger}" render="form:panelQueryAtivaLog" icon="#{msg_botoes.btn_icon_cancelar} iconePequeno" tooltip="Cancelar Query Ativa Log Trigger" />
							</rich:column>
						</rich:dataTable>
					</h:panelGroup>
				</rich:tab>
			</rich:tabPanel>
			<h:panelGroup id="msg">
				<otm:mensagem bean="#{LogTriggerControle}"></otm:mensagem>
			</h:panelGroup>
		</h:form>
		<rich:popupPanel styleClass="modalMaximizado" id="panelGravarQuery" autosized="true" shadowOpacity="true" width="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Gravar Query"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkpanelGravarQuery" />
					<rich:componentControl target="panelGravarQuery" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formGravarQuery">
				<h:panelGroup layout="block" columns="2" columnClasses="colunaVerticalmenteCentralizado, colunaVerticalmenteCentralizado" width="100%">
					<h:outputText styleClass="field control-label tituloCampos" value="Nome" />
					<h:inputText styleClass="form-control camposObrigatorios" size="30" maxlength="250" value="#{LogTriggerControle.query.action}" />
				</h:panelGroup>
				<h:panelGroup layout="block" id="msgIncluir" columns="1" width="100%" columnClasses="colunaEsquerda">
					<h:outputText styleClass="field control-label mensagem col-md-12" value="#{LogTriggerControle.mensagem}" />
					<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{LogTriggerControle.mensagemDetalhada}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
					<a4j:commandButton action="#{LogTriggerControle.incluirQuery}" render="msgIncluir, formGravarQuery" image="#{LogTriggerControle.query.id > 0 ? 'resources/imagens/botaoClonar.png' : 'resources/imagens/botaoGravar.png' }" />
					<otm:spacer width="5px" rendered="#{LogTriggerControle.query.id > 0}" />
					<a4j:commandButton rendered="#{LogTriggerControle.query.id > 0}" render="msgIncluir, formGravarQuery" action="#{LogTriggerControle.alterarQuery}" image="#{resource['/imagens/botaoAlterar.png']}" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelQuerys" top="10px" shadowOpacity="true" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Querys Existentes"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkpanelQuerys" />
					<rich:componentControl target="panelQuerys" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formQuerys">
				<h:panelGroup id="painelListaQuery" layout="block" style="width:100%">
					<rich:dataTable rendered="#{!empty LogTriggerControle.querys}" id="listaQuerys" width="100%" rows="5" value="#{LogTriggerControle.querys}" var="query">
						<rich:column filterType="custom" filter="#{FilterFactory.filter('listaQuerys', 'id', 'INTEIRO')}">
							<f:facet name="header">
								<h:outputText value="Id" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn">
									<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('listaQuerys', 'id', 'INTEIRO').filtro}">
										<a4j:ajax event="change" execute="@this" render="listaQuerys" />
									</h:inputText>
									<span class="append-icon right"> <otm:commandIcon render="listaQuerys" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('listaQuerys')}" tooltip="Limpar" />
									</span>
								</h:panelGroup>
							</f:facet>
							<a4j:commandLink oncomplete="#{rich:component('panelQuerys')}.hide()" render="msg, sqlQuery" action="#{LogTriggerControle.selecionarQuery}">
								<h:outputText value="#{query.id}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('listaQuerys2', 'action', 'TEXTO')}">
							<f:facet name="header">
								<h:outputText value="Id" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn">
									<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('listaQuerys2', 'action', 'TEXTO').filtro}">
										<a4j:ajax event="change" execute="@this" render="listaQuerys" />
									</h:inputText>
									<span class="append-icon right"> <otm:commandIcon render="listaQuerys" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('listaQuerys2')}" tooltip="Limpar" />
									</span>
								</h:panelGroup>
							</f:facet>
							<a4j:commandLink oncomplete="#{rich:component('panelQuerys')}.hide()" render="msg, sqlQuery" action="#{LogTriggerControle.selecionarQuery}">
								<h:outputText value="#{query.action}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Data"></h:outputText>
							</f:facet>
							<a4j:commandLink oncomplete="#{rich:component('panelQuerys')}.hide()" render="msg, sqlQuery" action="#{LogTriggerControle.selecionarQuery}">
								<h:outputText value="#{query.data}">
									<f:convertDateTime pattern="dd/MM/yyyy HH:mm:ss" />
								</h:outputText>
							</a4j:commandLink>
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('listaQuerys3', 'usuario', 'TEXTO')}">
							<f:facet name="header">
								<h:outputText value="Usuário" />
								<h:panelGroup layout="block" styleClass="col-md-12 pn">
									<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('listaQuerys3', 'usuario', 'TEXTO').filtro}">
										<a4j:ajax event="change" execute="@this" render="listaQuerys" />
									</h:inputText>
									<span class="append-icon right"> <otm:commandIcon render="listaQuerys" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('listaQuerys3')}" tooltip="Limpar" />
									</span>
								</h:panelGroup>
							</f:facet>
							<a4j:commandLink oncomplete="#{rich:component('panelQuerys')}.hide()" render="msg, sqlQuery" action="#{LogTriggerControle.selecionarQuery}">
								<h:outputText value="#{query.usuario}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Usuário"></h:outputText>
							</f:facet>
							<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
								<otm:commandButton oncomplete="#{rich:component('panelQuerys')}.hide()" render="msg, sqlQuery" action="#{LogTriggerControle.selecionarQuery}" styleClass="btn btn-info" value="Selecionar Query" icon="#{msg_botoes.btn_icon_selecionar_embutido}" />
								<otm:spacer width="5px" />
								<otm:commandButton action="#{LogTriggerControle.excluirQueryLista}" render="msg, painelListaQuery" styleClass="btn btn-danger" value="Excluir Query Lista" icon="#{msg_botoes.btn_icon_remver_embutido}" />
							</h:panelGroup>
						</rich:column>
						<f:facet name="footer">
							<rich:dataScroller for="listaQuerys" id="scrlistaQuerys" stepControls="auto" fastControls="hide" boundaryControls="auto" render="listaQuerys" />
						</f:facet>
					</rich:dataTable>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelEvento" top="5px" shadowOpacity="true" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Registro Completo do Evento"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkEvento" />
					<rich:componentControl target="panelEvento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formEvento">
				<textarea readonly="readonly" rows="2" style="width: 98%">
			<h:outputText value="#{LogTriggerControle.registro.query}" />
			</textarea>
				<div style="height: 300px; overflow: auto">
					<rich:dataTable width="100%" headerClass="consulta" var="campo" id="camposRegistro" value="#{LogTriggerControle.registro.campos}" columnClasses="colunaAlinhamento">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Campo" />
							</f:facet>
							<h:outputText value="#{campo.nome}" />
						</rich:column>
						<rich:column rendered="#{LogTriggerControle.registro.action eq 'I'}">
							<f:facet name="header">
								<h:outputText value="Novo Valor" />
							</f:facet>
							<h:outputText value="#{campo.valor}" />
						</rich:column>
						<rich:column rendered="#{LogTriggerControle.registro.action eq 'U'}">
							<f:facet name="header">
								<h:outputText value="Valor Anterior" />
							</f:facet>
							<h:outputText value="#{campo.valor}" />
						</rich:column>
						<rich:column rendered="#{LogTriggerControle.registro.action eq 'U'}">
							<f:facet name="header">
								<h:outputText value="Novo Valor" />
							</f:facet>
							<h:outputText value="#{campo.valorAlterado}" />
						</rich:column>
						<rich:column rendered="#{LogTriggerControle.registro.action eq 'D'}">
							<f:facet name="header">
								<h:outputText value="Valor Anterior" />
							</f:facet>
							<h:outputText value="#{campo.valorAlterado}" />
						</rich:column>
					</rich:dataTable>
					<rich:dataScroller align="center" for="formEvento:camposRegistro" id="paginador" />
				</div>
				<h:panelGroup layout="block" columns="1" width="100%" columnClasses="colunaEsquerda">
					<h:outputText styleClass="field control-label mensagem col-md-12" value="#{LogTriggerControle.mensagem}" />
					<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{LogTriggerControle.mensagemDetalhada}" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelEvento2" shadowOpacity="true" top="5px" width="800" height="600">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Eventos ocorrido na mesma transação"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkEvento2" />
					<rich:componentControl target="panelEvento2" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formEvento2">
				<div style="height: 400px; overflow: auto">
					<rich:dataTable width="100%" headerClass="consulta" var="transacao" id="transacoes" value="#{LogTriggerControle.transacoes}" columnClasses="colunaAlinhamento">
						<rich:column>
							<f:facet name="header">
							</f:facet>
							<h:graphicImage title="Inclusão" value="#{resource['/imagens/botaoMarcar.png']}" rendered="#{transacao.action eq 'I' }"></h:graphicImage>
							<h:graphicImage title="Alteração" value="#{resource['/imagens/botaoEditar2.png']}" rendered="#{transacao.action eq 'U' }"></h:graphicImage>
							<h:graphicImage title="Exclusão" value="#{resource['/imagens/botaoRemover.png']}" rendered="#{transacao.action eq 'D' }"></h:graphicImage>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Data" />
							</f:facet>
							<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
								<h:outputText value="#{transacao.dataApresentar}" />
								<f:setPropertyActionListener value="#{transacao}" target="#{LogTriggerControle.registro}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Usuário" />
							</f:facet>
							<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
								<h:outputText value="#{transacao.usuario}" />
								<f:setPropertyActionListener value="#{transacao}" target="#{LogTriggerControle.registro}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Tabela" />
							</f:facet>
							<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
								<h:outputText value="#{transacao.tabela}" />
								<f:setPropertyActionListener value="#{transacao}" target="#{LogTriggerControle.registro}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Detalhes" />
							</f:facet>
							<a4j:commandLink action="#{LogTriggerControle.consultarEvento}" oncomplete="#{rich:component('panelEvento')}.show()" render="panelEvento">
								<h:outputText value="Consultar Transacao" />
								<f:setPropertyActionListener value="#{transacao}" target="#{LogTriggerControle.registro}" />
							</a4j:commandLink>
						</rich:column>
					</rich:dataTable>
					<rich:dataScroller align="center" for="formEvento2:transacoes" id="paginador" />
				</div>
				<otm:mensagem bean="#{LogTriggerControle}"></otm:mensagem>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
