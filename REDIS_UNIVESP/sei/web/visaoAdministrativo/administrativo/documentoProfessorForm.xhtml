<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm">

<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">

	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_Funcionario_tituloForm}" />
	</ui:define>

	<ui:define name="modal">
		<ui:include src="../../visaoAdministrativo/administrativo/documentoProfessorFormModal.xhtml" />
	</ui:define>

	<ui:define name="conteudo">
		<h:form id="form">
			<h:panelGroup id="panelGridForm">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="row" id="grupoMatricula" rendered="#{FuncionarioControle.isMostrarCampoMatricula}">
						<h:panelGroup layout="block" styleClass="#{FuncionarioControle.funcionarioVO.informarMatricula ? 'col-md-4' : 'col-md-5'}">
							<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Pessoa_nome}" />
							<h:inputText id="nome" size="70" maxlength="100" styleClass="form-control camposObrigatorios" value="#{FuncionarioControle.pessoaVO.nome}" />
							<h:message for="nome" styleClass="mensagemDetalhada" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="#{FuncionarioControle.funcionarioVO.informarMatricula ? 'col-md-4' : 'col-md-5'}">
							<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Pessoa_nomeBatismo}" />
							<h:inputText id="nomeBatismo" size="70" maxlength="100" styleClass="form-control camposObrigatorios" value="#{FuncionarioControle.pessoaVO.nomeBatismo}">
								<a4j:ajax event="change" listener="#{FuncionarioControle.setarNomeSocial}" render="form" execute="form" />
							</h:inputText>
							<h:message for="nomeBatismo" styleClass="mensagemDetalhada" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{FuncionarioControle.funcionarioVO.informarMatricula}">
							<h:outputText id="matriculaTexto" rendered="#{FuncionarioControle.isMostrarCampoMatricula}" styleClass="tituloCampos" value="#{msg_aplic.prt_Pessoa_matricula}" />
							<h:inputText id="matricula" size="20" maxlength="30" styleClass="form-control camposObrigatorios" readonly="#{FuncionarioControle.isInformarMatricula}" value="#{FuncionarioControle.funcionarioVO.matricula}" />
							<h:message for="matricula" styleClass="mensagemDetalhada" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Funcionario_informarMatricula}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox id="informarMatricula" styleClass="campos" style="position:relative; top:1px" value="#{FuncionarioControle.funcionarioVO.informarMatricula}">
									<a4j:ajax event="click" render="form:panelGridForm" listener="#{FuncionarioControle.limparMatricula}" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>

				<rich:tabPanel headerAlignment="center" activeItem="tabDocumentacaoProfessor" switchType="ajax" style="position:relative; top: 2px;">

					<rich:tab id="tabDadosPessoais" name="tabDadosPessoais" header="Dados Pessoais" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('tabDadosPessoais', 'funcionarioDadosPessoaisForm.xhtml')}">
					</rich:tab>

					<rich:tab id="richTabDadosFuncionais" name="richTabDadosFuncionais" header="Dados Funcionais" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('richTabDadosFuncionais', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab id="richCargos" name="richCargos" header="#{msg_aplic.prt_FuncionarioCargo_tituloForm}" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('richCargos', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab id="tabFormacaoAcademica" name="tabFormacaoAcademica" header="#{msg_aplic.prt_FormacaoAcademica_tituloForm}" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('tabFormacaoAcademica', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab id="tabFiliacao" name="tabFiliacao" header="#{msg_aplic.prt_Filiacao_tituloForm}" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('tabFiliacao', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab id="tabDependentes" name="tabDependentes" header="#{msg_aplic.prt_Dependentes_tituloForm}" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('tabDependentes', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab header="#{msg_aplic.prt_Funcionario_financeiro}" name="financeiro" id="financeiro" styleClass="richPanel" action="#{FuncionarioControle.navegarAba('financeiro', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab header="#{msg_aplic.prt_DisciplinasInteresse_tituloForm}" name="tabDisciplinaInteresse" rendered="#{FuncionarioControle.controladorTela}" styleClass="richPanel" id="tabDisciplinaInteresse" action="#{FuncionarioControle.navegarAba('tabDisciplinaInteresse', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab header="Horários Disponíveis/Indisponíveis" name="tabHorariosDisponiveisIndisponiveis" rendered="#{FuncionarioControle.controladorTela}" render="form" styleClass="richPanel" id="tabHorariosDisponiveisIndisponiveis" action="#{FuncionarioControle.navegarAba('tabHorariosDisponiveisIndisponiveis', 'funcionarioForm.xhtml')}">
					</rich:tab>

					<rich:tab id="tabDocumentacaoProfessor" styleClass="richPanel" name="tabDocumentacaoProfessor" header="Documentação GED">


						<h:panelGroup columns="1" id="documetacaoProfessor" width="100%" headerClass="consulta" style="background-color: transparent;">
							<h:panelGroup columns="2" width="100%" headerClass="consulta" style="background-color: transparent;">
								<f:facet name="header">
									<h:outputText value="Os documentos obrigatórios são: " styleClass="title" />
								</f:facet>
								<h:panelGroup columns="3" width="70%" styleClass="tabFormSubordinada" footerClass="colunaCentralizada">
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup columns="1" width="100%" styleClass="tabFormSubordinada">

								<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
									<otm:commandButton id="uploadList" icon="#{msg_botoes.btn_icon_adicionar_embutido}" value="Adicionar Tipo Documento" oncomplete="#{rich:component('panelDocumentosGED')}.show()" action="#{FuncionarioControle.consultarTipoDocumentoFuncionario}" render="formDocumentoGED" styleClass="btn btn-primary" image="#{resource['/imagens/botaoAdicionar2.png']}" />
								</h:panelGroup>

								<rich:dataTable id="documentacaoPessoaProf" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento" value="#{FuncionarioControle.listaDocumentacaoPessoaProfessor}" var="documentacaoPessoaProfessor">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_TipoDocumento_nome}" />
										</f:facet>
										<h:outputText value="#{documentacaoPessoaProfessor.tipoDeDocumentoVO.nome}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_TipoDocumento_entregue}" />
										</f:facet>
										<h:graphicImage id="entregue" rendered="#{documentacaoPessoaProfessor.entregue}" url="#{resource['imagens/entregue.png']}" title="Documento Entregue" />
										<h:graphicImage id="nEntregue" rendered="#{!documentacaoPessoaProfessor.entregue}" url="#{resource['imagens/entregaPendente.png']}" title="Documento Pendente" />
									</rich:column>

									<rich:column>
										<f:facet name="header">
											<h:outputText value="Arquivo Frente" />
										</f:facet>
										<otm:commandIcon id="uploadList" render="formUplod" oncomplete="#{rich:component('panelUpload')}.show();" action="#{FuncionarioControle.selecionarObjetoDocumentacaoFuncionario}" tooltip="Upload Documento" icon="#{msg_botoes.btn_icon_upload} iconePequeno" disabled="#{documentacaoPessoaProfessor.isPossuiArquivo}" />
										<otm:commandIcon id="dwl" oncomplete="#{documentacaoPessoaProfessor.arquivoVO.servidorArquivoOnline eq 'APACHE'} ? location.href='../../DownloadSV' : abrirPopup('../../DownloadSV', 'DownloadSV_#{documentacaoPessoaProfessor.codigo}',950,595)" rendered="#{documentacaoPessoaProfessor.isPossuiArquivo}" tooltip="Download Arquivo" icon="#{msg_botoes.btn_icon_download} iconePequeno" action="#{FuncionarioControle.realizarDownloadArquivoAssinado}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Arquivo Verso" />
										</f:facet>
										<otm:commandIcon id="uploadListVerso" render="formImagemVerso" oncomplete="#{rich:component('panelUploadVerso')}.show();" rendered="#{documentacaoPessoaProfessor.tipoDeDocumentoVO.documentoFrenteVerso and documentacaoPessoaProfessor.isPossuiArquivo}" action="#{FuncionarioControle.selecionarObjetoDocumentacaoFuncionarioVerso}" icon="#{msg_botoes.btn_icon_upload} iconePequeno" tooltip="Upload Documento Verso" image="#{resource['/imagens/botaoUploadResumido.png']}" disabled="#{documentacaoPessoaProfessor.isPossuiArquivoVerso}" />
										<otm:commandIcon id="dwl4" oncomplete="#{documentacaoPessoaProfessor.arquivoVOVerso.servidorArquivoOnline eq 'APACHE'} ? location.href='../../DownloadSV' : abrirPopup('../../DownloadSV', 'DownloadSV_#{documentacaoPessoaProfessor.codigo}',950,595)" rendered="#{documentacaoPessoaProfessor.isPossuiArquivoVerso}" tooltip="Download Arquivo Verso" icon="#{msg_botoes.btn_icon_download} iconePequeno" action="#{FuncionarioControle.realizarDownloadArquivo(documentacaoPessoaProfessor.arquivoVOVerso)}" />
									</rich:column>


									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_botoes.btn_opcoes}" />
										</f:facet>
										<otm:commandIcon id="removerItemArquivo" oncomplete="#{rich:component('panelExcluir')}.show()" action="#{FuncionarioControle.selecionarArquivoDocumentoEntregueExclusao}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Excluir Documento" rendered="#{documentacaoPessoaProfessor.isPossuiArquivo || documentacaoPessoaProfessor.isPossuiArquivoVerso}" />
									</rich:column>


								</rich:dataTable>
							</h:panelGroup>
						</h:panelGroup>
					</rich:tab>

					<rich:tab id="tabAssinaturaFuncionario" styleClass="richPanel" name="tabAssinaturaFuncionario" header="Assinatura Funcionário" action="funcionarioAssinaturaForm.xhtml?faces-redirect=true">
					</rich:tab>

				</rich:tabPanel>
				<h:panelGroup columns="1" width="100%" styleClass="tabMensagens" id="tabMensagens">
					<otm:mensagem bean="#{FuncionarioControle}"></otm:mensagem>
					<h:panelGroup layout="block" styleClass="barraFlutuanteInferior" style="margin:10px">
						<h:panelGroup>
							<otm:commandButton style="margin-right:5px" id="novo" immediate="true" action="#{FuncionarioControle.novo}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-info" accesskey="1" value="Novo" />
							<otm:commandButton style="margin-right:5px" id="salvar" action="#{FuncionarioControle.gravar}" value="#{msg_bt.btn_gravar}" accesskey="2" icon="#{msg_botoes.btn_icon_gravar_embutido}" styleClass="btn btn-dark" oncomplete="#{FuncionarioControle.apresentarModalCriarUsuario}" render="form, formUsuarioFuncionario"/>
							<otm:commandButton style="margin-right:5px" id="excluir" action="#{FuncionarioControle.excluir}" value="#{msg_bt.btn_excluir}" accesskey="3" icon="#{msg_botoes.btn_icon_remver_embutido}" styleClass="btn btn-danger" onclick="return confirm('#{msg.msg_confirmacao_excluxao}');" />
							<otm:commandButton style="margin-right:5px" id="consultar" immediate="true" action="#{FuncionarioControle.inicializarConsultar}" value="#{msg_bt.btn_consultar}" accesskey="4" icon="#{msg_botoes.btn_icon_lupa_embutido}" styleClass="btn btn-default" />
							<otm:commandButton style="margin-right:5px" id="unificarProspect" oncomplete="#{rich:component('panelUnificarProspects')}.show();" icon="#{msg_botoes.btn_icon_unificar_embutido}" styleClass="btn btn-success" value="Unificar dados de funcionários" accesskey="4" render="formUnificarProspects" rendered="#{!FuncionarioControle.funcionarioVO.novoObj and FuncionarioControle.permitirUnificarFuncionariosDuplicados}" />
							<otm:commandButton id="criarUsuario" onclick="#{FuncionarioControle.cadastroUsuarioAutomatico}" rendered="#{FuncionarioControle.apresentarCriarUsuario}" accesskey="5" icon="#{msg_botoes.btn_icon_usuario_embutido}" value="Criar Usuário" styleClass="btn btn-default" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>