<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm">

	<h:form id="formTopoVisaoAluno" prependId="false" styleClass="w-100">
		<!-- Header  -->
		<a4j:jsFunction name="fecharMenuTop" render="subMenuId, menuAdm, menuAcad, menuFinan, menuCompra, menuEstagio, menuBI, menuProcSel, menuBib, menuPatr, menuCRM, menuAvalInst, menuCurr, menuPlano, menuNFE, menuRec, menuEad" status="menuSts" action="#{LoginControle.visualizarMenu('TODOS')}"></a4j:jsFunction>

		<div class="d-sm-inline-block w-100" style="height: 50px;">


			<a4j:commandLink id="sidebarToggleTop" onclick="fecharMenuTop()" styleClass="btn btn-link d-md-none rounded-circle mt10 fonteTopo" style="float: left; height: 50px;">
				<i class="fa fa-bars text-dark " style="font-size: 1.2rem"></i>
			</a4j:commandLink>

			<h:panelGroup id="box-user-total" style="float: left; height: 50px;">
				<h:panelGroup id="box-user" style="float: left;height: 50px;">
					<h:graphicImage styleClass="foto-topo-visao" rendered="#{!empty LoginControle.caminhoFotoUsuario }" value="#{LoginControle.caminhoFotoUsuario}" />
					<h:panelGroup rendered="#{empty LoginControle.caminhoFotoUsuario }" styleClass="fa fa-fw fa-user fonteTopo foto-topo-visao">
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup styleClass="label-topo-visao" style="height:50px">
					<h:outputText styleClass="fields control-label btn-block fs16 ml-2 mt-2 fonteTopo" style="line-height: 20px;" value="Olá #{LoginControle.usuarioLogado.nome_Apresentar}" />

					<a4j:commandLink oncomplete="#{rich:component('alterarSenha')}.show()" render="formAlterarSenha" id="clink03AS">
						<i class="fas fa-key ml-2 mr-2 fs10 fonteTopo" style="line-height: 15px;"></i>
					</a4j:commandLink>
					<a4j:commandLink render="formImagem, formWebCam" oncomplete="Webcam.reset(); #{rich:component('panelImagem')}.show()" id="clink03AF" action="#{LoginControle.limparMensagem}">
						<i class="fas fa-camera ml-2 mr-2 fs10 fonteTopo" style="line-height: 15px;"></i>
					</a4j:commandLink>
				</h:panelGroup>

				<div id="box-options-user" class="rounded backMenu close" style="position: fixed; top: 50px; max-width: 800px; width: auto; left: 5px; z-index: 300; padding: 10px; min-width: 250px; box-shadow: 3px 3px 3px 3px #5a5c69">
					<a4j:commandLink styleClass="fonteMenu btn-block" oncomplete="#{rich:component('alterarSenha')}.show()" action="#{LoginControle.limparMensagem}" render="formAlterarSenha" id="clink03AS2">
						<i class="fas fa-key  fonteMenu iconeMenu"></i>
						<span class="fonteMenu">Alterar Senha</span>
					</a4j:commandLink>
					<a4j:commandLink styleClass="fonteMenu btn-block" render="formImagem, formWebCam" oncomplete="Webcam.reset(); #{rich:component('panelImagem')}.show()" id="clink03AF2" action="#{LoginControle.limparMensagem}">
						<i class="fas fa-camera fonteMenu iconeMenu"></i>
						<span class="fonteMenu">Alterar Foto</span>
					</a4j:commandLink>
				</div>

			</h:panelGroup>


			<h:panelGroup style="float:right;height: 50px;">
				<h:graphicImage styleClass="logo-cliente-topo-visao mt10" url="#{ConfiguracaoAparenciaSistemaControle.urlLogoUnidadeEnsino}" />
			</h:panelGroup>
			<h:panelGroup style="float:right;height: 50px;" styleClass="border-right">
				<a4j:commandLink styleClass="nav-link mt10 " style="height: 50px;" title="Sair" action="#{LoginControle.logout}">
					<i class="fas fa-sign-out-alt fonteTopo" style="font-size: 1.2rem"></i>
				</a4j:commandLink>
			</h:panelGroup>
			<h:panelGroup styleClass="iconeTopoMenuExpansivo">
				<a  style="height: 50px; cursor: pointer" onclick="collapseIconeMenuTopo()">
					<i class="fas fa-ellipsis-v" style="font-size: 1.2rem;margin-top:18px"></i>
				</a>
			</h:panelGroup>
			<h:panelGroup id="box-icone-menu-topo" styleClass="iconeTopoMenuAdm">

				<h:panelGroup style="float:right;height: 50px;">
					<h:panelGroup styleClass="mt10" style="height: 50px;">
						<a4j:commandLink status="entradastatus" render="panelCaixaEntrada" class="nav-link mt10" style="height: 50px; cursor: pointer" onclick="collapseCaixaMensagem()">
							<i class="fas fa-envelope  fonteTopo"  id="iconMsg" style="font-size: 1.2rem"></i>
							<span class="text-alerta-contador">#{ComunicacaoInternaControle.qtdMensagemCaixaEntrada}</span>
						</a4j:commandLink>
					</h:panelGroup>

					<div id="box-options-email" class="rounded backMenu close" style="position: fixed; top: 50px; max-width: 800px; width: auto; right: 5px; z-index: 300; padding: 10px; min-width: 250px; box-shadow: 3px 3px 3px 3px #5a5c69; max-height: 400px; overflow: auto">
						<h:panelGroup layout="block" id="panelCaixaEntrada">
							<rich:list id="listaNovasMsgs" rendered="#{!empty ComunicacaoInternaControle.listaConsulta}" value="#{ComunicacaoInternaControle.listaConsulta}" var="comunicacaoInternaItem">
								<h:panelGroup layout="block" styleClass="w-100 p-2 ">
									<a4j:commandLink action="#{PainelGestorAdministrativoControle.editarComunicacaoInternaParaTelaConsulta}" oncomplete="abrirPopup('../../visaoAdministrativo/administrativo/comunicacaoInternaForm.xhtml', 'comunicacaoInternaCons', 930, 595);">
										<h:panelGroup layout="block" styleClass="w-100" style="line-height:20px">
											<h:outputText styleClass="fonteMenu iconeMenu fs10" value="#{comunicacaoInternaItem.assunto}"></h:outputText>

											<h:panelGroup layout="block" styleClass="w-100" style="line-height:20px">

												<h:outputText styleClass="fonteMenu iconeMenu fs8 pull-left" value="#{comunicacaoInternaItem.responsavel.nome}"></h:outputText>


												<h:outputText styleClass="fonteMenu iconeMenu fs8 pull-right" value="#{comunicacaoInternaItem.data_Apresentar}"></h:outputText>

											</h:panelGroup>
										</h:panelGroup>
									</a4j:commandLink>
								</h:panelGroup>
							</rich:list>
							<h:panelGroup layout="block" rendered="#{empty ComunicacaoInternaControle.listaConsulta}" styleClass="w-100 text-center mt20 mb20 p-2 ">
								<h:outputText styleClass="fonteMenu iconeMenu fs10" value="VOCÊ NÃO POSSUI MENSAGENS NÃO LIDAS"></h:outputText>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="w-100 text-center mt20 border-top ">
								<a4j:commandLink value="Acessar Caixa Entrada" styleClass="nav-link w-100" action="#{LoginControle.removerControleMemoriaFlashTela('ComunicacaoInternaControle')}" oncomplete="abrirPopup('../../visaoAdministrativo/administrativo/comunicacaoInternaCons.xhtml', 'comunicacaoInternaCons', 930, 595);">
									<i class="fas fa-envelope  fonteMenu pull-left fs14"></i>
								</a4j:commandLink>
							</h:panelGroup>
						</h:panelGroup>
					</div>
				</h:panelGroup>
				
				<h:panelGroup style="float:right;height: 50px;" >
					<a4j:commandLink itle="#{NovidadeSeiControle.contagemNovidadesNaoVisualizadas} Novidades" action="#{NovidadeSeiControle.atualizarContagemNovidades}" onclick="abrirPopup('../administrativo/novidades.xhtml', 'novidadeSei', 930, 595);" styleClass="nav-link mt10" style="text-decoration: none;" render="panelTopo, form, panelAvisoNovidades">
						<i class="fas fa-certificate fonteTopo" id="iconeNovidades" style="font-size: 1.3rem" />
						<h:panelGroup rendered="#{NovidadeSeiControle.contagemNovidadesNaoVisualizadas ne 0}" class="text-alerta-contador">#{NovidadeSeiControle.contagemNovidadesNaoVisualizadas}</h:panelGroup>
					</a4j:commandLink>
				</h:panelGroup>
				
				<h:panelGroup rendered="#{LoginControle.disponibilizarResultadoAvaliacaoInstitucional}" style="float:right;height: 50px;" >
					<a4j:commandLink title="#{msg_menu.Menu_resultadoAvaliacaoInstitucional}" onclick="abrirPopupMaximizado2('../avaliacaoInstitucional/relatorio/avaliacaoInstitucionalPublicacaoRel.xhtml', 'avaliacaoInstitucionalPublicacaoRel', 930, 595);" styleClass="nav-link mt10">
						<i class="fas fa-chart-pie fonteTopo" id="iconeAvalInst" style="font-size: 1.2rem" />
					</a4j:commandLink>
				</h:panelGroup>
				<h:panelGroup style="float:right;height: 50px;" rendered="#{LoginControle.permissaoAcessoMenuVO.mapaDocumentoAssinadoPessoa}">
					<a4j:commandLink alt="#{LoginControle.qtdeDocumentoAssinarPendenteUsuario} Doc. p/ Assinar" title="#{LoginControle.qtdeDocumentoAssinarPendenteUsuario} Doc. p/ Assinar" onclick="abrirPopupMaximizado2('../administrativo/mapaDocumentoAssinadoPessoaForm.xhtml', 'mapaDocumentoAssinadoPessoaForm', 930, 595);" styleClass="nav-link mt10">
						<i class="fas fa-file-signature fonteTopo" id="iconDocSign" style="font-size: 1.2rem"></i>
						<h:panelGroup rendered="#{LoginControle.qtdeDocumentoAssinarPendenteUsuario ne 0}" class="text-alerta-contador">#{LoginControle.qtdeDocumentoAssinarPendenteUsuario}</h:panelGroup>

					</a4j:commandLink>
				</h:panelGroup>
			</h:panelGroup>

		</div>



	</h:form>
</ui:composition>