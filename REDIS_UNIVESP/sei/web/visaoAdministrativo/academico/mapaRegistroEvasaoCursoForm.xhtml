<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
	<script type="text/javascript">
		function setCaretToEnd(e) {
			var control = $((e.target ? e.target : e.srcElement).id);
			if (control.createTextRange) {
				var range = control.createTextRange();
				range.collapse(false);
				range.select();
			} else if (control.setSelectionRange) {
				control.focus();
				var length = control.value.length;
				control.setSelectionRange(length, length);
			}
			control.selectionStart = control.selectionEnd = control.value.length;
		}
	</script>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">

	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_MapaRegistroEvasaoCurso_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">

		<style>
			.rf-pb-rmng {
				width: 520px !important;
			}
			#formUnidadeEnsino .iconePequeno {
				height: 23px !important;
				width: 23px !important;
			}
			#formCurso .iconePequeno {
				height: 23px !important;
				width: 23px !important;
			}
			#formTurno .iconePequeno {
				height: 23px !important;
				width: 23px !important;
			}
		</style>
		<rich:popupPanel styleClass="modalMaximizado" id="panelUnidadeEnsino" shadowOpacity="true" width="800" height="460">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_ContaReceberRel_selecionarUnidadeEnsino}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formUnidadeEnsino">
				<h:panelGroup id="unidadeEnsinos" layout="block" styleClass="row mn">
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Não Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosUnidadeEnsino" width="100%" var="unidadeEnsinoItens" value="#{MapaRegistroEvasaoCursoControle.unidadeEnsinoVOs}">
							<rich:column filterType="custom" filter="#{FilterFactory.filter('filtrosUnidadeEnsino', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosUnidadeEnsino', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="unidadeEnsinos" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="unidadeEnsinos, form:nomeCurso, form:nomeTurno" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosUnidadeEnsino')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:outputText value="#{unidadeEnsinoItens.nome}" />
							</rich:column>
							<rich:column filterType="custom" filterExpression="#{!unidadeEnsinoItens.filtrarUnidadeEnsino}">
								<f:facet name="header">
									<a4j:commandLink render="formUnidadeEnsino, form:unidadeEnsino, form:nomeCurso, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.marcarTodasUnidadesEnsinoAction}">
										<i class="fas fa-angle-double-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="true" target="#{MapaRegistroEvasaoCursoControle.marcarTodasUnidadeEnsino}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="formUnidadeEnsino, form:unidadeEnsino, form:nomeCurso, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.verificarTodasUnidadesSelecionadas}">
									<i class="fas fa-angle-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="true" target="#{unidadeEnsinoItens.filtrarUnidadeEnsino}" />
								</a4j:commandLink>
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosUnidadeEnsino2" width="100%" var="unidadeEnsinoItens" value="#{MapaRegistroEvasaoCursoControle.unidadeEnsinoVOs}">
							<rich:column filterType="custom" filterExpression="#{unidadeEnsinoItens.filtrarUnidadeEnsino}">
								<f:facet name="header">
									<a4j:commandLink render="formUnidadeEnsino, form:unidadeEnsino, form:nomeCurso, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.marcarTodasUnidadesEnsinoAction}">
										<i class="fas fa-angle-double-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="false" target="#{MapaRegistroEvasaoCursoControle.marcarTodasUnidadeEnsino}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="formUnidadeEnsino, form:unidadeEnsino, form:nomeCurso, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.verificarTodasUnidadesSelecionadas}">
									<i class="fas fa-angle-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="false" target="#{unidadeEnsinoItens.filtrarUnidadeEnsino}" />
								</a4j:commandLink>
							</rich:column>
							<rich:column filterType="custom" filter="#{FilterFactory.filter('filtrosUnidadeEnsino2', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosUnidadeEnsino2', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="unidadeEnsinos" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="unidadeEnsinos, form:nomeCurso, form:nomeTurno" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosUnidadeEnsino2')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:outputText value="#{unidadeEnsinoItens.nome}" />
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">
					<otm:commandButton render="form" oncomplete="#{rich:component('panelUnidadeEnsino')}.hide()" icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Fechar" styleClass="btn btn-danger" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelCurso" style="overflow:auto;" shadowOpacity="true" width="750" height="550">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Curso_consultarCurso}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formCurso">
				<h:panelGroup id="cursos" layout="block" styleClass="row mn">
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Não Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosCurso" width="100%" var="cursoItens" value="#{MapaRegistroEvasaoCursoControle.cursoVOs}">
							<rich:column filterType="custom" filterValue="#{FilterFactory.filter('filtrosCurso', 'nome', 'TEXTO').filtro}" filter="#{FilterFactory.filter('filtrosCurso', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosCurso', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="cursos" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="cursos" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosCurso')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:outputText value="#{cursoItens.codigo} - #{cursoItens.nome}" />
							</rich:column>
							<rich:column filterType="custom" filterExpression="#{!cursoItens.filtrarCursoVO}">
								<f:facet name="header">
									<a4j:commandLink render="formCurso, form:nomeCurso" action="#{MapaRegistroEvasaoCursoControle.marcarTodosCursosAction}">
										<i class="fas fa-angle-double-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="true" target="#{MapaRegistroEvasaoCursoControle.marcarTodosCursos}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="form:nomeCurso, cursos" action="#{MapaRegistroEvasaoCursoControle.verificarTodosCursosSelecionados}">
									<i class="fas fa-angle-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="true" target="#{cursoItens.filtrarCursoVO}" />
								</a4j:commandLink>
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosCurso2" width="100%" var="cursoItens" value="#{MapaRegistroEvasaoCursoControle.cursoVOs}">
							<rich:column filterType="custom" filterExpression="#{cursoItens.filtrarCursoVO}">
								<f:facet name="header">
									<a4j:commandLink render="formCurso, form:nomeCurso" action="#{MapaRegistroEvasaoCursoControle.marcarTodosCursosAction}">
										<i class="fas fa-angle-double-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="false" target="#{MapaRegistroEvasaoCursoControle.marcarTodosCursos}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="form:nomeCurso, cursos" action="#{MapaRegistroEvasaoCursoControle.verificarTodosCursosSelecionados}">
									<i class="fas fa-angle-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="false" target="#{cursoItens.filtrarCursoVO}" />
								</a4j:commandLink>
							</rich:column>
							<rich:column filterType="custom" filterValue="#{FilterFactory.filter('filtrosCurso2', 'nome', 'TEXTO').filtro}" filter="#{FilterFactory.filter('filtrosCurso2', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosCurso2', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="cursos" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="cursos" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosCurso2')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:outputText value="#{cursoItens.codigo} - #{cursoItens.nome}" />
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">
					<otm:commandButton render="form" oncomplete="#{rich:component('panelCurso')}.hide()" icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Fechar" styleClass="btn btn-danger" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelTurno" style="overflow:auto;" shadowOpacity="true" width="800" height="460">
			<f:facet name="header">
				<h:outputText value="#{msg_aplic.prt_Turno_consultarTurno}" />
			</f:facet>
			<h:form id="formTurno">
				<h:panelGroup id="turnos" layout="block" styleClass="row mn">
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Não Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosturno" width="100%" var="turnoItens" value="#{MapaRegistroEvasaoCursoControle.turnoVOs}">
							<rich:column filterType="custom" filter="#{FilterFactory.filter('filtrosturno', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosturno', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="turnos" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="turnos" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosturno')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:outputText value="#{turnoItens.nome}" />
							</rich:column>
							<rich:column filterType="custom" filterExpression="#{!turnoItens.filtrarTurnoVO}">
								<f:facet name="header">
									<a4j:commandLink render="formTurno, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.marcarTodosTurnosAction}">
										<i class="fas fa-angle-double-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="true" target="#{MapaRegistroEvasaoCursoControle.marcarTodosTurnos}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="formTurno, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.verificarTodosTurnosSelecionados}">
									<i class="fas fa-angle-right fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="true" target="#{turnoItens.filtrarTurnoVO}" />
								</a4j:commandLink>
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:panelGroup layout="block" styleClass="row mn border-bottom">
							<h:outputText styleClass="tituloCampos font-weight-bold" value="Selecionados" />
						</h:panelGroup>
						<div class="row mn overflow-auto" style="height: 450px"> <rich:dataTable align="left" id="filtrosturno2" width="100%" var="turnoItens" value="#{MapaRegistroEvasaoCursoControle.turnoVOs}">
							<rich:column filterType="custom" filterExpression="#{turnoItens.filtrarTurnoVO}">
								<f:facet name="header">
									<a4j:commandLink render="formTurno, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.marcarTodosTurnosAction}">
										<i class="fas fa-angle-double-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
										<f:setPropertyActionListener value="false" target="#{MapaRegistroEvasaoCursoControle.marcarTodosTurnos}" />
									</a4j:commandLink>
								</f:facet>
								<a4j:commandLink render="formTurno, form:nomeTurno" action="#{MapaRegistroEvasaoCursoControle.verificarTodosTurnosSelecionados}">
									<i class="fas fa-angle-left fs15 mt5 iconePequeno btn-white btn-info border-radius-all"></i>
									<f:setPropertyActionListener value="false" target="#{turnoItens.filtrarTurnoVO}" />
								</a4j:commandLink>
							</rich:column>
							<rich:column filterType="custom" filter="#{FilterFactory.filter('filtrosturno2', 'nome', 'TEXTO')}">
								<f:facet name="header">
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText styleClass="form-control campos" size="20" value="#{FilterFactory.filter('filtrosturno2', 'nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="filtrosturno2" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="turnos" icon="#{msg_botoes.btn_icon_limpar_embutido}" action="#{FilterFactory.limparFiltro('filtrosturno2')}" tooltip="Limpar" /> </span>
									</h:panelGroup>
								</f:facet>
								<h:panelGroup style="vertical-align:middle">
									<h:outputText value="#{turnoItens.nome}" />
								</h:panelGroup>
							</rich:column>
						</rich:dataTable> </div>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">
					<otm:commandButton render="form" oncomplete="#{rich:component('panelTurno')}.hide()" icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Fechar" styleClass="btn btn-danger" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	
		<rich:popupPanel styleClass="modalMaximizado" id="panelEstornoMapaRegistroEvasaoCurso" domElementAttachment="parent" autosized="false" shadowOpacity="true" width="450" height="150">
			<f:facet name="header">
				<h:outputText value="Estornar Mapa Registro Evasão Curso" />
			</f:facet>
			<h:form id="formEstornoMapaRegistroEvasaoCurso">
				<h:panelGroup columns="1" width="100%">
					<h:panelGroup id="estornoIndividual" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.codigo ne 0}" layout="block" styleClass="col-md-12 mb10">
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Matrícula" styleClass="field control-label tituloCampos" />
							<h:inputText id="matricula" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.matriculaVO.matricula}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Aluno" styleClass="field control-label tituloCampos" />
							<h:inputText id="aluno" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.matriculaVO.aluno.nome}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Unidade de Ensino" styleClass="field control-label tituloCampos" />
							<h:inputText id="unidadeEnsino" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.matriculaVO.unidadeEnsino.nome}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Curso" styleClass="field control-label tituloCampos" />
							<h:inputText id="curso" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.matriculaVO.curso.nome}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Turma" styleClass="field control-label tituloCampos" />
							<h:inputText id="identificadorTurma" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.turma.identificadorTurma}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText value="Situação Matrícula" styleClass="field control-label tituloCampos" />
							<h:inputText id="situacao" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.matriculaPeriodoVO.matriculaVO.situacao_Apresentar}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>	
					</h:panelGroup>
					<h:panelGroup id="estornoEmLote" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.codigo eq 0}" layout="block" styleClass="col-md-12 mb10">
						<h:outputFormat styleClass="field control-label mensagem col-md-12" value="Foram selecionados {0} Registros para serem Estornados. Deseja Continuar com a Operação do Mapa de Registro?">
							<f:param name="{0}" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.quantidadeRegistroParaEstorno}" />
						</h:outputFormat>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoMatriculaPeriodoVO.codigo ne 0}">
						<h:outputFormat styleClass="field control-label mensagem col-md-12" value="Deseja Continuar com a Operação de estorno do Mapa de Registro?"/>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row mn" id="mensagem">
						<otm:mensagem bean="#{MapaRegistroEvasaoCursoControle}"></otm:mensagem>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">
						<otm:commandButton render="modalProgressBar, formEstornoMapaRegistroEvasaoCurso" action="#{MapaRegistroEvasaoCursoControle.realizarInicioProgressBarEstorno}" oncomplete="#{MapaRegistroEvasaoCursoControle.oncompleteModal}" value="Sim" styleClass="btn btn-dark btn-gravar" />
						<otm:commandButton action="#{MapaRegistroEvasaoCursoControle.fecharEstornoMapaRegistroEvasaoCursoMatriculaPeriodo}" oncomplete="#{rich:component('panelEstornoMapaRegistroEvasaoCurso')}.hide();" render="form"  icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Não" styleClass="btn btn-danger ml5" />
					</h:panelGroup>
				</h:panelGroup>
			
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelConfirmacao" domElementAttachment="parent" autosized="false" shadowOpacity="true" width="450" height="150">
			<f:facet name="header">
				<h:outputText value="#{msg_aplic.prt_ProgramacaoAula_gravarLancamentoNota}" />
			</f:facet>
			<h:form id="formConfirmacao">
				<h:panelGroup layout="block" styleClass="col-md-12 text-center">
					<i class="#{msg_botoes.btn_icon_aviso_embutido} fs15 text-warning mr5" />
					<h:outputText styleClass="field control-label mensagemDetalhada" value="#{msg.msg_MapaRegistroAbandonoCursoTrancamento_contaReceberEmAberto} " />
					<h:outputFormat styleClass="field control-label mensagemDetalhada" value="Foram selecionadas {0} matricula(s).Deseja Continuar com a Operação do Mapa de Registro?">
						<f:param name="{0}" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.quantidadeAlunosSelecionados}" />
					</h:outputFormat>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row mn" id="mensagem">
					<otm:mensagem bean="#{MapaRegistroEvasaoCursoControle}"></otm:mensagem>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-50">
					<otm:commandButton render="modalProgressBar, formConfirmacao, form" action="#{MapaRegistroEvasaoCursoControle.realizarInicioProgressBar}" oncomplete="#{MapaRegistroEvasaoCursoControle.oncompleteModal}" styleClass="btn btn-dark btn-sim" icon="#{msg_botoes.btn_icon_gravar_embutido}" value="Sim" />
					<otm:commandButton value="Não" render="form" action="#{MapaRegistroEvasaoCursoControle.fecharConfirmacaoGravacao}" oncomplete="#{rich:component('panelConfirmacao')}.hide();" styleClass="btn btn-danger btn-nao ml5" icon="#{msg_botoes.btn_icon_cancelar_embutido}" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<otm2:progressBar bean="#{AplicacaoControle}" bar="progressBarMapaRegistroEvasaoCursoVO"  height="150px" width="500" id="modalProgressBar" render="form, modalProgressBar" modal= "true">
			<ui:define name="botoesADDProgressBar">
				<h:panelGroup layout="block" styleClass="row mt40 text-center">
					<a4j:commandLink id="forcarEncerramento" render="form, modalProgressBar" value="Parar Processamento" styleClass="btn btn-danger btn-excluir">
						<f:setPropertyActionListener value="true" target="#{AplicacaoControle.progressBarMapaRegistroEvasaoCursoVO.forcarEncerramento}"></f:setPropertyActionListener>						
					</a4j:commandLink>
				</h:panelGroup>
			</ui:define>
		</otm2:progressBar>

		<h:form id="form">
			<h:commandLink action="#{MapaRegistroEvasaoCursoControle.liberarBackingBeanMemoria}" immediate="true" id="idLiberarBackingBeanMemoria" style="display: none" />
			<h:panelGroup id="planoAluno">
				<h:panelGroup id="panelDadosConsulta">
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<h:panelGroup layout="block" styleClass="col-md-1">
							<h:outputText styleClass="field control-label tituloCampos" value="Código" />
							<h:inputText id="codigo" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo}" styleClass="form-control camposSomenteLeitura" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-5">
							<h:outputText value="#{msg_aplic.prt_RenovacaoTurma_responsavel}" styleClass="field control-label tituloCampos" />
							<h:panelGroup layout="block" styleClass="pn col-md-12">
								<h:inputText id="usuario" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.usuarioResponsavel.nome}" styleClass="form-control camposSomenteLeitura" readonly="true" />
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="Data de Registro" />
							<otm:calendar id="data" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.dataRegistro}" styleClass="form-control camposSomenteLeitura" disabled="true" readonly="true" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="Tipo Operação Mapa Registro" />
							<h:selectOneMenu id="tipoTrancamentoFiltro" styleClass="form-control camposObrigatorios" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
								<a4j:ajax event="change" execute="form" render="form" listener="#{MapaRegistroEvasaoCursoControle.limparCamposRegrasTipoTrancamento}" />
								<f:selectItems value="#{MapaRegistroEvasaoCursoControle.listaSelectItemTipoTrancamento}" />
							</h:selectOneMenu>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica and !MapaRegistroEvasaoCursoControle.apresentarCampoSemestre ? 'col-md-4' : MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica ? 'col-md-2' : MapaRegistroEvasaoCursoControle.apresentarCampoSemestre ? 'col-md-4' : 'col-md-2'}">
						<h:outputText styleClass="field control-label tituloCampos" value="Periodicidade" />
						<h:selectOneMenu id="periodicidadeCurso" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.periodicidade}" styleClass="form-control camposObrigatorios" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<f:selectItems value="#{MapaRegistroEvasaoCursoControle.listaSelectItemPeriodicidade}" />
							<a4j:ajax event="change" execute="form" render="form" listener="#{MapaRegistroEvasaoCursoControle.consultarCurso}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText value="#{msg_aplic.prt_DistribuicaoSubturma_ano}" styleClass="field control-label tituloCampos" />
						<h:inputText styleClass="form-control camposObrigatorios" id="ano" size="4" maxlength="4" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.ano}" onkeydown="aceitarSomenteValorNumerico(this);"  disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<a4j:ajax event="change" listener="#{MapaRegistroEvasaoCursoControle.validarAnoSemestre(false)}" render="form" limitRender="true" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{MapaRegistroEvasaoCursoControle.apresentarCampoSemestre}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_anoSemestre}" id="DistribuicaoSubturma_semestre" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_DistribuicaoSubturma_semestre}" />
						<h:selectOneMenu styleClass="form-control camposObrigatorios" id="semestre" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.semestre}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<a4j:ajax event="change" listener="#{MapaRegistroEvasaoCursoControle.validarAnoSemestre(false)}" render="form" limitRender="true" />
							<f:selectItems value="#{EnumControle.comboboxSemestreEnum}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{!MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica}">
						<h:outputText value="#{msg_aplic.prt_DistribuicaoSubturma_ano} Registro de Evasão" styleClass="field control-label tituloCampos" />
						<h:inputText styleClass="form-control camposObrigatorios" id="anoRegistroEvasao" size="4" maxlength="4" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.anoRegistroEvasao}" onkeydown="aceitarSomenteValorNumerico(this);"  disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<a4j:ajax event="change" listener="#{MapaRegistroEvasaoCursoControle.validarAnoSemestre(true)}" render="form" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2" rendered="#{!MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica and MapaRegistroEvasaoCursoControle.apresentarCampoSemestre}">
						<h:outputText value="#{msg_aplic.prt_DistribuicaoSubturma_semestre} Registro de Evasão" styleClass="field control-label tituloCampos" />
						<h:selectOneMenu styleClass="form-control camposObrigatorios" id="semestreRegistroEvasao" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.semestreRegistroEvasao}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<a4j:ajax event="change" listener="#{MapaRegistroEvasaoCursoControle.validarAnoSemestre(true)}" render="form" />
							<f:selectItems value="#{EnumControle.comboboxSemestreEnum}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{!MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Trancamento_justificativa}" />
						<h:inputText disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" id="justificativa" size="68" styleClass="form-control camposObrigatorios" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.justificativa}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{!MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica}">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Trancamento_motivoCancelamentoTrancamento}" />
						<h:selectOneMenu disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" id="motivoCancelamentoTrancamento" styleClass="form-control camposObrigatorios" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.motivoCancelamentoTrancamento.codigo}">
							<f:selectItems value="#{MapaRegistroEvasaoCursoControle.listaSelectItemMotivoCancelamentoTrancamento}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AlunosMatriculadosGeralRel_unidadeEnsino}" />
						<h:panelGroup layout="block" styleClass="col-md-12 pn">
							<h:inputText id="unidadeEnsino" styleClass="form-control camposSomenteLeituraObrigatorio" readonly="true" value="#{MapaRegistroEvasaoCursoControle.unidadeEnsinoApresentar}" />
							<span class="append-icon right"> <otm:commandIcon id="selecionarUnidadeEnsino" tooltip="Selecionar Unidade de Ensino" oncomplete="#{rich:component('panelUnidadeEnsino')}.show()" icon="#{msg_botoes.btn_icon_adicionar_embutido}" render="formUnidadeEnsino" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" /> <otm:commandIcon id="limparDadosUnidadeEnsino" tooltip="Limpar Dados" action="#{MapaRegistroEvasaoCursoControle.limparUnidadeEnsino}" render="form" icon="#{msg_botoes.btn_icon_limpar_embutido}" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" />
							</span>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_ConsultorPorMatriculaRel_nivelEducacional}" />
						<h:selectOneMenu id="nivelEducacional" styleClass="form-control camposObrigatorios" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.nivelEducacional}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<f:selectItems value="#{EnumControle.comboBoxTipoNivelEducacionalEnum}" />
							<a4j:ajax event="change" execute="form" render="form" listener="#{MapaRegistroEvasaoCursoControle.consultarCurso}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Matricula_curso}" />
						<h:panelGroup layout="block" styleClass="col-md-12 pn">
							<h:inputText readonly="true" id="nomeCurso" styleClass="form-control camposSomenteLeitura" value="#{MapaRegistroEvasaoCursoControle.cursoApresentar}" />
							<span class="append-icon right"> <otm:commandIcon id="consultaDadosCurso" focus="nomeCurso" tooltip="Localizar Curso" render="formCurso" oncomplete="#{rich:component('panelCurso')}.show()" icon="#{msg_botoes.btn_icon_adicionar_embutido}" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" /> <otm:commandIcon id="limparDadosCurso" tooltip="Limpar Dados" action="#{MapaRegistroEvasaoCursoControle.limparCurso}" render="form" icon="#{msg_botoes.btn_icon_limpar_embutido}" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" />
							</span>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Turno_tituloForm}" />
						<h:panelGroup layout="block" styleClass="col-md-12 pn">
							<h:inputText readonly="true" id="nomeTurno" styleClass="form-control camposSomenteLeitura" value="#{MapaRegistroEvasaoCursoControle.turnoApresentar}" />
							<span class="append-icon right"> <otm:commandIcon id="addTurno" focus="nomeTurno" tooltip="Localizar Curso" render="formTurno" oncomplete="#{rich:component('panelTurno')}.show()" icon="#{msg_botoes.btn_icon_adicionar_embutido}" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" /> <otm:commandIcon id="limparDadosTurno" tooltip="Limpar Dados" action="#{MapaRegistroEvasaoCursoControle.limparTurno}" render="form" icon="#{msg_botoes.btn_icon_limpar_embutido}" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" />
							</span>
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.trancamento or MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.abandonoCurso}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte}" id="MapaRegistroAbandonoCursoTrancamento_trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte}" />
						<otm:selectBooleanCheckbox id="trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte" styleClass="form-control campos" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}"/>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.trancamento or MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.abandonoCurso}" />
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.trancamento or MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.abandonoCurso}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_trazerAlunoTrancadoabandonadoAnoSemestreBase}" id="MapaRegistroAbandonoCursoTrancamento_trazerAlunoTrancadoabandonadoAnoSemestreBase" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_trazerAlunoTrancadoabandonadoAnoSemestreBase}" />
						<otm:selectBooleanCheckbox id="trazerAlunoTrancadoAbandonadoAnoSemestreBase" styleClass="form-control campos" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.trazerAlunoTrancadoAbandonadoAnoSemestreBase}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}"/>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.cancelamentoIngressante}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_qtdDisciplinaReprovadas}" id="MapaRegistroAbandonoCursoTrancamento_qtdDisciplinaReprovadas" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_qtdDisciplinaReprovadas}" />
						<h:selectOneMenu styleClass="form-control camposObrigatorios" id="qtdDisciplinaReprovadas" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.qtdDisciplinaReprovadas}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}">
							<f:selectItems value="#{EnumControle.comboboxDisciplinaReprovadas}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.cancelamentoIngressante}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_qtdDiasAlunosSemAcessoAva}" id="MapaRegistroAbandonoCursoTrancamento_qtdDiasAlunosSemAcessoAva" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_qtdDiasAlunosSemAcessoAva}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" />
						<h:inputText styleClass="form-control campos" id="qtdDiasAlunosSemAcessoAva" size="4" maxlength="4" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.qtdDiasAlunosSemAcessoAva}" onkeydown="aceitarSomenteValorNumerico(this);" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}"/>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.cancelamentoExcessoTrancamento or MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.jubilamento}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_qtdTrancamentoEmExcesso}" id="MapaRegistroAbandonoCursoTrancamento_qtdTrancamentoEmExcesso" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_qtdTrancamentoEmExcesso}"  rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.cancelamentoExcessoTrancamento}"/>
						<h:outputText styleClass="field control-label tituloCampos btn-block" value="Quantidade de Trancamento Em Excesso a Ser Considerado no Jubilamento da Matrícula" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.jubilamento}" />
						<h:inputText styleClass="form-control camposObrigatorios" id="qtdTrancamentoEmExcesso" size="4" maxlength="4" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.qtdTrancamentoEmExcesso}" onkeydown="aceitarSomenteValorNumerico(this);" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}"/>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.cancelamentoExcessoTrancamento}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_considerarTrancamentoConsecutivo}" id="MapaRegistroAbandonoCursoTrancamento_considerarTrancamentoConsecutivo" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_considerarTrancamentoConsecutivo}" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" />
						<otm:selectBooleanCheckbox id="considerarTrancamentoConsecutivo"  value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.considerarTrancamentoConsecutivo}" styleClass="form-control campos" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica}">
						<otm:outputHelp tooltip="#{msg.help_MapaRegistroAbandonoCursoTrancamento_qtdMesAlunosRenovacaoSemAcessoAva}" id="MapaRegistroAbandonoCursoTrancamento_qtdMesAlunosRenovacaoSemAcessoAva" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_MapaRegistroAbandonoCursoTrancamento_qtdMesAlunosRenovacaoSemAcessoAva}" />
						<h:panelGroup layout="block" styleClass="col-md-12 pn">
							<h:inputText styleClass="form-control camposObrigatorios" id="qtdMesAlunosRenovacaoSemAcessoAva" size="4" maxlength="4" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.qtdMesAlunosRenovacaoSemAcessoAva}" onkeydown="aceitarSomenteValorNumerico(this);" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}">
					<otm:commandButton id="consultarMPs" render="form" icon="fas fa-search" value="Matrículas Aptas Registrar" styleClass="btn btn-primary dark" disabled="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" action="#{MapaRegistroEvasaoCursoControle.consultarMatriculaPeriodoAptaRegistro}"/>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="row mn" rendered="#{!empty MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO}">
					<rich:dataTable id="items" style="width: 100%" headerClass="consulta" columnClasses="colunaAlinhamento" value="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO}" rendered="#{!empty MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO}" rows="10" var="mapaRegistroMatriculaPeriodoItem">
						<rich:column style="width:30px;">
							<f:facet name="header">
								<h:panelGroup layout="block">
									<h:panelGroup layout="block" styleClass="col-md-12" >
										<h:outputText value="Marcar/Desmarcar Todos" />
										<h:panelGroup layout="block" styleClass="col-md-12 pn" >
											<otm:selectBooleanCheckbox value="#{MapaRegistroEvasaoCursoControle.matriculaSelecionada}" disabled="#{!MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.verficarQuantidadeAlunosProcessados}">
												<a4j:ajax event="click" listener="#{MapaRegistroEvasaoCursoControle.marcarDesmarcarTodos(FilterFactory)}" render="form:items" />
											</otm:selectBooleanCheckbox>
										</h:panelGroup>
									</h:panelGroup>
								</h:panelGroup>
							</f:facet>
							<otm:selectBooleanCheckbox rendered="#{mapaRegistroMatriculaPeriodoItem.situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.aguardandoProcessamento}" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.alunoSelecionado}" styleClass="form-control campos">
								<a4j:ajax execute="@this" event="change" render="items" />
							</otm:selectBooleanCheckbox>
							<f:facet name="footer">
								<h:panelGroup columns="1" columnClasses="colunaCentralizada" width="100%">
									<h:outputText styleClass="field control-label tituloCampos" style="font-style:italic; text-align:center; layout:block; font-size:11px" value="Total Selecionado(s): #{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.quantidadeAlunosSelecionados}" />
								</h:panelGroup>
							</f:facet>
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtrosituacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum', 'situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.descricao', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="Situação" />
									<h:inputText size="10" id="filtrosituacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum" styleClass="form-control" value="#{FilterFactory.filter('filtrosituacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum', 'situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.descricao', 'TEXTO').filtro}">
										<a4j:ajax event="change" render="items , scrollerItems" />
									</h:inputText>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum" value="#{mapaRegistroMatriculaPeriodoItem.situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum}" converter="EnumConverter" />
							<h:graphicImage rendered="#{mapaRegistroMatriculaPeriodoItem.situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.erro}" id="motivoErro" value="#{resource['/imagens/biblioteca/lupa2.png']}" style="width: 14px;top: -1px;position: relative;left: 8px;" />
							<rich:tooltip followMouse="true" direction="auto" style="z-index: 1000;" target="motivoErro" showDelay="500">
								<h:outputText value="#{mapaRegistroMatriculaPeriodoItem.erro}" />
							</rich:tooltip>
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtroMatricula', 'matriculaPeriodoVO.matriculaVO.matricula', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="#{msg_aplic.prt_Matricula_matricula}" />
									<h:inputText size="10" id="filtroMatricula" styleClass="form-control" value="#{FilterFactory.filter('filtroMatricula', 'matriculaPeriodoVO.matriculaVO.matricula', 'TEXTO').filtro}">
										<a4j:ajax event="change" render="items , scrollerItems" />
									</h:inputText>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="matricula" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.matricula}" />
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtroNomeAluno', 'matriculaPeriodoVO.matriculaVO.aluno.nome', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="#{msg_aplic.prt_Matricula_nomeAluno}" />
									<h:inputText size="10" id="filtroNomeAluno" styleClass="form-control" value="#{FilterFactory.filter('filtroNomeAluno', 'matriculaPeriodoVO.matriculaVO.aluno.nome', 'TEXTO').filtro}">
										<a4j:ajax event="change" render="items, scrollerItems" />
									</h:inputText>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="nomeAluno" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.aluno.nome}" />
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtroNomeUnidadeEnsino', 'matriculaPeriodoVO.matriculaVO.unidadeEnsino.nome', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="#{msg_aplic.prt_Matricula_unidadeEnsino}" />
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText id="filtroNomeUnidadeEnsino" styleClass="form-control campos" size="10" value="#{FilterFactory.filter('filtroNomeUnidadeEnsino', 'matriculaPeriodoVO.matriculaVO.unidadeEnsino.nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="items" />
										</h:inputText>
										<span class="append-icon right"> 
											<otm:commandIcon render="items" execute="@this" icon="#{msg_botoes.btn_icon_ordenar_embutido}" action="#{FilterFactory.ordenar('filtroNomeUnidadeEnsino', MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO)}" tooltip="Ordenar Lista" />
										</span>
									</h:panelGroup>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="unidadeEnsino" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.unidadeEnsino.nome}" />
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtroNomeCurso', 'matriculaPeriodoVO.matriculaVO.curso.nome', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="#{msg_aplic.prt_Matricula_curso}" />
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText id="filtroNomeCurso" styleClass="form-control campos" size="10" value="#{FilterFactory.filter('filtroNomeCurso', 'matriculaPeriodoVO.matriculaVO.curso.nome', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="items" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="items" execute="@this" icon="#{msg_botoes.btn_icon_ordenar_embutido}" action="#{FilterFactory.ordenar('filtroNomeCurso', MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO)}" tooltip="Ordenar Lista" />
										</span>
									</h:panelGroup>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="nomeCurso" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.curso.nome} - #{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.turno.nome}" />
						</rich:column>
						<rich:column filterType="custom" filter="#{FilterFactory.filter('filtroNomeTurma', 'matriculaPeriodoVO.turma.identificadorTurma', 'TEXTO')}">
							<f:facet name="header">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
									<h:outputText value="#{msg_aplic.prt_MatriculaPeriodo_turma}" />
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText id="filtroNomeTurma" styleClass="form-control campos" size="10" value="#{FilterFactory.filter('filtroNomeTurma', 'matriculaPeriodoVO.turma.identificadorTurma', 'TEXTO').filtro}">
											<a4j:ajax event="change" execute="@this" render="items" />
										</h:inputText>
										<span class="append-icon right"> <otm:commandIcon render="items" execute="@this" icon="#{msg_botoes.btn_icon_ordenar_embutido}" action="#{FilterFactory.ordenar('filtroNomeTurma', MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO)}" tooltip="Ordenar Lista" />
										</span>
									</h:panelGroup>
								</h:panelGroup>
							</f:facet>
							<h:outputText id="nomeTurma" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.turma.identificadorTurma}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_MatriculaPeriodo_periodoLetivoMatricula}" />
							</f:facet>
							<h:outputText id="periodo" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.obterDescricaoPeriodoLetivo}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="Situação Atual Matrícula" />
							</f:facet>
							<h:outputText id="situacao" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.matriculaVO.situacao_Apresentar}" />
						</rich:column>
						<rich:column rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.trazerAlunoPreMatriculadoRenovouAnoSemestreSeguinte}">
							<f:facet name="header">
								<h:outputText value="Situação Período" />
							</f:facet>
							<h:outputText id="situacaoMatriculaPeriodo" value="#{mapaRegistroMatriculaPeriodoItem.matriculaPeriodoVO.situacaoMatriculaPeriodo_Apresentar}" />
						</rich:column>
						<rich:column rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0}" width="120px">
							<f:facet name="header">
								<h:outputText value="#{msg_botoes.btn_opcoes}" />
							</f:facet>
							<otm:commandIcon rendered="#{(mapaRegistroMatriculaPeriodoItem.situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.processado or mapaRegistroMatriculaPeriodoItem.situacaoMapaRegistroEvasaoCursoMatriculaPeriodoEnum.estornado) and !MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.tipoTrancamentoEnum.renovacaoAutomatica}" render="form" action="#{MapaRegistroEvasaoCursoControle.realizarNavegacaoOrigemMapaRegistroEvasaoCurso}" icon="#{msg_botoes.btn_icon_navegar_para_embutido} btn-info iconePequeno" oncomplete="#{MapaRegistroEvasaoCursoControle.campoNavegacaoOrigem}" tooltip="Navegar Para Origem do Registro" />
							<otm:commandIcon rendered="#{mapaRegistroMatriculaPeriodoItem.apresentarEstorno}" oncomplete="#{rich:component('panelEstornoMapaRegistroEvasaoCurso')}.show();" render="form, formEstornoMapaRegistroEvasaoCurso" action="#{MapaRegistroEvasaoCursoControle.realizarEstornoMapaRegistroEvasaoCursoMatriculaPeriodoIndividual}" icon="#{msg_botoes.btn_icon_estornar_embutido} btn-danger iconePequeno"  tooltip="Realizar Estorno Cancelamento" />
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller id="scrollerItems" boundaryControls="auto" stepControls="auto" fastControls="hide" for="items" />
							</div>
						</f:facet>
					</rich:dataTable>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup id="mensagem" layout="block" styleClass="row mn">
				<otm:mensagem bean="#{MapaRegistroEvasaoCursoControle}"></otm:mensagem>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
				<otm:commandButton style="margin-right:5px" id="novo" render="form" action="#{MapaRegistroEvasaoCursoControle.novo}" value="#{msg_botoes.btn_novo}" alt="#{msg.msg_novo_dados}" styleClass="btn btn-info btn-novo" />
				<otm:commandButton style="margin-right:5px" id="persistir" styleClass="btn btn-dark btn-gravar" action="#{MapaRegistroEvasaoCursoControle.persistir}" value="#{msg_botoes.btn_gravar}" render="form" rendered="#{!empty MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO and MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo eq 0}" />
				<otm:commandButton style="margin-right:5px" id="processarMapaRegistro" styleClass="btn btn-dark btn-gravar" icon="#{msg_botoes.btn_icon_engrenagem_embutido}" oncomplete="#{rich:component('panelConfirmacao')}.show();" value="Processar Mapa Registro Evasão Curso" render="form, formConfirmacao" rendered="#{!empty MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO and MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.codigo ne 0 and MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.verficarQuantidadeAlunosProcessados}" />
				<otm:commandButton style="margin-right:5px" id="estornaMapaRegistro" styleClass="btn btn-danger btn-excluir" oncomplete="#{rich:component('panelEstornoMapaRegistroEvasaoCurso')}.show();" value="Realizar Estorno" render="form, formEstornoMapaRegistroEvasaoCurso" rendered="#{MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.apresentarBotaoEstornoLote}" />
				<otm:commandButton style="margin-right:5px" id="consultar" immediate="true" action="#{MapaRegistroEvasaoCursoControle.inicializarConsultar}" styleClass="btn btn-default btn-consultar" value="#{msg_botoes.btn_consultar}" icon="#{msg_botoes.btn_icon_lupa_embutido}" />
				<otm:commandButton style="margin-right:5px" id="imprimirExcel" styleClass="btn btn-info dark btn-imprimir-excel" value="Imprimir Excel" icon="fas fa-file-excel" oncomplete="#{MapaRegistroEvasaoCursoControle.download}" render="form" action="#{MapaRegistroEvasaoCursoControle.realizarImpressaoExcel}" rendered="#{!empty MapaRegistroEvasaoCursoControle.mapaRegistroEvasaoCursoVO.mapaRegistroAbandonoCursoTrancamentoMatriculaPeriodoVO}"/>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>