<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_Requerimento_tituloForm}" />
	</ui:define>

	<ui:define name="modal">
		<rich:popupPanel styleClass="modalMaximizado" id="panelPreviewAnexo" resizeable="true" width="800" height="600" domElementAttachment="parent" autosized="false" shadowOpacity="true" top="10">
			<f:facet name="header">
				<h:outputText styleClass="field control-label tituloCampos" value="Visualizar Anexo"></h:outputText>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkPreviewPreviewAnexo">
						<rich:componentControl target="panelPreviewAnexo" operation="hide" event="click" />
					</h:graphicImage>
				</h:panelGroup>
			</f:facet>
			<h:form id="formPreviewAnexo">
				<h:panelGroup layout="block" styleClass="row">

					<h:panelGroup layout="block" rendered="#{RequerimentoControle.isAnexoPDF}" style="margin-top: 15px" styleClass="col-md-12 text-center">
						<otm:pdfView id="pdfAnexoPDF" toolbar="1" data="#{RequerimentoControle.caminhoPreviewAnexo}" />
					</h:panelGroup>
					<h:panelGroup layout="block" rendered="#{RequerimentoControle.isAnexoImagem}" style="margin-top: 15px" styleClass="col-md-12 text-center">
						<h:graphicImage id="pdfAnexoImg" url="#{RequerimentoControle.caminhoPreviewAnexo}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="barra-btn-flutuante-modal-80">

						<otm:commandButton id="btnFecharAnexo" value="Fechar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" styleClass="btn btn-danger" style="margin-left: 5px" render="formMotivoNaoAceite" oncomplete="#{rich:component('panelPreviewAnexo')}.hide();" />

					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado50" id="panelEmissaoBloqueada" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Mensagem Bloqueio" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkBloqueio" />
					<rich:componentControl target="panelEmissaoBloqueada" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formEmissaoBloqueada">
				<h:panelGroup columns="1" width="100%">
					<h:panelGroup columns="1" footerClass="colunaCentralizada" width="100%">
						<h:panelGroup columns="1" columnClasses="colunaEsquerda" style="background-color: transparent" width="100%">
							<h:outputText styleClass="field control-label tituloCampos" style="text-align: left;" escape="false" value="#{RequerimentoControle.requerimentoVO.contaReceberVO.contaCorrenteVO.mensagemBloqueioEmissaoBoleto}" />
						</h:panelGroup>
						<h:panelGroup id="paBotao" layout="block" styleClass="barra-btn-flutuante-modal-50">
							<otm:commandButton execute="@this" icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger dark" value="Fechar" oncomplete="#{rich:component('panelEmissaoBloqueada')}.hide()" alt="Fechar" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelExcluir" shadowOpacity="true" width="220" autosized="true">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Excluir" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formExcluir">
				<h:panelGroup columns="1" width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:outputText value="#{msg_aplic.prt_RenovarMatricula_confirmarExclusao}" styleClass="tituloCamposNegrito" />
					<otm:spacer width="20px" />
					<otm:spacer width="20px" />
					<h:panelGroup>
						<otm:commandButton value="Sim" render="formTramiteDepartamentos,panelLinkArquivo,form:mensagem" styleClass="btn btn-dark btn-sim" oncomplete="#{rich:component('panelExcluir')}.hide();" action="#{RequerimentoControle.removerArquivoRequerimento}" alt="Excluir" />
						<otm:spacer width="20px" />
						<otm:commandButton value="Não" immediate="true" render="panelLinkArquivo,form:mensagem" oncomplete="#{rich:component('panelExcluir')}.hide();" styleClass="btn btn-danger btn-nao" alt="Não Excluir" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelMotivoIndeferimento" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Requerimento_motivoIndeferimento}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formMotivoIndeferimento">
				<h:panelGroup columns="1" width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:inputTextarea cols="60" rows="5" value="#{RequerimentoControle.requerimentoVO.motivoIndeferimento}" styleClass="form-control campos" />
					<otm:spacer width="20px" />
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<a4j:commandButton value="Indeferir" render="form" image="#{resource['imagens/botaoIndeferir.png']}" oncomplete="#{rich:component('panelMotivoIndeferimento')}.hide();" action="#{RequerimentoControle.indeferirRequerimento}" alt="Indeferir" />
						<otm:spacer width="20px" />
						<otm:commandButton icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger" value="Fechar" immediate="true" render="panelLinkArquivo" oncomplete="#{rich:component('panelMotivoIndeferimento')}.hide();" alt="Fechar" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelMotivoDeferimento" shadowOpacity="true" width="220" autosized="true">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Requerimento_motivoDeferimento}" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formMotivoDeferimento">
				<h:panelGroup columns="1" width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:inputTextarea cols="60" rows="5" value="#{RequerimentoControle.requerimentoVO.motivoDeferimento}" styleClass="form-control campos" />
					<otm:spacer width="20px" />
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<a4j:commandButton value="Deferir" render="form" image="#{resource['imagens/botaoAutorizar.png']}" oncomplete="#{rich:component('panelMotivoDeferimento')}.hide();" action="#{RequerimentoControle.deferirRequerimento}" alt="Deferir" />
						<otm:spacer width="20px" />
						<otm:commandButton icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger" value="Fechar" immediate="true" render="panelLinkArquivo" oncomplete="#{rich:component('panelMotivoDeferimento')}.hide();" alt="Fechar" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelGravadoComSucesso" shadowOpacity="true" width="450" height="120">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Dados Gravados"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formGravadoComSucesso">
				<h:panelGroup columns="1" width="100%" columnClasses="colunaAlinhamento" styleClass="tabForm">
					<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoImagemGravadoComSucesso}" styleClass="tituloCamposNegrito" />
					<h:outputText style="word-wrap: break-word;text-align: justify;" value="#{RequerimentoControle.msgRequerimentoPossuiValor}" styleClass="tituloCamposNegrito" />
					<otm:spacer width="20px" />
					<h:panelGroup>
						<a4j:commandButton value="Ok" immediate="true" oncomplete="#{rich:component('panelGravadoComSucesso')}.hide()" image="#{resource['/imagens/botaoOK.png']}" alt="OK" styleClass="button1" render="form, form:matricula" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelLayoutRequerimento" autosized="true" shadowOpacity="true" width="570" height="150">
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkLayoutRequerimento" />
					<rich:componentControl target="panelLayoutRequerimento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Requerimento_Layout}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formLayout">
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText value="Impressão PDF" styleClass="field control-label tituloCampos" />
					<h:selectOneMenu id="tipoLayout" styleClass="form-control camposObrigatorios" value="#{RequerimentoControle.tipoLayout}">
						<f:selectItems value="#{RequerimentoControle.listaSelectItemTipoLayout}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
					<a4j:commandButton render="form" image="#{resource['/imagens/botaoComprovante.png']}" action="#{RequerimentoControle.realizarImpressaoPDFEdicao}" oncomplete="#{RequerimentoControle.download}; #{rich:component('panelLayoutRequerimento')}.hide()" />
				</h:panelGroup>
				<otm:spacer height="10px" width="10px" />
				<otm:spacer height="10px" width="10px" />
				<otm:spacer height="10px" width="10px" />
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText rendered="#{RequerimentoControle.isHabilitarImpressaoPoll}" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Impressora_tituloForm}" />
					<h:selectOneMenu rendered="#{RequerimentoControle.isHabilitarImpressaoPoll}" id="impressoras" styleClass="form-control camposObrigatorios" value="#{RequerimentoControle.impressoraVO.codigo}">
						<f:selectItems value="#{RequerimentoControle.listaSelectItemImpressora}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
					<a4j:commandButton rendered="#{RequerimentoControle.isHabilitarImpressaoPoll}" oncomplete="#{rich:component('panelLayoutRequerimento')}.hide()" action="#{RequerimentoControle.imprimirComprovanteRequerimentoBemateck}" id="imprimirMPDFPool" value="Imprimir Ticket" image="#{resource['/imagens/botaoComprovante.png']}" />
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelImpressaoContratoExistente" shadowOpacity="true" width="450" height="150">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Impressões Existentes"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkImpressaoContratoExistente" />
					<rich:componentControl target="panelImpressaoContratoExistente" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formImpressaoContratoExistente">
				<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
					<h:panelGroup layout="block">
						<h:graphicImage value="#{resource['/imagens/avisoResumido.png']}" style="cursor:pointer" />
						<otm:spacer width="10px" />
						<h:outputText value="Já existe uma impressão desse requerimento no sistema. Deseja gerar uma nova impressão ou imprimir a existente?"></h:outputText>
					</h:panelGroup>
					<otm:spacer height="10px" />
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<otm:commandButton id="imprimirContratoExistente" render="form" action="#{RequerimentoControle.validarImpressaoContratoExistente(false)}" value="Imprimir Declaração Existente" oncomplete="#{RequerimentoControle.contrato};#{rich:component('panelImpressaoContratoExistente')}.hide();" image="#{resource['./imagens/botaoImprimirExistente.png']}" icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-default" />
						<otm:spacer width="10px" />
						<otm:commandButton id="imprimirNovoContrato" render="form" action="#{RequerimentoControle.validarImpressaoContratoExistente(true)}" value="Imprimir Nova Declaração" oncomplete="#{RequerimentoControle.contrato};#{rich:component('panelImpressaoContratoExistente')}.hide();" image="#{resource['./imagens/botaoNovaImpressao.png']}" icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-default" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	</ui:define>

	<ui:define name="conteudo">

		<ui:include src="/visaoAdministrativo/academico/requerimentoAnexoForm.xhtml" />

		<h:panelGroup columns="1" id="mensagem" width="100%" columnClasses="colunaEsquerda">
			<otm:mensagem bean="#{RequerimentoControle}"></otm:mensagem>
		</h:panelGroup>
		<h:panelGroup id="pgBotoes" layout="block" styleClass="barraFlutuanteInferior">
			<otm:commandButton id="novo" rendered="#{RequerimentoControle.permiteNovo}" action="#{RequerimentoControle.novo}" value="#{msg_botoes.btn_novo}" styleClass="btn btn-info btn-novo" style="margin-right: 5px" accesskey="1" image="#{resource['imagens/botaoNovo.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_gravar_embutido}" styleClass="btn btn-dark mr5" value="Gravar" id="salvar" action="#{RequerimentoControle.verificarApresentacaoQuestionarioAoGravar}" oncomplete="#{RequerimentoControle.acaoModalQuestionario}; #{RequerimentoControle.oncompleteModal}" accesskey="2" image="#{resource['imagens/botaoGravar.png']}" rendered="#{RequerimentoControle.requerimentoVO.podeSerGravado and RequerimentoControle.permiteGravar}" render="form:mensagem, form, formQuestionario, panelPreviewCertificado, formPreviewCertificado, formRequerimentoTCC, formRequerimentoExistente" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger mr5" value="Excluir" id="excluir" action="#{RequerimentoControle.excluir}" rendered="#{RequerimentoControle.isPermiteExcluir and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios}" accesskey="3" onclick="return confirm('#{msg.msg_confirmacao_excluxao}');" image="#{resource['imagens/botaoExcluir.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_play_embutido}" styleClass="btn btn-primary mr5" value="Iniciar Execução" id="iniciarRequerimento" action="#{RequerimentoControle.iniciarRequerimento}" tooltip="Iniciar execução do Requerimento." rendered="#{RequerimentoControle.requerimentoVO.podeSerIniciadoExecucaoRequerimento and !RequerimentoControle.isRequerimentoPessoaLogada and RequerimentoControle.permiteIniciarRequerimento and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" render="form" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_play_embutido}" styleClass="btn btn-primary mr5" value="Iniciar Execução" id="iniciarRequerimentoDepartamentoAtual" action="#{RequerimentoControle.iniciarRequerimentoDepartamentoAtual}" tooltip="Iniciar execução do requerimento no Dpto" image="#{resource['imagens/botaoIniciarExecucao.png']}" rendered="#{RequerimentoControle.podeSerIniciadoExecucaoDepartamentoAtual and !RequerimentoControle.isRequerimentoPessoaLogada and RequerimentoControle.permiteIniciarRequerimento and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" render="form, formQuestionarioRequerimentoHistorico"
				oncomplete="#{RequerimentoControle.acaoModalQuestionarioRequerimentoHistorico}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_enviar_email_embutido}" styleClass="btn btn-success mr5" value="Enviar Próximo Dpto" id="enviarRequerimentoProximoDepartamento" action="#{RequerimentoControle.prepararEnviarRequerimentoProximoDepartamento}" oncomplete="#{RequerimentoControle.acaoModalQuestionarioRequerimentoHistorico}" title="Enviar Requerimento Proximo Departamento #{RequerimentoControle.nomeProximoDepartamentoTramite} Trâmite Execução Tipo Requerimento" image="#{resource['imagens/botaoEnviarProxDpto.png']}" rendered="#{RequerimentoControle.requerimentoVO.podeSerEncaminhadoProximoDepartamento and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}"
				render="form, formObsTramite, formQuestionarioRequerimentoHistorico" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_confirmar_embutido}" styleClass="btn btn-warning mr5" value="Autorizar" id="deferirRequerimento" oncomplete="#{rich:component('panelMotivoDeferimento')}.show();" tooltip="Autorizar e Finalizar Requerimento com Sucesso." image="#{resource['imagens/botaoAutorizar.png']}" rendered="#{RequerimentoControle.isPermiteDeferir and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" render="formMotivoDeferimento" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_confirmar_embutido}" styleClass="btn btn-info mr5" value="Solicitar Isenção Taxa" id="btnSolicitacaoIsencao" execute="@this" action="#{RequerimentoControle.limparMensagem}" rendered="#{RequerimentoControle.requerimentoVO.permiteSolicitarIsencaoTaxa and (RequerimentoControle.requerimentoVO.edicao or RequerimentoControle.novoRegistro) and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="#{rich:component('panelSolicitacaoIsencao')}.show()" render="formSolicitacaoIsencao" tooltip="Solicitar Isenção Taxa" image="#{resource['/imagens/botaoSolicitarIsencao.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_cancelar_embutido}" styleClass="btn btn-danger mr5" value="Indeferir" id="indeferirRequerimento" oncomplete="#{rich:component('panelMotivoIndeferimento')}.show();" tooltip="Indefirir e Finalizar Requerimento com Negativa à Socilitação." image="#{resource['imagens/botaoIndeferir.png']}" rendered="#{RequerimentoControle.isPermiteInDeferir and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" render="formMotivoIndeferimento" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-warning mr5" value="Comprovante" rendered="#{RequerimentoControle.isPermiteImprimirComprovante and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" action="#{RequerimentoControle.verificarLayoutPadraoImpressao}" render="form" image="#{resource['imagens/botaoComprovante.png']}" onclick="#{rich:component('panelLayoutRequerimento')}.show();" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-primary mr5" value="Imprimir Declaração" rendered="#{RequerimentoControle.isApresentarBotaoImprimirDeclaracaoVisaoAdministrativa and LoginControle.permissaoAcessoMenuVO.impressaoDeclaracao and RequerimentoControle.requerimentoVO.tipoRequerimento.tipo ne 'CM' and RequerimentoControle.requerimentoVO.tipoRequerimento.tipo ne 'EC' and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" action="#{RequerimentoControle.prepararNavegacaoImpressaoDeclaracao}"
				oncomplete="abrirPopup('impressaoDeclaracao.xhtml?matricula=#{RequerimentoControle.requerimentoVO.matricula.matricula}&amp;textoPadrao=#{RequerimentoControle.requerimentoVO.tipoRequerimento.textoPadrao.codigo}&amp;requerimento=#{RequerimentoControle.requerimentoVO.codigo}', 'impressaoDeclaracao', 950, 595);" image="#{resource['imagens/botaoImprimirDeclaracao.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-primary mr5" value="Imprimir declaração" render="formImpressaoContratoExistente, mensagem" rendered="#{RequerimentoControle.isApresentarBotaoImprimirDeclaracaoVisaoAdministrativa and LoginControle.permissaoAcessoMenuVO.certificadoCursoExtensaoRel and RequerimentoControle.requerimentoVO.tipoRequerimento.tipo eq 'CM' and RequerimentoControle.requerimentoVO.matricula.aluno.codigo ne 0 and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="#{RequerimentoControle.contrato};#{RequerimentoControle.certificado};" action="#{RequerimentoControle.imprirmirDeclaracaoVisaoAdministrativo}" image="#{resource['imagens/botaoImprimirDeclaracao.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-success mr5" value="Imprimir Diploma/certificado" render="formImpressaoContratoExistente, mensagem" rendered="#{RequerimentoControle.isApresentarBotaoImprimirDeclaracaoVisaoAdministrativa and RequerimentoControle.requerimentoVO.tipoRequerimento.tipo eq 'EC' and RequerimentoControle.requerimentoVO.matricula.aluno.codigo ne 0 and RequerimentoControle.requerimentoVO.isDeferido and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="#{RequerimentoControle.oncompleteModal};" action="#{RequerimentoControle.gerarCertificadoDigitalVisaoAdministrativa}" image="#{resource['imagens/botaoGerarDiplomaCertificado.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-primary mr5" value="Imprimir Declaração" rendered="#{RequerimentoControle.requerimentoVO.tipoRequerimento.isTipoTransferenciaInterna and LoginControle.permissaoAcessoMenuVO.declaracaoTransferenciaInterna and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="abrirPopup('relatorio/declaracaoTransferenciaInternaRel.xhtml', 'declaracaoTransferenciaInternaRel', 950, 595);" image="#{resource['imagens/botaoImprimirDeclaracao.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleClass="btn btn-success mr5" value="Imprimir Histórico" rendered="#{RequerimentoControle.isTipoAluno and LoginControle.permissaoAcessoMenuVO.historicoAlunoRel and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="abrirPopup('relatorio/historicoAlunoRel.xhtml?matricula=#{RequerimentoControle.requerimentoVO.matricula.matricula}', 'historicoAlunoRel', 950, 595);" image="#{resource['imagens/botaoImprimirHistorico.png']}" action="#{RequerimentoControle.removerControleMemoriaFlashTela('HistoricoAlunoRelControle')}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_gerar_relatorio_embutido}" styleClass="btn btn-info mr5" value="Imprimir" rendered="#{RequerimentoControle.requerimentoVO.tipoRequerimento.isTipoCarteirinha and LoginControle.permissaoAcessoMenuVO.identificacaoEstudantil and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" oncomplete="abrirPopup('identificacaoEstudantil.xhtml?requerimento=#{RequerimentoControle.requerimentoVO.codigo}', 'identificacaoEstudantil', 950, 595);" image="#{resource['imagens/botaoImprimirCarteirinha2.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_enviar_email_embutido}" styleClass="btn btn-success mr5" value="Enviar Dpto Anterior" render="formDepartamentoAnterior" image="#{resource['imagens/botaoEnviarDptoAnterior.png']}" oncomplete="#{rich:component('panelDepartamentoAnterior')}.show();" rendered="#{RequerimentoControle.isPermiteRetornarDepartamentoAnterior and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" tooltip="Enviar para departamento anterior" />
			<a4j:commandLink styleClass="btn btn-info mr5" value="Voltar Requerimento p/ execução" rendered="#{(RequerimentoControle.requerimentoVO.isIndeferido or RequerimentoControle.requerimentoVO.isDeferido) and !RequerimentoControle.permitirUsuarioConsultarIncluirApenasRequerimentosProprios and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" render="formLiberarOperacaoFuncionalidade" image="#{resource['imagens/botaoVoltarExecucao.png']}" oncomplete="#{rich:component('liberarOperacaoFuncionalidade')}.show();" tooltip="Voltar Requerimento p/ Execução">
				<span class="#{msg_botoes.btn_icon_anterior} pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;" />
				<f:setPropertyActionListener value="PermitirVoltarRequerimentoExecucao" target="#{RequerimentoControle.tipoFuncionalidadeValidar}" />
			</a4j:commandLink>
			<otm:commandButton icon="#{msg_botoes.btn_icon_lupa_embutido}" styleClass="btn btn-default mr5" value="Consultar" rendered="#{RequerimentoControle.permiteConsultar}" id="consultar" immediate="true" action="#{RequerimentoControle.inicializarConsultar}" accesskey="4" image="#{resource['imagens/botaoConsultar.png']}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_gerar_relatorio_embutido}" styleClass="btn btn-danger mr5" value="Gerar Relatório" render="form" oncomplete="#{RequerimentoControle.download}" action="#{RequerimentoControle.realizarImpressaoRequerimentoAnalitico}" image="#{resource['imagens/botaoGerarRelatorioPdf.png']}" rendered="#{RequerimentoControle.isApresentarRealizarImpressaoRequerimentoAnalitico and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" />
			<otm:commandButton icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-primary mr5" value="Incluir Disciplina" render="form" action="#{RequerimentoControle.realizarInclusaoDisciplinaRequerimento}" oncomplete="abrirPopup('inclusaoExclusaoDisciplinaMatriculaForm.xhtml', 'inclusaoExclusaoDiscplina', 950, 595);" image="#{resource['imagens/botaoIncluirDisciplina.png']}" rendered="#{RequerimentoControle.apresentarBotaoInclusaoDisciplina and (!RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial or (RequerimentoControle.configuracaoGeralPadraoSistema.apresentarBotoesAcoesRequerimentoApenasAbaInicial and RequerimentoControle.abaAtiva eq 'richTab'))}" />
		</h:panelGroup>
	</ui:define>
</ui:composition>
</html>
