<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>



</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_PixContaCorrente_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<rich:popupPanel id="panelMotivoCancelamento" headerClass="consulta" onshow="document.getElementById('formMotivoCancelamento:motivoCancelamento').focus();" shadowOpacity="true" top="5px" autosized="true" width="500" height="200">
			<f:facet name="header">
				<h:outputText value="Motivo Cancelamento" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['/imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkMotivoCancelamento" />
					<rich:componentControl target="panelMotivoCancelamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formMotivoCancelamento">
				<h:panelGrid columns="1" styleClass="tabForm" width="100%">
					<h:panelGrid columns="1" width="100%">
						<h:panelGroup>
							<h:outputText styleClass="field control-label  tituloCampos" value="#{msg_aplic.prt_ContaReceber_motivoCancelamento}" />
							<h:inputTextarea cols="50" id="motivoCancelamento" rows="3" styleClass="form-control camposObrigatorios" value="#{PixContaCorrenteControle.pixContaCorrenteVO.motivoCancelamento}" />
						</h:panelGroup>
					</h:panelGrid>
					<h:panelGroup layout="block" id="msg" columns="1" width="100%">
						<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{PixContaCorrenteControle.mensagemDetalhada}" />
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row text-center">
						<otm:commandButton style="margin-left:10px" id="cancelarContaReceber" render="formMotivoCancelamento, form" oncomplete="#{PixContaCorrenteControle.oncompleteModal}" action="#{PixContaCorrenteControle.cancelar}" value="#{msg_bt.btn_cancelar}" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" />
						<otm:commandButton style="margin-left:10px" value="Fechar" oncomplete="#{rich:component('panelMotivoCancelamento')}.hide()" styleClass="btn btn-primary dark btn-fechar" />
					</h:panelGroup>
				</h:panelGrid>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel id="panelConsultaPixJson" headerClass="consulta" onshow="document.getElementById('formConsultaPixJson:jsonConsultaPix').focus();" shadowOpacity="true" top="5px" autosized="true" width="500" height="200">
			<f:facet name="header">
				<h:outputText value="Consulta Json Pix" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['/imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkpanelConsultaPixJson" />
					<rich:componentControl target="panelConsultaPixJson" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formConsultaPixJson">
				<h:panelGrid columns="1" styleClass="tabForm" width="100%">
					<h:panelGrid columns="1" width="100%">
						<h:panelGroup>
							<h:outputText styleClass="field control-label  tituloCampos" value="Retorno json" />
							<h:inputTextarea cols="50" id="jsonConsultaPix" readonly="true" rows="15" styleClass="form-control camposSomenteLeitura" value="#{PixContaCorrenteControle.jsonConsultaPix}" />
						</h:panelGroup>
					</h:panelGrid>
					<h:panelGroup layout="block" id="msg" columns="1" width="100%">
						<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{PixContaCorrenteControle.mensagemDetalhada}" />
					</h:panelGroup>
				</h:panelGrid>
			</h:form>
		</rich:popupPanel>
		<h:panelGrid columns="1" id="pgGeral" width="100%" styleClass="background:#fff;">
			<h:form id="form">
				<h:commandLink action="#{PixContaCorrenteControle.liberarBackingBeanMemoria}" immediate="true" id="idLiberarBackingBeanMemoria" style="display: none" />
				<h:panelGroup id="panelGridForm" styleClass="row">
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText value="#{msg_aplic.prt_TextoPadrao_codigo}" styleClass="field control-label tituloCampos" />
							<h:inputText size="20" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.codigo}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText value="#{msg_aplic.prt_PixContaCorrente_statusPixEnum}" styleClass="field control-label tituloCampos" />
							<h:inputText id="statusPixEnum" size="22" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.statusPixEnum}" converter="EnumConverter" />							
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4" >
							<h:outputText value="#{msg_aplic.prt_PixContaCorrente_situacaoPixEnum}" styleClass="field control-label tituloCampos" />
							<h:inputText id="situacaoPixEnum" size="22" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.situacaoPixEnum}" converter="EnumConverter" />							
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="TXID" />
							<h:inputText id="txid"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.txid}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="Data Geração" />
							<h:inputText id="dataGeracao"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.dataGeracao_Apresentar}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_ControleRemessa_responsavel}" />
							<h:inputText id="responsavel"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.usuarioVO.nome}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_contaCorrente}" />
							<h:inputText id="contaCorrente"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.contaCorrenteVO.nomeApresentacaoSistema}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_nossoNumero}" />
							<h:inputText id="nossoNumero"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.nossoNumero}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:panelGroup layout="block" styleClass="col-md-6">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_contaReceber}" />
								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:inputText id="contaReceber"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.contaReceberVO.codigo}" />
									<span class="append-icon right mr10"> <otm:commandIcon id="btnNavegarContaReceber" render="form" icon="#{msg_botoes.btn_icon_engrenagem_embutido}" tooltip="Realizar Navegação para Conta Receber" oncomplete="#{PixContaCorrenteControle.realizarNavegacaoParaContaReceber}" />
									</span>
								</h:panelGroup>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-6">
								<h:outputText styleClass="field control-label tituloCampos" value="Valor Pix Enviado" />
								<h:inputText id="valorContaReceberEnvio"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.valorContaReceberEnvio}" />
							</h:panelGroup>
							
						</h:panelGroup>
					</h:panelGroup>
					
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-12" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.motivoCancelamento ne ''}">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_motivoCancelamento}"  />
							<h:inputText id="motivoCancelamento" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.motivoCancelamento}" />
						</h:panelGroup>
					</h:panelGroup>
					
					
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_nomePagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="nomePagador"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.nomePagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_documentoPagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="documentoPagador"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.documentoPagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_valor}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="valor"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.valor}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_horario}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="horario"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.horario}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />							
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_endToEndId}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="endToEndId"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_infoPagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
							<h:inputText id="infoPagador"  styleClass="form-control camposSomenteLeitura" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.infoPagador}" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.endToEndId ne null}" />
						</h:panelGroup>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:panelGrid columns="1" styleClass="colunaCentralizada" width="100%">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_qrCode}" />
								<h:panelGrid columns="1" style="height:100%;margin: 0 auto;">
									<h:inputText id="textoQrCode1" style="display:none;" value="#{PixContaCorrenteControle.pixContaCorrenteVO.qrCode}" />
									<h:panelGroup layout="block" id="panelQrCode1"></h:panelGroup>
									<script type="text/javascript">
										var qrcode = new QRCode(document.getElementById('form:panelQrCode1'), {
											text : document.getElementById('form:textoQrCode1').value,
											width : 250,
											height : 250,
											colorDark : "#000000",
											colorLight : "#ffffff",
											correctLevel : QRCode.CorrectLevel.H
										});
									</script>
								</h:panelGrid>
								<h:outputText styleClass="field control-label tituloCampos" value="Copie e Cola" />
								<h:inputTextarea cols="32" rows="8" id="qrCodeCopieCole" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.qrCode}" />
							</h:panelGrid>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:panelGrid columns="1" styleClass="colunaCentralizada" width="90%">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_jsonEnvio}" />
								<h:inputTextarea cols="50" rows="15" id="jsonEnvio" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.jsonEnvio}" />
							</h:panelGrid>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-4">
							<h:panelGrid columns="1" styleClass="colunaCentralizada" width="90%">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PixContaCorrente_jsonRetorno}" />
								<h:inputTextarea cols="50" rows="15" id="jsonRetornoPix" readonly="true" value="#{PixContaCorrenteControle.pixContaCorrenteVO.jsonRetorno}" />
							</h:panelGrid>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" id="panelGridMensagens" styleClass="row">
					<otm:mensagem bean="#{PixContaCorrenteControle}"></otm:mensagem>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
					<h:panelGroup>
						<otm:commandButton style="margin-left:5px; margin-top:5px"  id="consultarPixJson" styleClass="btn btn-default btn-consultar" action="#{PixContaCorrenteControle.consultarJsonPix}" oncomplete="#{rich:component('panelConsultaPixJson')}.show()" value="Consulta Json Pix"  render="form, formConsultaPixJson" />
						<otm:commandButton style="margin-left:5px; margin-top:5px"  id="baixar" icon="#{msg_botoes.btn_icon_atualizar_embutido}" action="#{PixContaCorrenteControle.verificarBaixa}" value="Verificar Baixa Pix"  render="form" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.statusPixEnum.ativa}"/>
						<otm:commandButton style="margin-left:5px; margin-top:5px"  id="cancelar" value="#{msg_botoes.btn_cancelar}" oncomplete="#{rich:component('panelMotivoCancelamento')}.show()" styleClass="btn btn-danger light btn-cancelar" icon="#{msg_botoes.btn_icon_cancelar_embutido}" render="form" rendered="#{PixContaCorrenteControle.pixContaCorrenteVO.statusPixEnum.ativa}"/>
						<otm:commandButton style="margin-left:5px; margin-top:5px"  id="consultar" styleClass="btn btn-default btn-consultar" immediate="true" action="#{PixContaCorrenteControle.inicializarConsultar}" value="#{msg_bt.btn_consultar}"  />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</h:panelGrid>
	</ui:define>
</ui:composition>
</html>
