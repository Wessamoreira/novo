<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_Segmentacao_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<h:form id="form">
			<h:panelGroup id="pdParceiro">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block" styleClass="col-md-8">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Segmentacao_descricao}" />
						<h:inputText size="50" maxlength="100" styleClass="form-control camposObrigatorios" value="#{SegmentacaoProspectControle.segmentacaoProspectVO.descricao}" id="descricao" onblur="mudaFoco();">
							<a4j:ajax event="change" listener="#{SegmentacaoProspectControle.realizaValidacaoSegmentacao}" />
						</h:inputText>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Segmentacao_tipoGrafico}" />
						<h:selectOneMenu styleClass="form-control campos" value="#{SegmentacaoProspectControle.segmentacaoProspectVO.tipoLayoutApresentacaoResultadoSegmentacaoEnum}">
							<f:selectItems value="#{SegmentacaoProspectControle.listaSelectItemTipoLayoutApresentacaoResultadoSegmentacaoEnum}" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:panelGroup layout="block" styleClass="col-md-2">
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Segmentacao_ativar}" />
						<h:selectOneMenu styleClass="form-control campos" value="#{SegmentacaoProspectControle.segmentacaoProspectVO.ativaSegmentacao}">
							<a4j:ajax event="change" render="form" listener="#{SegmentacaoProspectControle.consultaProspectVinculado}" />
							<f:selectItems value="#{SegmentacaoProspectControle.ativarSegmentacao}" />
						</h:selectOneMenu>
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup id="pgContato" layout="block" styleClass="row mt10">
				<otm2:panel name="panelTipo_segmen" styleClassFooter="dn" opened="true">
					<ui:define name="header">
						<h:outputText value="Tipo de Segmentação" />
					</ui:define>
					<ui:define name="body">
						<h:panelGroup layout="block" styleClass="row">
							<h:panelGroup layout="block" styleClass="col-md-10">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Segmentacao_tipoSegmentacao}" />
								<h:inputText size="50" maxlength="100" styleClass="form-control camposObrigatorios" value="#{SegmentacaoProspectControle.segmentacaoOpcaoVO.descricao}" id="opcaoSegmento" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-2 text-center">
								<otm:spacer width="100%"></otm:spacer>
								<otm:commandButton render="form:pgContato, form:mensagem" styleClass="btn btn-primary pl30 pr30" icon="#{msg_botoes.btn_icon_adicionar_embutido}" value="Adicionar" accesskey="5" action="#{SegmentacaoProspectControle.adicionarItemSegmetacaoOpcao}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
							<rich:dataTable id="contatoParceiroVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento" rendered="#{!empty SegmentacaoProspectControle.segmentacaoProspectVO.segmentacaoOpcaoVOs}" value="#{SegmentacaoProspectControle.segmentacaoProspectVO.segmentacaoOpcaoVOs}" var="segmentacaoItens">
								<rich:column>
									<f:facet name="header">
										<h:outputText value="#{msg_aplic.prt_Segmentacao_descricao}" />
									</f:facet>
									<h:outputText value="#{segmentacaoItens.descricao}" />
								</rich:column>
								<rich:column>
									<f:facet name="header">
										<h:outputText value="#{msg_bt.btn_opcoes}" />
									</f:facet>
									<h:panelGroup>
										<otm:commandIcon id="editarOpcaoSegmento" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar Opcao Segmento" accesskey="6" render="form:pgContato, form:mensagem" action="#{SegmentacaoProspectControle.editarSegmentacaoOpcao}" />
										<a4j:commandLink id="removerOpcaoSegmento" immediate="true" title="#{msg_bt.btn_excluir}" render="form:pgContato, form:mensagem" accesskey="7" action="#{SegmentacaoProspectControle.removerSegmentacaoOpcaoVOs}" >
											<span class="#{msg_botoes.btn_icon_remover} iconePequeno border-radius-all" />
											<rich:tooltip value="#{msg_bt.btn_excluir}" />
											<f:setPropertyActionListener value="#{segmentacao}" target="#{SegmentacaoProspectControle.segmentacaoOpcaoVO}" />
										</a4j:commandLink>
									</h:panelGroup>
								</rich:column>
							</rich:dataTable>
						</h:panelGroup>
					</ui:define>
				</otm2:panel>
			</h:panelGroup>
			<h:panelGroup id="mensagem" layout="block" styleClass="row">
				<otm:mensagem bean="#{SegmentacaoProspectControle}"></otm:mensagem>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
				<h:panelGroup>
					<otm:commandButton style="margin-right:5px" id="novo" styleClass="btn btn-info btn-novo" value="#{msg_bt.btn_novo}" accesskey="1" action="#{SegmentacaoProspectControle.novo}" />
					<otm:commandButton style="margin-right:5px" id="salvar" styleClass="btn btn-dark btn-gravar" value="#{msg_bt.btn_gravar}" action="#{SegmentacaoProspectControle.gravar}" />
					<otm:commandButton style="margin-right:5px" id="excluir" styleClass="btn btn-danger btn-excluir" value="#{msg_bt.btn_excluir}" accesskey="3" onclick="return confirm('#{msg.msg_confirmacao_excluxao}');" action="#{SegmentacaoProspectControle.excluirSegmentacaoProspectVO}" />
					<otm:commandButton id="consultar" styleClass="btn btn-default btn-consultar" immediate="true" value="#{msg_bt.btn_consultar}" accesskey="4" action="#{SegmentacaoProspectControle.consultar}" />
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
		<script>
			document.getElementById("form:descricao").focus();

			function mudaFoco() {
				document.getElementById("form:opcaoSegmento").focus();
			}
		</script>
	</ui:define>
</ui:composition>
</html>
