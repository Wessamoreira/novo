<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_Workflow_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<!-- 			<a4j:loadStyle src="css/otimize2.css" /> -->
		<!-- 			<a4j:loadScript src="resource:///org/richfaces/renderkit/html/scripts/jquery/jquery.js" /> -->
		<rich:popupPanel styleClass="modalMaximizado50" id="panelMensagemErro" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg.msg_RichMensagemErro}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage styleClass="icon-close-modal" value="#{resource['/imagens/close.png']}" style="cursor:pointer" id="hiperlinkMensagemErro" />
					<rich:componentControl target="panelMensagemErro" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formMensagemErro" onkeydown="fecharModal('panelMensagemErro',event);">
				<h:panelGroup columns="1" width="100%">
					<rich:dataTable id="listaMensagemErro" width="100%" styleClass="mensagemDetalhada" columnClasses="colunaEsquerda" value="#{WorkflowControle.listaMensagemErro}" var="mensagem" rows="10">
						<rich:column>
							<h:outputText value="#{mensagem}" />
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller align="center" for="formMensagemErro:listaMensagemErro" maxPages="10" id="scResultadoListaMensagemErro" />
							</div>
						</f:facet>
					</rich:dataTable>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelArquivoWorkflowCurso" shadowOpacity="true" width="750" height="500" onshow="document.getElementById('formCurso:consultarCurso').focus();">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_consultarCurso}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage styleClass="icon-close-modal" value="#{resource['/imagens/close.png']}" style="cursor:pointer" id="hiperlinkCurso" />
					<rich:componentControl target="panelArquivoWorkflowCurso" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formCurso" onkeydown="fecharModal('panelArquivoWorkflowCurso',event)">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:selectOneMenu styleClass="form-control campos" id="consultarCurso" value="#{WorkflowControle.campoConsultarCurso}">
						<f:selectItems value="#{WorkflowControle.tipoConsultarComboCurso}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:inputText id="valorConsultarCurso" styleClass="form-control campos" value="#{WorkflowControle.valorConsultarCurso}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultarCurso" render="formCurso:mensagemConsultaCurso, formCurso:resultadoConsultaCurso, formCurso" action="#{WorkflowControle.consultarCurso}" styleClass="btn btn-default" value="Consultar" icon="#{msg_botoes.btn_icon_lupa_embutido}" image="#{resource['/imagens/botaoConsultar.png']}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaCurso" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{WorkflowControle.listaConsultarCurso}" rows="5" var="cursoItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_codigo}" />
						</f:facet>
						<h:outputText value="#{cursoItens.codigo}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_nome}" />
						</f:facet>
						<h:outputText value="#{cursoItens.nome}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{WorkflowControle.selecionarCurso}" focus="curso" render="form, formCurso" oncomplete="#{rich:component('panelArquivoWorkflowCurso')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="Selecionar" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formCurso:resultadoConsultaCurso" maxPages="10" id="scResultadoCurso" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaCurso" columns="1" width="100%" styleClass="tabMensagens">
					<h:panelGroup layout="block" styleClass="row">
						<otm:mensagem bean="#{WorkflowControle}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelEtapaWorkflowCurso" shadowOpacity="true" width="750" height="500" onshow="document.getElementById('formEtapaCurso:consultarCurso').focus();">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_consultarCurso}" />
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage styleClass="icon-close-modal" value="#{resource['/imagens/close.png']}" style="cursor:pointer" id="hiperlinkCurso1" />
					<rich:componentControl target="panelEtapaWorkflowCurso" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formEtapaCurso" onkeydown="fecharModal('panelEtapaWorkflowCurso',event)">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:selectOneMenu styleClass="form-control campos" id="consultarCurso" value="#{WorkflowControle.campoConsultarCurso}">
						<f:selectItems value="#{WorkflowControle.tipoConsultarComboCurso}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:inputText id="valorConsultarCurso" styleClass="form-control campos" value="#{WorkflowControle.valorConsultarCurso}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultarCurso" render="formEtapaCurso:mensagemConsultaCurso, formEtapaCurso:resultadoConsultaCurso, formEtapaCurso" action="#{WorkflowControle.consultarCurso}" styleClass="btn btn-default" value="Consultar" icon="#{msg_botoes.btn_icon_lupa_embutido}" image="#{resource['/imagens/botaoConsultar.png']}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaCurso" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{WorkflowControle.listaConsultarCurso}" rows="5" var="cursoItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_codigo}" />
						</f:facet>
						<h:outputText value="#{cursoItens.codigo}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_nome}" />
						</f:facet>
						<h:outputText value="#{cursoItens.nome}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{WorkflowControle.selecionarCursoEtapaWorkflow}" focus="curso" render="form, formEtapaCurso" oncomplete="#{rich:component('panelEtapaWorkflowCurso')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="Selecionar" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formEtapaCurso:resultadoConsultaCurso" maxPages="10" id="scResultadoCurso" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaCurso" columns="1" width="100%" styleClass="tabMensagens">
					<h:panelGroup layout="block" styleClass="row">
						<otm:mensagem bean="#{WorkflowControle}" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<h:panelGroup layout="block" styleClass="row">
			<h:form id="form">
				<h:commandLink action="#{WorkflowControle.liberarBackingBeanMemoria}" id="idLiberarBackingBeanMemoria" style="display: none" />
				<h:panelGroup id="panelGridForm" columns="1" styleClass="tabForm" width="100%">
					<h:panelGroup id="panelGridTopo" columns="2" width="100%">
						<a4j:commandButton image="#{resource['/imagens/botaoErroTopo.png']}" value="#{msg_botoes.btn_VerTodos}" title="#{WorkflowControle.titleBotaoVerTodos}" accesskey="5" rendered="#{WorkflowControle.apresentarBotaoVerTodos}" oncomplete="#{rich:component('panelMensagemErro')}.show()" render="formMensagemErro" />
					</h:panelGroup>
					<rich:tabPanel activeTabClass="true" switchType="client" activeItem="#{WorkflowControle.controleAbas}">
						<rich:tab id="workflow" header="Workflow" switchType="ajax" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}">
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Workflow_nome}" />
									<h:inputText id="nome" size="70" maxlength="100" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.workflowVO.nome}" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Workflow_tempoMedioGerarAgenda}" />
									<h:inputText id="tempoMedioGerarAgenda" size="10" maxlength="10" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.workflowVO.tempoMedioGerarAgenda}" onkeydown="aceitarSomenteValorNumerico(this)" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Workflow_situacaoWorkflow}" />
									<h:inputText readonly="true" id="situacaoWorkflow" size="15" maxlength="15" styleClass="form-control camposSomenteLeitura" value="#{WorkflowControle.workflowVO.tipoSituacaoWorkflow_Apresentar}" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-3">
									<h:outputText styleClass="tituloCampos" value="Número Alertar o usuário tempo máximo interação" />
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:inputText id="numeroSegundosAlertarUsuarioTempoMaximoInteracao" size="10" maxlength="10" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.workflowVO.numeroSegundosAlertarUsuarioTempoMaximoInteracao}" onkeydown="aceitarSomenteValorNumerico(this)" />
										<span class="append-icon right"> <h:outputText styleClass="tituloCampos" value="Segundos" />
										</span>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-12">
									<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_Workflow_objetivo}" />
									<h:inputTextarea id="objetivo" cols="70" rows="3" styleClass="form-control" value="#{WorkflowControle.workflowVO.objetivo}" />
								</h:panelGroup>
							</h:panelGroup>
						</rich:tab>

						<rich:tab id="SituacaoProspectWorkflow" header="Situação Prospect Workflow" switchType="ajax" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}">
							<h:panelGroup layout="block" styleClass="row" id="panelGridSituacaoProspect">
								<f:facet name="header">
									<h:outputText value="#{msg_aplic.prt_SituacaoProspectWorkflow_tituloForm}" />
								</f:facet>
								<h:panelGroup layout="block" styleClass="col-md-10">
									<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_SituacaoProspectWorkflow_situacaoProspectPipeline}" />
									<h:panelGroup layout="block" styleClass="col-md-12 pn">
										<h:selectOneMenu id="SituacaoProspectWorkflow_situacaoProspectPipeline2" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.situacaoProspectWorkflowVO.situacaoProspectPipeline.codigo}">
											<f:selectItems value="#{WorkflowControle.listaSelectItemSituacaoProspectPipeline}" />
											<a4j:ajax event="change" listener="#{WorkflowControle.naoMostrarInputEfetivacaoVendaHistorica}" render="form:panelGridSituacaoProspect" />
										</h:selectOneMenu>
										<span class="append-icon right mr10"> <otm:commandIcon id="atualizar_SituacaoProspectWorkflow_situacaoProspectPipeline2" action="#{WorkflowControle.montarListaSelectItemSituacaoProspectPipeline}" icon="#{msg_botoes.btn_icon_atualizar_embutido}" immediate="true" execute="@this" render="form:SituacaoProspectWorkflow_situacaoProspectPipeline2" />
										</span>
									</h:panelGroup>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-2 text-center">
									<otm:spacer width="100%" />
									<otm:commandButton render="form:panelGridSituacaoProspect, form:mensagem" action="#{WorkflowControle.adicionarSituacaoProspectWorkflow}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" value="Adicionar" styleClass="btn btn-primary pl30 pr30" image="#{resource['/imagens/botaoAdicionar.png']}" accesskey="8" />
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
								<rich:dataTable id="situacaoProspectWorkflowVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaCentralizada" value="#{WorkflowControle.workflowVO.situacaoProspectWorkflowVOs}" var="situacaoProspectWorkflowItens">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_SituacaoProspectWorkflow_situacao}" />
										</f:facet>
										<h:outputText value="#{situacaoProspectWorkflowItens.situacaoProspectPipeline.nome}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_EtapaWorkflow_efetivacaoVendaHistorica}" />
										</f:facet>
										<h:inputText value="#{situacaoProspectWorkflowItens.efetivacaoVendaHistorica}" styleClass="form-control campos" rendered="#{situacaoProspectWorkflowItens.situacaoProspectPipeline.apresentarPipeLine}" onkeydown="aceitarSomenteValorDecimal(this)">
											<f:converter converterId="FormatadorNumerico" />
										</h:inputText>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_SituacaoProspectWorkflow_controles}" />
										</f:facet>
										<h:outputText value="#{situacaoProspectWorkflowItens.situacaoProspectPipeline.controle_Apresentar}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_SituacaoProspectWorkflow_pipeline}" />
										</f:facet>
										<otm:selectBooleanCheckbox disabled="true" value="#{situacaoProspectWorkflowItens.situacaoProspectPipeline.apresentarPipeLine}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_botoes.btn_opcoes}" />
										</f:facet>
										<h:panelGroup>
											<otm:commandIcon id="removerItemVenda" immediate="true" render="form:panelGridSituacaoProspect, form:panelGridMensagens" action="#{WorkflowControle.removerSituacaoProspectWorkflow}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Remover" accesskey="7" />
											<otm:commandIcon id="moverParaCima" render="form:panelGridSituacaoProspect" action="#{WorkflowControle.moverSituacaoProspectWorkflowParaCima}" icon="#{msg_botoes.btn_icon_subir} iconePequeno" tooltip="Mover para cima" rendered="#{WorkflowControle.segundaSituacaoProspectWorkflow}" />
											<otm:commandIcon id="moverParaBaixo" render="form:panelGridSituacaoProspect" action="#{WorkflowControle.moverSituacaoProspectWorkflowParaBaixo}" icon="#{msg_botoes.btn_icon_descer} iconePequeno" tooltip="Mover para baixo" rendered="#{WorkflowControle.antiPenultimaSituacaoProspectWorkflow}" />
										</h:panelGroup>
									</rich:column>
								</rich:dataTable>
							</h:panelGroup>
						</rich:tab>

						<rich:tab id="etapas" header="Etapas" switchType="ajax" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}">
							<h:panelGroup layout="block" styleClass="row">
								<h:panelGroup layout="block" styleClass="col-md-12 text-center mb5">
									<otm:commandButton render="form, form:etapaWorkflow" action="#{WorkflowControle.realizarValidacaoAdicionarEtapa}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" value="Adicionar Etapa Workflow" image="#{resource['/imagens/botaoAdicionarEtapaWorkflow.png']}" accesskey="8" styleClass="btn btn-primary" rendered="#{!WorkflowControle.cancelar}" />
								</h:panelGroup>
								<rich:dataTable id="WorkflowVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento,colunaAlinhamento,colunaAlinhamento,colunaAlinhamento" value="#{WorkflowControle.workflowVO.etapaWorkflowVOs}" var="etapaWorkflowItens">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_EtapaWorkflow_nome}" />
										</f:facet>
										<h:outputText value="#{etapaWorkflowItens.nome}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_EtapaWorkflow_nivelApresentacao}" />
										</f:facet>
										<h:outputText value="#{etapaWorkflowItens.nivelApresentacao}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_botoes.btn_opcoes}" />
										</f:facet>
										<h:panelGroup>
											<otm:commandIcon id="editarItemVenda" action="#{WorkflowControle.editarEtapaWorkflow}" render="form" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar" accesskey="6" />
											<otm:commandIcon id="removerItemVenda" immediate="true" action="#{WorkflowControle.removerEtapaWorkflow}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Remover" accesskey="7" />
										</h:panelGroup>
									</rich:column>
								</rich:dataTable>
							</h:panelGroup>
						</rich:tab>

						<rich:tab header="Etapa Workflow" rendered="#{WorkflowControle.apresentarAbaEtapaWorkflow}" switchType="ajax">
							<h:panelGroup layout="block" styleClass="row" id="etapaWorkflow">
								<rich:tabPanel activeTabClass="true">
									<rich:tab id="basico" header="Dados Básicos" switchType="ajax">
										<h:panelGroup layout="block" styleClass="row" id="panelGridEtapa">
											<h:panelGroup layout="block" styleClass="col-md-12">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_nome}" />
												<h:inputText id="etapaWorkflow_nome" size="70" maxlength="100" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.etapaWorkflowVO.nome}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-12">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_script}" />
												<otm:editor id="scriptWorkflow" height="250" width="600" value="#{WorkflowControle.etapaWorkflowVO.script}">
												</otm:editor>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_cor}" />
												<h:inputText maxlength="6" size="6" styleClass="form-control colorPicker" value="#{WorkflowControle.etapaWorkflowVO.cor}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_corFonte}" />
												<h:inputText maxlength="6" size="6" styleClass="form-control colorPicker" value="#{WorkflowControle.etapaWorkflowVO.corFonte}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_tempoMinimo} (Segundos) " />
												<h:inputText id="etapaWorkflow_tempoMinimo" size="10" maxlength="10" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.etapaWorkflowVO.tempoMinimo}" onkeypress="return mascara(this.form, this.id, '99', event);" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_tempoMaximo} (Segundos)" />
												<h:inputText id="etapaWorkflow_tempoMaximo" size="10" maxlength="10" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.etapaWorkflowVO.tempoMaximo}" onkeypress="return mascara(this.form, this.id, '99', event);" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos btn-block" value="#{msg_aplic.prt_EtapaWorkflow_permitirFinalizarDessaEtapa}" />
												<otm:selectBooleanCheckbox id="etapaWorkflow_permitirFinalizarDessaEtapa" styleClass="form-control campos" value="#{WorkflowControle.etapaWorkflowVO.permitirFinalizarDessaEtapa}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos btn-block" value="#{msg_aplic.prt_EtapaWorkflow_obrigatorioInformarObservacao}" />
												<otm:selectBooleanCheckbox id="etapaWorkflow_obrigatorioInformarObservacao" styleClass="form-control campos" value="#{WorkflowControle.etapaWorkflowVO.obrigatorioInformarObservacao}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_nivelApresentacao}" />
												<rich:inputNumberSpinner minValue="0" id="etapaWorkflow_nivelApresentacaoSpinner" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.etapaWorkflowVO.nivelApresentacao}" disabled="#{WorkflowControle.cancelar}">
													<a4j:ajax event="change" listener="#{WorkflowControle.montarListaSelectItemEtapaAntecedentes}" render="panelGridEtapaSubordinada" />
												</rich:inputNumberSpinner>
											</h:panelGroup>
											<style>
.rf-insp {
	display: block;
	width: 100%;
	height: calc(1.5em + .9rem + 2px);
	padding: .45rem .9rem;
	font-size: .875rem;
	font-weight: 400;
	line-height: 1.5;
	color: #6c757d;
	background-color: #fff;
	background-clip: padding-box;
	border: 1px solid #ced4da;
	border-radius: .2rem;
	transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;
}

.rf-insp-btns {
	background-image: none !important;
	background-color: transparent !important;
	border: none !important;
	vertical-align: middle !important;
	position: relative !important;
	left: 20% !important;
	top: -10% !important;
	margin-top: 8px !important;
}

input.rf-insp-inp[type="text"] {
	background-color: #ffffff;
	background-position: 1px 1px;
	background-repeat: no-repeat;
	border: 0px;
	color: #000000;
	font-family: Arial, Verdana, sans-serif;
	font-size: 12px;
	margin: -6px;
	padding: 0px;
	vertical-align: top;
}
</style>
											<h:panelGroup layout="block" styleClass="col-md-3">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_situacaoDefinirProspectFinal}" />
												<h:panelGroup layout="block" styleClass="col-md-12 pn">
													<h:selectOneMenu id="etapaWorkflow_situacaoDefinirProspectFinal" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.etapaWorkflowVO.situacaoDefinirProspectFinal.situacaoProspectPipeline.codigo}" disabled="#{WorkflowControle.cancelar}">
														<f:selectItems value="#{WorkflowControle.listaSelectItemSituacaoDefinirProspectFinal}" />
														<a4j:ajax event="change" render="etapaWorkflow_situacaoDefinirProspectFinal" />
													</h:selectOneMenu>
													<span class="append-icon right mr10"> <otm:commandIcon id="atualizar_SituacaoProspectWorkflow_situacaoProspectPipeline" action="#{WorkflowControle.montarListaSelectItemSituacaoDefinirProspectFinal}" icon="#{msg_botoes.btn_icon_atualizar_embutido}" execute="@this" render="form:SituacaoProspectWorkflow_situacaoProspectPipeline" />
													</span>
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-12">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_motivo}" />
												<h:inputTextarea styleClass="form-control campos" cols="90" rows="3" value="#{WorkflowControle.etapaWorkflowVO.motivo}" />
												<h:outputText styleClass="tituloCampos" style="font-style: italic;" value="#{msg_aplic.prt_EtapaWorkflow_motivoDescricao}" />
											</h:panelGroup>
										</h:panelGroup>
									</rich:tab>

									<rich:tab id="arquivo" header="Arquivo Workflow" switchType="ajax">
										<h:panelGroup layout="block" styleClass="row" id="panelGridArquivoEtapa">
											<f:facet name="header">
												<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_tituloForm}" />
											</f:facet>
											<h:panelGroup layout="block" styleClass="col-md-12">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_UploadArquivos_escolherArquivo}" />
												<rich:fileUpload listHeight="0" listWidth="70" allowFlash="false" noDuplicate="true" fileUploadListener="#{WorkflowControle.upLoadArquivo}" addLabel="Selecionar Arquivo" maxFilesQuantity="1" cancelEntryControlLabel="Cancelar" doneLabel="Pronto" sizeErrorLabel="Arquivo não Enviado. Tamanho Máximo Permitido #{WorkflowControle.configuracaoGeralPadraoSistema.tamanhoMaximoUpload}MB." progressLabel="Enviando" stopControlLabel="Parar" uploadControlLabel="Enviar" clearAllControlLabel="Limpar lista" transferErrorLabel="Falha de Transmissão" stopEntryControlLabel="Parar" immediateUpload="true" id="upload" clearLabel="" ontyperejected="alert('Arquivo não Enviado. Formato inválido do arquivo.');" sizeExceededLabel="alert('Arquivo não Enviado. Tamanho Máximo Permitido #{WorkflowControle.configuracaoGeralPadraoSistema.tamanhoMaximoUpload}MB.');">
													<a4j:ajax event="uploadcomplete" execute="@this" render="form:panelGridArquivoEtapa, form:panelGridMensagens" />
												</rich:fileUpload>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-6">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_nome}" />
												<h:inputText id="arquivoWorkflow_nome" size="70" maxlength="100" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{WorkflowControle.arquivoEtapaWorkflowVO.arquivo.nome}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-6">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_descricao}" />
												<h:inputText id="arquivoWorkflow_descricao" size="70" maxlength="100" styleClass="form-control camposObrigatorios" value="#{WorkflowControle.arquivoEtapaWorkflowVO.arquivo.descricao}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-6">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_curso}" />
												<h:panelGroup layout="block" styleClass="col-md-12 pn">
													<h:inputText id="arquivoWorkflow_curso" size="30" maxlength="30" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{WorkflowControle.arquivoEtapaWorkflowVO.curso.nome}" />
													<span class="append-icon right"> <otm:commandIcon action="#{WorkflowControle.limparMensagem}" oncomplete="#{rich:component('panelArquivoWorkflowCurso')}.show()" icon="#{msg_botoes.btn_icon_lupa_embutido}" tooltip="#{msg_aplic.prt_ArquivoWorkflow_consultarCurso}" render="formCurso" /> <otm:commandIcon id="limparCursoCurso2" immediate="true" action="#{WorkflowControle.limparCampoCurso}" icon="#{msg_botoes.btn_icon_limpar_embutido}" tooltip="#{msg_aplic.prt_limparCampo}" render="arquivoWorkflow_curso" />
													</span>
												</h:panelGroup>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-2">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_dataUpload}" />
												<h:inputText id="arquivoWorkflow_dataUpload" readonly="true" onkeypress="return mascara(this.form, 'form:arquivoWorkflow_dataUpload', '99/99/9999', event);" size="10" maxlength="10" styleClass="form-control camposSomenteLeitura" value="#{WorkflowControle.arquivoEtapaWorkflowVO.arquivo.dataUpload}">
													<f:convertDateTime pattern="dd/MM/yyyy" />
												</h:inputText>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-4">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_responsavelUpload}" />
												<h:inputText id="arquivoWorkflow_responsavelUpload" size="40" maxlength="40" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{WorkflowControle.arquivoEtapaWorkflowVO.arquivo.responsavelUpload.nome}" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-12 text-center m5">
												<otm:commandButton render="form:panelGridArquivoEtapa, form:panelGridMensagens" action="#{WorkflowControle.adicionarArquivoEtapaWorkflow}" icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-primary" value="Adicionar" image="#{resource['/imagens/botaoAdicionar.png']}" accesskey="6" />
											</h:panelGroup>
											<h:panelGroup columns="1" width="100%" styleClass="tabFormSubordinada">
												<rich:dataTable id="arquivoEtapaWorkflowVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento" value="#{WorkflowControle.etapaWorkflowVO.arquivoEtapaWorkflowVOs}" var="arquivoWorkflowItens">
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_nome}" />
														</f:facet>
														<h:outputText value="#{arquivoWorkflowItens.arquivo.nome}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_descricao}" />
														</f:facet>
														<h:outputText value="#{arquivoWorkflowItens.arquivo.descricao}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_dataUpload}" />
														</f:facet>
														<h:outputText value="#{arquivoWorkflowItens.arquivo.dataUpload_Apresentar}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_responsavelUpload}" />
														</f:facet>
														<h:outputText value="#{arquivoWorkflowItens.arquivo.responsavelUpload.nome}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_ArquivoWorkflow_curso}" />
														</f:facet>
														<h:outputText value="#{arquivoWorkflowItens.curso.nome}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_botoes.btn_opcoes}" />
														</f:facet>
														<h:panelGroup>
															<otm:commandIcon id="editarItemVenda" render="form:panelGridArquivoEtapa, form:panelGridMensagens" action="#{WorkflowControle.editarArquivoEtapaWorkflow}" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar" image="#{resource['/imagens/botaoEditar.png']}" accesskey="6" />
															<f:verbatim>
																<h:outputText value="    " />
															</f:verbatim>
															<otm:commandIcon id="removerItemVenda" render="form:panelGridArquivoEtapa, form:panelGridMensagens" action="#{WorkflowControle.removerArquivoEtapaWorkflow}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Remover" image="#{resource['/imagens/botaoRemover.png']}" accesskey="7" />
														</h:panelGroup>
													</rich:column>
												</rich:dataTable>
											</h:panelGroup>
										</h:panelGroup>
									</rich:tab>

									<rich:tab id="curso" header="Curso Workflow" switchType="ajax">
										<h:panelGroup layout="block" styleClass="row" id="panelGridCursoWorkflow">
											<f:facet name="header">
												<h:outputText value="#{msg_aplic.prt_CursoWorkflow_tituloForm}" />
											</f:facet>
											<h:panelGroup layout="block" styleClass="col-md-12">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_ArquivoWorkflow_curso}" />
												<h:panelGroup layout="block" styleClass="col-md-12 pn">
													<h:inputText id="etapaWorkflow_curso" size="70" maxlength="70" readonly="true" styleClass="form-control camposSomenteLeituraObrigatorio" value="#{WorkflowControle.cursoEtapaWorkflowVO.curso.nome}" />
													<span class="append-icon right"> <otm:commandIcon action="#{WorkflowControle.limparMensagem}" oncomplete="#{rich:component('panelEtapaWorkflowCurso')}.show()" icon="#{msg_botoes.btn_icon_lupa_embutido}" tooltip="#{msg_aplic.prt_ArquivoWorkflow_consultarCurso}" render="formCurso" /> <otm:commandIcon id="limparCursoCurso3" immediate="true" action="#{WorkflowControle.limparCampoCurso}" icon="#{msg_botoes.btn_icon_limpar_embutido}" tooltip="#{msg_aplic.prt_limparCampo}" render="arquivoWorkflow_curso" />
													</span>
												</h:panelGroup>
											</h:panelGroup>
											<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_script}" />
											<otm:editor id="scriptCursoEtapaWorkflow" height="250" width="600" value="#{WorkflowControle.cursoEtapaWorkflowVO.script}">
											</otm:editor>
											<h:panelGroup layout="block" styleClass="col-md-12 text-center m5">
												<otm:commandButton action="#{WorkflowControle.adicionarCursoEtapaWorkflow}" render="form:panelGridCursoWorkflow, form:panelGridMensagens" icon="#{msg_botoes.btn_icon_adicionar_embutido}" value="Adicionar" styleClass="btn btn-primary" image="#{resource['/imagens/botaoAdicionar.png']}" accesskey="7" />
											</h:panelGroup>
											<h:panelGroup columns="1" width="100%" styleClass="tabFormSubordinada">
												<rich:dataTable id="cursoEtapaWorkflowVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento, colunaAlinhamento" value="#{WorkflowControle.etapaWorkflowVO.cursoEtapaWorkflowVOs}" var="cursoWorkflowItens">
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_CursoWorkflow_curso}" />
														</f:facet>
														<h:outputText value="#{cursoWorkflowItens.curso.nome}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_aplic.prt_EtapaWorkflow_script}" />
														</f:facet>
														<h:outputText escape="false" value="#{cursoWorkflowItens.script}" />
													</rich:column>
													<rich:column>
														<f:facet name="header">
															<h:outputText value="#{msg_botoes.btn_opcoes}" />
														</f:facet>
														<h:panelGroup>
															<otm:commandIcon id="editarItemVenda" render="form:panelGridCursoWorkflow, form:panelGridMensagens" action="#{WorkflowControle.editarCursoWorkflow}" icon="#{msg_botoes.btn_icon_editar} iconePequeno" tooltip="Editar" image="#{resource['/imagens/botaoEditar.png']}" accesskey="7" />
															<otm:commandIcon id="removerItemVenda" render="form:panelGridCursoWorkflow, form:panelGridMensagens" action="#{WorkflowControle.removerCursoWorkflow}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Remover" image="#{resource['/imagens/botaoRemover.png']}" accesskey="7" />
														</h:panelGroup>
													</rich:column>
												</rich:dataTable>
											</h:panelGroup>
										</h:panelGroup>
									</rich:tab>

									<rich:tab id="etapaWorkflowSubordinada" header="Etapas Antecedentes" switchType="ajax">
										<h:panelGroup layout="block" styleClass="row" id="panelGridEtapaSubordinada">
											<f:facet name="header">
												<h:outputText value="#{msg_aplic.prt_EtapaAntecedentes_tituloForm}" />
											</f:facet>
											<h:panelGroup layout="block" styleClass="col-md-10">
												<h:outputText styleClass="tituloCampos" value="#{msg_aplic.prt_EtapaWorkflow_tituloForm}" />
												<h:selectOneMenu styleClass="form-control campos" value="#{WorkflowControle.etapaWorkflowAntecedenteVO.etapaAntecedente.stringConcatenadaNomeNivelApresentacao}">
													<f:selectItems value="#{WorkflowControle.listaSelectItemEtapasAntecedentes}" />
												</h:selectOneMenu>
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-2">
											 	<otm:spacer width="100%"></otm:spacer>
												<otm:commandButton action="#{WorkflowControle.adicionarEtapaWorkflowSubordinada}" render="form:panelGridEtapaSubordinada, form:panelGridMensagens, form:mensagem" icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-primary pl30 pr30" value="Adicionar" accesskey="5" />
											</h:panelGroup>
											<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
											<rich:dataTable id="etapaWorkflowVO" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaCentralizada" value="#{WorkflowControle.etapaWorkflowVO.etapaWorkflowAntecedenteVOs}" var="etapaWorkflowAntecedenteItens">
												<rich:column>
													<f:facet name="header">
														<h:outputText value="#{msg_aplic.prt_EtapaWorkflow_nome}" />
													</f:facet>
													<h:outputText value="#{etapaWorkflowAntecedenteItens.etapaAntecedente.nome}" />
												</rich:column>
												<rich:column>
													<f:facet name="header">
														<h:outputText value="#{msg_botoes.btn_opcoes}" />
													</f:facet>
													<h:panelGroup>
														<otm:commandIcon id="removerItemVenda" render="form:panelGridEtapaSubordinada, form:panelGridMensagens" action="#{WorkflowControle.removerEtapaWorkflowSubordinada}" icon="#{msg_botoes.btn_icon_remover} iconePequeno" tooltip="Remover" image="#{resource['/imagens/botaoRemover.png']}" accesskey="7" />
													</h:panelGroup>
												</rich:column>
											</rich:dataTable>
										</h:panelGroup>
									</rich:tab>
								</rich:tabPanel>
								<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
									<h:panelGroup>
										<otm:commandButton render="form" action="#{WorkflowControle.voltarAbaWorkflow}" value="Voltar aba workflow" icon="#{msg_botoes.btn_icon_voltar}" styleClass="btn btn-success mr5" image="#{resource['/imagens/voltarWorkFlow.png']}" />
										<otm:commandButton render="form" action="#{WorkflowControle.adicionarEtapaWorkflow}" value="Adicionar Etapa" icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-primary mr5" rendered="#{!WorkflowControle.cancelar}" />
										<otm:commandButton render="form" action="#{WorkflowControle.realizarAlteracaoScript}" value="Alterar Script" icon="#{msg_botoes.btn_icon_confirmar_embutido}" styleClass="btn btn-info" image="#{resource['/imagens/botaoAlterarScript.png']}" rendered="#{WorkflowControle.cancelar}" />
									</h:panelGroup>
								</h:panelGroup>
							</h:panelGroup>
						</rich:tab>
					</rich:tabPanel>

					<h:panelGroup columns="1" width="100%" styleClass="tabMensagens">
						<h:panelGroup id="mensagem">
							<h:panelGroup layout="block" styleClass="row">
								<otm:mensagem bean="#{WorkflowControle}" />
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="barraFlutuanteInferior" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}">
							<h:panelGroup>
								<otm:commandButton id="novo" image="#{resource['imagens/botaoNovo.png']}" action="#{WorkflowControle.novo}" value="#{msg_bt.btn_novo}" styleClass="btn btn-info btn-novo" accesskey="1" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="salvar" image="#{resource['imagens/botaoGravar.png']}" action="#{WorkflowControle.persistir}" icon="#{msg_botoes.btn_icon_gravar_embutido}" styleClass="btn btn-dark mr5 ml5" value="Gravar" accesskey="2" rendered="#{WorkflowControle.possibilidadeGravar and !WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="excluir" image="#{resource['imagens/botaoExcluir.png']}" action="#{WorkflowControle.excluir}" icon="#{msg_botoes.btn_icon_remover_embutido}" styleClass="btn btn-danger mr5" value="Excluir" accesskey="3" onclick="return confirm('#{msg.msg_confirmacao_excluxao}');" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="clonar" image="#{resource['imagens/botaoClonar.png']}" action="#{WorkflowControle.clonar}" icon="#{msg_botoes.btn_icon_clonar_embutido}" styleClass="btn btn-warning mr5" value="Clonar" accesskey="1" rendered="#{WorkflowControle.clonar and !WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="ativar" image="#{resource['imagens/botaoAtivar.png']}" action="#{WorkflowControle.ativar}" icon="#{msg_botoes.btn_icon_ativar_embutido}" styleClass="btn btn-primary mr5" value="Ativar" accesskey="2" rendered="#{WorkflowControle.ativar and !WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="cancelar" image="#{resource['imagens/botaoCancelar.png']}" action="#{WorkflowControle.cancelar}" icon="#{msg_botoes.btn_icon_cancelar_embutido}" styleClass="btn btn-danger mr5" value="Cancelar" accesskey="2" rendered="#{WorkflowControle.cancelar and !WorkflowControle.apresentarAbaEtapaWorkflow}" />
								<otm:commandButton id="consultar" image="#{resource['imagens/botaoConsultar.png']}" action="#{WorkflowControle.inicializarConsultar}" icon="#{msg_botoes.btn_icon_lupa_embutido}" styleClass="btn btn-default" value="Consultar" accesskey="4" rendered="#{!WorkflowControle.apresentarAbaEtapaWorkflow}" />
							</h:panelGroup>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
				<script type="text/javascript">
					$('document').ready(function() {
						colorPicker();
					});
				</script>
			</h:form>
		</h:panelGroup>
	</ui:define>
</ui:composition>
</html>
