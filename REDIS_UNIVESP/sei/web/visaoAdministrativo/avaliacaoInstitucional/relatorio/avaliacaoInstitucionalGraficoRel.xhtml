<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">

<h:outputScript name="highcharts.js" library="script/highcharts" />
<h:outputScript name="exporting.js" library="script/highcharts/modules" />



<h:panelGroup layout="block" styleClass="row mn" id="dados" rendered="#{!AvaliacaoInstitucionalRelControle.existeRelatorio}">

</h:panelGroup>

<h:panelGroup id="dadosQuestionario" layout="block" rendered="#{AvaliacaoInstitucionalRelControle.existeRelatorio  and !empty AvaliacaoInstitucionalRelControle.avaliacaoInstucionalRelVO.questionarioRelVOs}">
	<h:panelGroup layout="block" styleClass="row mn">
		<h:panelGroup layout="block" styleClass="col-md-6 mb10">
			<h:outputText styleClass="btn-block" style="font-weight: bold;" value="Avaliação: " />
			<h:outputText value="#{AvaliacaoInstitucionalRelControle.avaliacaoInstucionalRelVO.nome}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10">
			<h:outputText styleClass="btn-block" style="font-weight: bold;" value="Questionário: " />
			<h:outputText value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.nome}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarUnidadeEnsino and !AvaliacaoInstitucionalRelControle.relatorioGeral) or (AvaliacaoInstitucionalRelControle.relatorioGeral and AvaliacaoInstitucionalRelControle.codigoUnidadeEnsino ne 0)}">
			<h:outputText styleClass="btn-block" rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarUnidadeEnsino and !AvaliacaoInstitucionalRelControle.relatorioGeral) or (AvaliacaoInstitucionalRelControle.relatorioGeral and AvaliacaoInstitucionalRelControle.codigoUnidadeEnsino ne 0)}" style="font-weight: bold;" value="Unidade Ensino:" />
			<h:outputText rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarUnidadeEnsino and !AvaliacaoInstitucionalRelControle.relatorioGeral) or (AvaliacaoInstitucionalRelControle.relatorioGeral and AvaliacaoInstitucionalRelControle.codigoUnidadeEnsino ne 0)}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.nomeUnidadeEnsino}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarCurso or AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina) and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarCurso or AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina) and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Curso:" />
			<h:outputText rendered="#{(AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarCurso or AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina) and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.nomeCurso}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Disciplina:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarDisciplina and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.nomeDisciplina}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarProfessor and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarProfessor and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Professor:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.apresentarProfessor and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.nomeProfessor}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.coordenador.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.coordenador.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Coordenador:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.coordenador.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.coordenador.nome}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.departamento.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.departamento.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Departamento:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.departamento.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.departamento.nome}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.cargo.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.cargo.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Cargo:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.cargo.codigo > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.cargo.nome}" />
		</h:panelGroup>
		<h:panelGroup layout="block" styleClass="col-md-6 mb10" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.codigoTurma > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}">
			<h:outputText styleClass="btn-block" rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.codigoTurma > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" style="font-weight: bold;" value="Turma:" />
			<h:outputText rendered="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.codigoTurma > 0 and !AvaliacaoInstitucionalRelControle.relatorioGeral}" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.identificadorTurma}" />
		</h:panelGroup>
		<hr class="col-md-12"></hr>
	</h:panelGroup>
	<h:panelGroup layout="block" styleClass="barraFlutuanteInferior">
		<otm:commandButton action="#{AvaliacaoInstitucionalRelControle.voltar}" rendered="#{AvaliacaoInstitucionalRelControle.apresentarVoltar}" icon="#{msg_botoes.btn_icon_voltar}" styleClass="btn btn-default mr5" value="Avaliação Anterior" render="form" />
		<otm:commandButton action="#{AvaliacaoInstitucionalRelControle.avancar}" rendered="#{AvaliacaoInstitucionalRelControle.apresentarAvancar}" icon="#{msg_botoes.btn_icon_avancar_embutido}" value="Proxima Avaliação" styleClass="btn btn-default" render="form" />
	</h:panelGroup>
	<h:panelGroup layout="block" styleClass="row mn">
		<rich:dataGrid style="border: none !important" columns="2" id="listaPergunta" rowKeyVar="row" var="perguntaItens" value="#{AvaliacaoInstitucionalRelControle.questionarioRelVO.perguntaRelVOs}">
			<h:panelGroup layout="block" styleClass="row mn">
				<otm2:panel name="dashboardBI_#{row+1}" cols="12" renderedControl="true" styleClass="width-panel" styleClassClose="ml5 display-icon" styleClassOpen="ml5 display-icon">
					<ui:define name="header">
						<h:outputText styleClass="tituloCamposQuestao" value="#{row+1} - #{perguntaItens.nome}" />
					</ui:define>
					<ui:define name="control">
						<a4j:commandLink oncomplete="resize()" alt="Apresentar Gráfico Pizza" render="listaPergunta" rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and !perguntaItens.apresentarGraficoPizza}">
							<span class="#{msg_botoes.btn_icon_graficoPizza_embutido} fs15" />
							<f:setPropertyActionListener value="GRAFICO_PIZZA" target="#{perguntaItens.tipoResultadoGrafico}" />
						</a4j:commandLink>
						<a4j:commandLink oncomplete="resize()" alt="Apresentar Gráfico Barra" render="listaPergunta" rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and !perguntaItens.apresentarGraficoColuna}">
							<span class="#{msg_botoes.btn_icon_graficoColuna_embutido} fs15 ml5" />
							<f:setPropertyActionListener value="GRAFICO_COLUNA" target="#{perguntaItens.tipoResultadoGrafico}" />
						</a4j:commandLink>
						<a4j:commandLink oncomplete="resize()" alt="Apresentar Lista" render="listaPergunta" rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and !perguntaItens.apresentarLista}">
							<span class="#{msg_botoes.btn_icon_lista_embutido} fs15 ml5" />
							<f:setPropertyActionListener value="LISTA" target="#{perguntaItens.tipoResultadoGrafico}" />
						</a4j:commandLink>
						<otm:commandIcon icon="#{msg_botoes.btn_icon_imprimir_embutido}" styleIcon="font-size: 15px" styleClass="ml5" alt="#{msg.msg_importanciaPergunta}" action="#{AvaliacaoInstitucionalRelControle.imprimirRespostasTextuais}" oncomplete="#{AvaliacaoInstitucionalRelControle.download}" rendered="#{perguntaItens.tipoTexto}" />
					</ui:define>
					<ui:define name="body">
						<h:panelGroup style="height:450px;overflow-x:auto" layout="block" styleClass="row">
							<h:outputText rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and perguntaItens.apresentarGraficoPizza and !perguntaItens.graficoPizza}" escape="false" value="#{perguntaItens.graficoPizza}" />
							<h:outputText rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and perguntaItens.apresentarGraficoColuna  and !perguntaItens.graficoBarra}" escape="false" value="#{perguntaItens.graficoBarra}" />
							<h:panelGroup layout="block" rendered="#{(perguntaItens.tipoSimplesEscolha or perguntaItens.tipoMultiplaEscolha) and perguntaItens.apresentarLista}" style="background-color: transparent;width:100%;height:400px;overflow-x:auto;">
								<a4j:repeat id="respostaTextoLista" rowKeyVar="rows" value="#{perguntaItens.respostaTexto}" var="respostaItens">
									<div class="rf-dt">
										<div class="rf-dt-b">
											<div class="rf-dt-r rf-dt-fst-r">
												<div class="rf-dt-c colunaAlinhamento col-md-4">
													<h:outputText value="#{respostaItens.nomeResposta}" />
												</div>
												<div class="rf-dt-c colunaAlinhamento col-md-4">
													<h:outputText value="#{respostaItens.quantidadePessoa}" />
												</div>
												<div class="rf-dt-c colunaAlinhamento col-md-3">
													<h:outputText value="#{respostaItens.percentual}">
														<f:convertNumber pattern="##0.##" />
													</h:outputText>
													<h:outputText value="%">
													</h:outputText>
												</div>
												<div class="rf-dt-c colunaAlinhamento col-md-1">
													<otm:commandIcon icon="fas fa-chevron-down" action="#{respostaItens.setApresentarFiltroRespostaAdicionais(true)}" render="form:listaPergunta" execute="@form" rendered="#{!empty respostaItens.listaRespostasAdicionais and (!respostaItens.apresentarFiltroRespostaAdicionais)}" tooltip="Apresentar filtro respostas adicionais" />
													<otm:commandIcon icon="fas fa-chevron-up" action="#{respostaItens.setApresentarFiltroRespostaAdicionais(false)}" render="form:listaPergunta" execute="@form" rendered="#{!empty respostaItens.listaRespostasAdicionais and (respostaItens.apresentarFiltroRespostaAdicionais)}" tooltip="Fechar filtro respostas adicionais" />
													<otm:spacer width="100%" rendered="#{empty respostaItens.listaRespostasAdicionais}" />
												</div>
												<h:panelGroup layout="block" styleClass="pt5 mt5" rendered="#{!empty respostaItens.listaRespostasAdicionais and respostaItens.apresentarFiltroRespostaAdicionais}">
													<h:panelGroup styleClass="row mn border rounded bg-gray p5 m5">
														<a4j:repeat rowKeyVar="rowsADD" value="#{respostaItens.listaRespostasAdicionais}" var="respostaADD">
															<h:panelGroup layout="block" styleClass="col-md-12 mb5 pb5 border-bottom p5">
																<h:outputText styleClass="font-weight-bold float-left" value="#{respostaADD.resposta}" />
															</h:panelGroup>
														</a4j:repeat>
													</h:panelGroup>
												</h:panelGroup>
											</div>
										</div>
									</div>
								</a4j:repeat>

								<!-- 								<rich:dataTable id="respostaTextoLista" style="width:100%" rowKeyVar="rows" value="#{perguntaItens.respostaTexto}" var="respostaItens"> -->
								<!-- 									<rich:column style="text-align:left"> -->
								<!-- 										<h:outputText value="#{respostaItens.nomeResposta}" /> -->
								<!-- 									</rich:column> -->
								<!-- 									<rich:column style="text-align:right"> -->
								<!-- 										<h:outputText value="#{respostaItens.quantidadePessoa}" /> -->
								<!-- 										<h:panelGroup layout="block" styleClass="col-md-12 border-top pt5 mt5" rendered="#{!empty respostaItens.listaRespostasAdicionais}"> -->
								<!-- 											<a4j:repeat rowKeyVar="rowsADD" value="#{respostaItens.listaRespostasAdicionais}" var="respostaADD"> -->
								<!-- 												<h:outputText styleClass="tituloCampos" value="#{respostaADD.resposta}" /> -->
								<!-- 											</a4j:repeat> -->
								<!-- 										</h:panelGroup> -->
								<!-- 									</rich:column> -->
								<!-- 									<rich:column style="text-align:right"> -->
								<!-- 										<h:panelGroup> -->
								<!-- 											<h:outputText value="#{respostaItens.percentual}"> -->
								<!-- 												<f:convertNumber pattern="##0.##" /> -->
								<!-- 											</h:outputText> -->
								<!-- 											<h:outputText value="%"> -->
								<!-- 											</h:outputText> -->
								<!-- 										</h:panelGroup> -->
								<!-- 									</rich:column> -->
								<!-- 								</rich:dataTable> -->
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="row mn" rendered="#{perguntaItens.tipoTexto}">
								<a4j:repeat id="respostaTexto" rowKeyVar="rows" value="#{perguntaItens.respostaTexto}" var="resposta">
									<h:panelGroup styleClass="col-md-12 mb10 pb10 border-bottom" layout="block">
										<h:panelGroup id="texto">
											<h:outputText styleClass="font-weight-bold" escape="false" value="#{resposta.resposta}" />
										</h:panelGroup>
									</h:panelGroup>
								</a4j:repeat>
							</h:panelGroup>
						</h:panelGroup>
					</ui:define>
				</otm2:panel>
			</h:panelGroup>
		</rich:dataGrid>
	</h:panelGroup>
</h:panelGroup>
</html>
