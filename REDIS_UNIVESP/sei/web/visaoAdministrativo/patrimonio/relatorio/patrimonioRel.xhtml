<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm" xmlns:otm2="http://www.otimize-ti.com.br">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_PatrimonioRel_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">

		<rich:popupPanel styleClass="modalMaximizado" id="panelLocalArmazenamento" onshow="document.getElementById('formTurma:valorConsultarLocalAramazenamento').focus()" shadowOpacity="true" top="0" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Local Armazenamento"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkLocalAramazenamento" />
					<rich:componentControl target="panelLocalArmazenamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formLocalArmazenamento">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:selectOneMenu styleClass="form-control campos" id="consultaLocalArmazenamento" value="#{PatrimonioRelControle.campoLocalArmazenamento}">
						<f:selectItems value="#{PatrimonioRelControle.tipoConsultaComboLocalArmazenamento}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:inputText id="valorConsultarLocalArmazenamento" size="10" styleClass="form-control campos" value="#{PatrimonioRelControle.valorConsultaLocalArmazenamento}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultarLocalArmazenamento" render="formLocalArmazenamento" action="#{PatrimonioRelControle.consultarLocalArmazenamento}" value="#{msg_bt.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultarLocalArmazenamento" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{PatrimonioRelControle.armazenamentoVOs}" rows="5" var="armazenamentoItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_dre_codigo}" />
						</f:facet>
						<a4j:commandLink action="#{PatrimonioRelControle.selecionarLocalArmazenamento}" oncomplete="#{rich:component('panelLocalArmazenamento')}.hide()" render="form" id="codigoLocalArmazenamento" value="#{armazenamentoItens.codigo}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_LocalArmazenamento_localArmazenamento}" />
						</f:facet>
						<a4j:commandLink action="#{PatrimonioRelControle.selecionarLocalArmazenamento}" oncomplete="#{rich:component('panelLocalArmazenamento')}.hide()" render="form" id="localArmazenamento" value="#{armazenamentoItens.localArmazenamento}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_LocalArmazenamento_unidadeEnsino}" />
						</f:facet>
						<a4j:commandLink action="#{PatrimonioRelControle.selecionarLocalArmazenamento}" oncomplete="#{rich:component('panelLocalArmazenamento')}.hide()" render="form" id="unEns" value="#{armazenamentoItens.unidadeEnsinoVO.nome}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_bt.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{PatrimonioRelControle.selecionarLocalArmazenamento}" focus="turma" render="form" oncomplete="#{rich:component('panelLocalArmazenamento')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" styleClass="btn_icon_selecionar" alt="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formLocalArmazenamento:resultadoConsultarLocalArmazenamento" maxPages="10" id="scResultadoLocalArmazenamento" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultarLocalArmazenamento" layout="block">
					<otm:mensagem bean="#{PatrimonioRelControle}"></otm:mensagem>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<rich:popupPanel styleClass="modalMaximizado" id="panelPatrimonio" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_PatrimonioForm}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelink2" />
					<rich:componentControl target="panelPatrimonio" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formPatrimonio">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:selectOneMenu styleClass="form-control campos" id="consultarPatrimonio" value="#{PatrimonioRelControle.controleConsulta.campoConsulta}">
						<f:selectItems value="#{PatrimonioRelControle.tipoPatrimonioCombo}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:inputText id="valorconsultarPatrimonio" size="10" styleClass="form-control campos" value="#{PatrimonioRelControle.controleConsulta.valorConsulta}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultar" render="formPatrimonio" action="#{PatrimonioRelControle.consultarPatrimonio}" value="#{msg_bt.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaPatrimonio" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{PatrimonioRelControle.patrimonioVOs}" rows="5" var="patrimonioItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_dre_codigo}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{PatrimonioRelControle.selecionarPatrimonio}" render="form" oncomplete="#{rich:component('panelPatrimonio')}.hide()" value="#{patrimonioItens.codigo}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_TipPatrimonio_Descricao}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{PatrimonioRelControle.selecionarPatrimonio}" render="form" oncomplete="#{rich:component('panelPatrimonio')}.hide()" value="#{patrimonioItens.descricao}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_bt.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{PatrimonioRelControle.selecionarPatrimonio}" render="form" oncomplete="#{rich:component('panelPatrimonio')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" alt="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formPatrimonio:resultadoConsultaPatrimonio" maxPages="10" id="scResultadoPatrimonio" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultarPatrimonio" layout="block">
					<otm:mensagem bean="#{PatrimonioRelControle}"></otm:mensagem>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>

		<h:form id="form">
			<h:panelGroup id="panelGridForm">
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_msg_unidadeEnsino}" />
					<h:selectOneMenu disabled="#{PatrimonioRelControle.localArmazenamentoVO.codigo > 0}" id="unidadeEnsino" styleClass="form-control camposObrigatorios" value="#{PatrimonioRelControle.unidadeEnsinoVO.codigo}">
						<f:selectItems value="#{PatrimonioRelControle.listaSelectItemUnidadeEnsino}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Catalogo_local}" />
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<h:inputText id="localArmazenamento" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{PatrimonioRelControle.localArmazenamentoVO.localArmazenamento}" />
						<span class="append-icon right"> <otm:commandIcon id="consultaDadosLocalArmazenamento" focus="valorConsultaTurma" alt="Consultar Turma" render="formTurma" oncomplete="#{rich:component('panelLocalArmazenamento')}.show(), setFocus(formLocalArmazenamento,'formLocalArmazenamento:valorConsultaLocalAramazenamento');" icon="#{msg_botoes.btn_icon_lupa_embutido}" /> <otm:commandIcon id="limparDadosLocalArmazenamento" alt="Limpas Dados" action="#{PatrimonioRelControle.limparLocalArmazenamento}" render="form,formLocalArmazenamento" icon="#{msg_botoes.btn_icon_limpar_embutido}" />
						</span>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Patrimonio_TipoPatrimonio}" />
					<h:selectOneMenu id="tipoPatrimonio" styleClass="form-control camposObrigatorios" value="#{PatrimonioRelControle.tipoPatrimonioVO.codigo}">
						<f:selectItems value="#{PatrimonioRelControle.listaSelectItemTipoPatrimonio}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioForm}" />
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<h:inputText id="patrimonio" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{PatrimonioRelControle.patrimonioVO.descricao}" />
						<span class="append-icon right"> <otm:commandIcon id="consultaDadosPatrimonio" focus="valorConsultaTurma" alt="Consultar Turma" render="formTurma" oncomplete="#{rich:component('panelPatrimonio')}.show()" icon="#{msg_botoes.btn_icon_lupa_embutido}" /> <otm:commandIcon id="limparDadosPatrimonio" alt="Limpas Dados" action="#{PatrimonioRelControle.limparPatrimonio}" render="form,formPatrimonio" icon="#{msg_botoes.btn_icon_limpar_embutido}" />
						</span>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_AtaProva_tipoLayout}" />
					<h:selectOneMenu id="layout" styleClass="form-control camposObrigatorios" value="#{PatrimonioRelControle.layout}">
						<f:selectItems value="#{PatrimonioRelControle.listaSelectItemTipoRelatorio}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-4">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Ordenar_por}" />
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<h:selectOneMenu id="ordenar" styleClass="form-control camposObrigatorios" value="#{PatrimonioRelControle.ordenar}">
							<f:selectItems value="#{PatrimonioRelControle.listaSelectItemOrdenarPor}" />
						</h:selectOneMenu>
					</h:panelGroup>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelIncluirSubLocal}" />
					<h:panelGroup layout="block" styleClass="col-md-12 pn">
						<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.incluirSubLocal}">
							<a4j:ajax event="click" execute="@this" />
						</otm:selectBooleanCheckbox>
					</h:panelGroup>
				</h:panelGroup>
				<otm2:panel name="panel_sitacaoPatrimonio" stylePanel="margin-top: 10px" stylePanelHeader=" " styleClassBody="mn" styleClassHeader="row mn rounded-top border bg-gray p10" styleClassFooter="dn" renderedControl="false">
					<ui:define name="header">
						<h:outputText styleClass="font-weight-bold" value="#{msg_aplic.prt_SitucaoPatrimonio}" />
					</ui:define>
					<ui:define name="body">
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelDisponivel}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.emUso}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelManutencao}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.manutencao}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelEmprestado}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.emprestado}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelSeparadoDescarte}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.separadoParaDescarte}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRelDescartado}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox value="#{PatrimonioRelControle.patrimonioRelVO.descartado}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-2">
							<h:outputText rendered="#{LoginControle.permissaoAcessoMenuVO.permitirApresentarValorRecursoPatrimonioRel}" styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_PatrimonioRel_ApresentarValorRecurso}" />
							<h:panelGroup layout="block" styleClass="col-md-12 pn">
								<otm:selectBooleanCheckbox rendered="#{LoginControle.permissaoAcessoMenuVO.permitirApresentarValorRecursoPatrimonioRel}" value="#{PatrimonioRelControle.apresentarValor}">
									<a4j:ajax event="click" execute="@this" />
								</otm:selectBooleanCheckbox>
							</h:panelGroup>
						</h:panelGroup>
					</ui:define>
				</otm2:panel>
				<h:panelGroup layout="block" id="panelGridMensagens">
					<otm:mensagem bean="#{PatrimonioRelControle}"></otm:mensagem>
				</h:panelGroup>
				<h:panelGroup styleClass="barraFlutuanteInferior">
					<h:panelGroup>
						<otm:commandButton style="margin-right:5px" value="imprimir PDF" icon="#{msg_botoes.btn_icon_pdf_embutido}" styleClass="btn btn-danger btn_icon_pdf_embutido" oncomplete="#{PatrimonioRelControle.download}" action="#{PatrimonioRelControle.imprimirPDF}" render="form" />
						<otm:commandButton oncomplete="#{PatrimonioRelControle.download}" action="#{PatrimonioRelControle.imprimirExcel}" render="form" value="imprimir Excel" icon="fas fa-file-excel" styleClass="btn btn-info" />
					</h:panelGroup>
				</h:panelGroup>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>
