<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_MapaCotacao_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<title><h:outputText value="#{msg_aplic.prt_Compra_tituloForm}" /></title>
		<h:form id="formCotacao">
			<rich:panel header="Cotação">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup id="dadosBasico">
						<h:panelGroup layout="block" styleClass="col-md-3">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Cotacao_codigo}" />
							<h:inputText readonly="true" size="20" styleClass="form-control camposSomenteLeitura" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.codigo}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-3">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Cotacao_dataCotacao}" />
							<h:inputText readonly="true" size="16" styleClass="form-control camposSomenteLeitura" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.dataCotacao_Apresentar}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:inputText>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-3">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Cotacao_situacao}" />
							<h:inputText styleClass="form-control camposSomenteLeitura" readonly="true" size="20" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.situacao_Apresentar}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-3">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Cotacao_valorTotal}" />
							<h:inputText readonly="true" size="16" styleClass="form-control camposSomenteLeitura" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.valorTotalCompraCotacao}">
								<f:converter converterId="FormatadorNumerico5Casas" />
							</h:inputText>
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}">
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada}" value="#{msg_aplic.prt_Cotacao_responsavelAutorizacao}" />
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao}" value="#{msg_aplic.prt_Cotacao_responsavelRevisao}" />
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" value="#{msg_aplic.prt_Cotacao_responsavelIndeferimento}" />
							<h:inputText id="responsavelAutorizacao" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" styleClass="form-control camposSomenteLeitura" readonly="true" size="60" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.responsavelAutorizacao.nome}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}">
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada}" value="#{msg_aplic.prt_Cotacao_dataAutorizacao}" />
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao}" value="#{msg_aplic.prt_Cotacao_dataRevisao}" />
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" value="#{msg_aplic.prt_Cotacao_dataIndeferimento}" />
							<h:inputText id="dataAutorizacao" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" readonly="true" size="16" maxlength="16" styleClass="form-control camposSomenteLeitura" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.dataAutorizacao_Apresentar}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}">
							<h:outputText styleClass="field control-label tituloCampos" rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao}" value="#{msg_aplic.prt_Cotacao_motivo}" />
							<h:inputTextarea rendered="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.revisarCotacao or MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" disabled="true" styleClass="form-control camposSomenteLeituraTextArea" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.motivoRevisao}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_Cotacao_categoriaProduto}" />
							<h:inputText size="60" readonly="true" styleClass="form-control camposSomenteLeituraObrigatorio" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.categoriaProduto.nome}" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</rich:panel>
			<rich:panel header="Trâmite Atual" rendered="#{MapaCotacaoControle.mapaCotacaoVO.existeCotacaoHistorico}">
				<h:panelGroup layout="block" styleClass="row">
					<h:panelGroup layout="block">
						<h:outputText styleClass="field control-label tituloCampos" value="Responsável" />
						<otm:spacer width="10px" />
						<h:inputText size="40" maxlength="50" readonly="true" styleClass="camposSomenteLeituraObrigatorio" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.responsavel.nome}" />
						<otm:spacer width="10px" />
						<otm:commandButton style="position:relative; left:-10px; top:-1px;" render="formTrocaResponsavel" styleClass="#{msg_botoes.btn_icon_lupa_embutido}" action="#{MapaCotacaoControle.consultarTrocaResponsavel}" oncomplete="#{rich:component('panelTrocaResponsavel')}.show();" alt="Consultar Usuário do Departamento" title="Consultar Usuário do Departamento" rendered="#{MapaCotacaoControle.permiteAlterarResponsavel}" />
						<otm:commandButton style="position:relative; left:-10px; top:-1px;" render="formCotacao" image="#{resource['/imagens/iconeSalvar.png']}" action="#{MapaCotacaoControle.gravarTrocaResponsavel}" alt="Salvar Reponsável do Departamento" title="Salvar Reponsável do Departamento" rendered="#{MapaCotacaoControle.permiteAlterarResponsavel}" />
						<otm:spacer width="10px" />
						<h:outputText styleClass="field control-label tituloCampos" value="Departamento" />
						<otm:spacer width="10px" />
						<h:inputText size="36" maxlength="50" readonly="true" styleClass="form-control camposSomenteLeitura" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.departamentoTramiteCotacaoCompra.departamentoVO.nome}" />
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:outputText styleClass="field control-label tituloCampos" value="Orientação" style="position: relative;top: -30px;" />
						<otm:spacer width="20px" />
						<h:inputTextarea readonly="true" style="width: 700px;" rows="5" styleClass="form-control campos" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.departamentoTramiteCotacaoCompra.orientacaoResponsavel}" />
					</h:panelGroup>
				</h:panelGroup>
			</rich:panel>
			<rich:tabPanel switchType="client">
				<rich:tab header="Cotação">
					<h:panelGroup layout="block" styleClass="row">
						<h:panelGroup columns="1" width="100%" columnClasses="colunaCentralizada">
							<rich:dataGrid id="compras" elements="1" columns="1" width="100%" headerClass="consulta" footerClass="tabFooter" style="background-color: transparent; margin: 0 !important; width: 100% !important;" value="#{MapaCotacaoControle.agrupadoresCompras}" var="compraItens">
								<h:panelGroup columns="1" width="100%" columnClasses="colunaEsquerda" styleClass="tabForm">
									<h:panelGroup layout="block">
										<h:outputText styleClass="tituloCamposNegrito" value="#{msg_aplic.prt_Compra_fornecedor}:" />
										<h:outputText styleClass="field control-label tituloCampos" value="#{compraItens.fornecedor.nome}" />
									</h:panelGroup>
								</h:panelGroup>
								<rich:dataTable footerClass="tabFooter" id="itensCompra" bgcolor="background-color: transparent; border: transparent" rowClasses="linhaPar, linhaImpar" rows="15" style="background-color: transparent;" columnClasses="colunaAlinhamento" cellpadding="0" var="compraItemItens" cellspacing="0" value="#{compraItens.produtoAgrupadores}">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_CompraItem_produto}" />
										</f:facet>
										<h:outputText value="#{compraItemItens.produto.nome}" />
										<f:facet name="footer">
											<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="Totais" />
										</f:facet>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_CompraItem_quantidade}" />
										</f:facet>
										<h:outputText value="#{compraItemItens.quantidade}">
											<f:converter converterId="FormatadorNumerico" />
										</h:outputText>
										<f:facet name="footer">
											<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{compraItens.quantidadeTotal}">
												<f:converter converterId="FormatadorNumerico" />
											</h:outputText>
										</f:facet>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Preço Total" />
										</f:facet>
										<h:outputText value="#{compraItemItens.precoTotal}">
											<f:converter converterId="FormatadorNumerico5Casas" />
										</h:outputText>
										<f:facet name="footer">
											<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{compraItens.precoTotal}">
												<f:converter converterId="FormatadorNumerico5Casas" />
											</h:outputText>
										</f:facet>
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_botoes.btn_opcoes}" />
										</f:facet>
										<otm:commandIcon render="datatableCompras" oncomplete="#{rich:component('panelCompras')}.show();" action="#{MapaCotacaoControle.selecionarCompraItem}" icon="#{msg_botoes.btn_icon_lupa} iconePequeno" tooltip="#{msg_botoes.btn_visualizar}" />
									</rich:column>
								</rich:dataTable>
								<f:facet name="footer">
									<div style="text-align: center !important">
										<rich:dataScroller align="center" boundaryControls="auto" fastControls="hide" stepControls="auto" for="itensCompra" maxPages="10" />
									</div>
								</f:facet>
							</rich:dataGrid>
							<div style="width: 100%; text-align: center !important">
								<rich:dataScroller boundaryControls="auto" stepControls="auto" fastControls="hide" for="compras" />
							</div> 
						</h:panelGroup>
					</h:panelGroup>
				</rich:tab>
				<rich:tab header="Histórico Trâmite" rendered="#{!empty MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.listaCotacaoHistoricoVOs}">
					<h:panelGroup layout="block" styleClass="row">
						<rich:dataTable width="100%" footerClass="tabFooter" id="historico" bgcolor="background-color: transparent; border: transparent" rowClasses="linhaPar, linhaImpar" style="background-color: transparent;" columnClasses="colunaAlinhamento" cellpadding="0" var="tramiteHistorico" cellspacing="0" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.listaCotacaoHistoricoVOs}">
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Ordem" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.departamentoTramiteCotacaoCompra.ordem}">
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Responsavel" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.responsavel.nome}">
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Departamento" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.departamentoTramiteCotacaoCompra.departamentoVO.nome}">
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Data de Inicio" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.dataInicio}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Data Previsão Final" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.dataPrevisaoFim}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Data Final" />
								</f:facet>
								<h:outputText value="#{tramiteHistorico.dataFim}">
									<f:convertDateTime pattern="dd/MM/yyyy" />
								</h:outputText>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Orientação" />
								</f:facet>
								<h:graphicImage id="orient" value="#{resource['imagens/lupa.png']}" rendered="#{tramiteHistorico.departamentoTramiteCotacaoCompra.orientacaoResponsavel != null and !tramiteHistorico.departamentoTramiteCotacaoCompra.orientacaoResponsavel.trim().isEmpty()}">
									<rich:tooltip direction="bottomLeft" mode="client" layout="block" followMouse="false" horizontalOffset="0" verticalOffset="0" target="orient" style="background-color:#cccccc;border-color:#666666; z-index: 2000">
										<h:inputTextarea disabled="true" cols="60" rows="8" value="#{tramiteHistorico.departamentoTramiteCotacaoCompra.orientacaoResponsavel}" />
									</rich:tooltip>
								</h:graphicImage>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Observação" />
								</f:facet>
								<h:graphicImage id="observacao" value="#{resource['imagens/lupa.png']}" rendered="#{tramiteHistorico.observacao != null and !tramiteHistorico.observacao.trim().isEmpty()}">
									<rich:tooltip direction="bottomLeft" mode="client" layout="block" followMouse="false" horizontalOffset="0" verticalOffset="0" target="observacao" style="background-color:#cccccc;border-color:#666666; z-index: 2000">
										<h:inputTextarea disabled="true" cols="60" rows="8" value="#{tramiteHistorico.observacao}" />
									</rich:tooltip>
								</h:graphicImage>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Motivo Retorno" />
								</f:facet>
								<h:graphicImage id="orient1" value="#{resource['imagens/lupa.png']}" rendered="#{tramiteHistorico.mostrarBotao}">
									<rich:tooltip direction="bottomLeft" mode="client" layout="block" followMouse="false" horizontalOffset="0" verticalOffset="0" target="orient1" style="background-color:#cccccc;border-color:#666666; z-index: 2000">
										<h:inputTextarea disabled="true" cols="60" rows="8" value="#{tramiteHistorico.motivoRetorno}" />
									</rich:tooltip>
								</h:graphicImage>
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Anexos" />
								</f:facet>
								<a4j:commandLink render="datatableDownloads" rendered="#{!tramiteHistorico.listaMaterialTramiteCotacaoCompra.isEmpty()}" oncomplete="#{rich:component('downloads')}.show();" style="margin:0px;margin-left:0px; width: 19px; cursor:pointer;" value="#{msg_bt.btn_descer}" image="#{resource['/imagens/botaoDownloadResumido.png']}">
									<f:setPropertyActionListener value="#{tramiteHistorico}" target="#{MapaCotacaoControle.cotacaoHistoricoSelecionada}" />
								</a4j:commandLink>
							</rich:column>
							<f:facet name="footer">
								<div style="text-align: center !important">
									<rich:dataScroller align="center" boundaryControls="auto" fastControls="hide" stepControls="auto" for="historico" maxPages="10" />
								</div>
							</f:facet>
						</rich:dataTable>
					</h:panelGroup>
				</rich:tab>
				<h:panelGroup id="msgCotacao" columns="1" width="100%" styleClass="tabMensagens">
					<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
					<h:panelGroup layout="block" style="text-align: center !important; width:100%;">
						<otm:commandButton id="consultar" immediate="true" action="#{MapaCotacaoControle.inicializarConsultar}" value="#{msg_botoes.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" accesskey="4" />
						<otm:spacer width="5px" rendered="#{MapaCotacaoControle.mostrarBotaoAutorizar}" />
						<otm:commandButton title="#{msg.msg_autorizar_cotacao}" rendered="#{MapaCotacaoControle.mostrarBotaoAutorizar}" image="#{resource['/imagens/botaoAutorizar.png']}" icon="#{msg_botoes.btn_icon_confirmar_embutido}" value="Autorizar" styleClass="btn btn-primary dark" render="formCotacao" action="#{MapaCotacaoControle.autorizar}" />
						<otm:spacer width="5px" rendered="#{!MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" />
						<otm:commandButton title="#{msg.msg_indeferir_cotacao}" rendered="#{!MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.indeferido}" image="#{resource['/imagens/botaoIndeferir.png']}" icon="#{msg_botoes.btn_icon_atualizar_embutido}" value="Indeferir" styleClass="btn btn-default dark" render="formMotivo headerPanelMotivo" oncomplete="#{rich:component('panelMotivo')}.show();" action="#{MapaCotacaoControle.motivoIndeferir}" />
						<otm:spacer width="5px" rendered="#{!MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada}" />
						<otm:commandButton title="#{msg.msg_revisar_cotacao}" rendered="#{!MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.autorizada}" icon="#{msg_botoes.btn_icon_selecionar_embutido}" value="Revisar Cotacao" styleClass="btn btn-info dark" image="#{resource['/imagens/botaoRevisar.png']}" render="formMotivo headerPanelMotivo" oncomplete="#{rich:component('panelMotivo')}.show();" action="#{MapaCotacaoControle.motivoRevisar}" />
						<otm:spacer width="5px" />
						<otm:commandButton render="form:panelMensagem" id="imprimirPDF" oncomplete="#{MapaCotacaoControle.download}" action="#{MapaCotacaoControle.imprimirPDF}" icon="#{msg_botoes.btn_icon_pdf_embutido}" value="Gerar Relatório (PDF)" accesskey="2" styleClass="btn btn-danger" />
						<otm:spacer width="5px" rendered="#{MapaCotacaoControle.mostrarBotaoRetornar and MapaCotacaoControle.permiteRetornarTramite}" />
						<a4j:commandLink value="Anterior" styleClass="btn btn-default dark" image="#{resource['imagens/botaoEnviarDptoAnterior.png']}" render="formObservacao" rendered="#{MapaCotacaoControle.mostrarBotaoRetornar and MapaCotacaoControle.permiteRetornarTramite}" oncomplete="#{rich:component('panelObservacao')}.show();">
							<span class="fas fa-angle-double-right pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
							<f:setPropertyActionListener value="true" target="#{MapaCotacaoControle.retorno}" />
						</a4j:commandLink>
						<otm:spacer width="5px" rendered="#{MapaCotacaoControle.mostrarBotaoAvancar}" />
						<a4j:commandLink value="Proximo" styleClass="btn btn-default dark" image="#{resource['imagens/botaoEnviarProxDpto.png']}" render="formObservacao" rendered="#{MapaCotacaoControle.mostrarBotaoAvancar}" oncomplete="#{rich:component('panelObservacao')}.show();">
							<span class="fas fa-angle-double-left pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
							<f:setPropertyActionListener value="false" target="#{MapaCotacaoControle.retorno}" />
						</a4j:commandLink>
						<otm:spacer width="5px" />
						<otm:commandButton id="visualizarCotacao" action="#{MapaCotacaoControle.realizarNavegacaoParaTelaCotacao}" image="#{resource['/imagens/visualizarCotacao.png']}" icon="#{msg_botoes.btn_icon_livro_embutido}" value="Visualizar Cotacao" styleClass="btn btn-info dark" alt="Realizar Navegação para Tela de Cotação" title="Realizar Navegação para Tela de Cotação" />
					</h:panelGroup>
				</h:panelGroup>
			</rich:tabPanel>
		</h:form>
		<rich:popupPanel styleClass="modalMaximizado" id="panelMotivo" shadowOpacity="true" autosized="true" resizeable="false">
			<f:facet name="header">
				<h:panelGroup id="headerPanelMotivo">
					<h:outputText rendered="#{MapaCotacaoControle.revisao}" value="Motivo Revisão"></h:outputText>
					<h:outputText rendered="#{!MapaCotacaoControle.revisao}" value="Motivo para Indeferir"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelinkMotivo" />
					<rich:componentControl target="panelMotivo" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formMotivo">
				<h:panelGroup layout="block" styleClass="col-md-6">
					<h:outputText styleClass="field control-label" value="Motivo Revisão" />
					<h:inputTextarea cols="70" rows="5" styleClass="form-control camposObrigatorios" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoVO.motivoRevisao}" />
				</h:panelGroup>
				<h:panelGroup id="msgMotivo" columns="1" width="100%" styleClass="tabMensagens">
					<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<a4j:commandButton rendered="#{!MapaCotacaoControle.revisao}" title="#{msg.msg_indeferir_cotacao}" image="#{resource['/imagens/botaoIndeferir.png']}" render="formCotacao, formMotivo:msgMotivo" oncomplete="#{rich:component('panelMotivo')}.hide();" action="#{MapaCotacaoControle.indeferir()}" />
						<a4j:commandButton style="margin:5px" rendered="#{MapaCotacaoControle.revisao}" title="#{msg.msg_revisar_cotacao}" image="#{resource['/imagens/botaoRevisar.png']}" render="formCotacao, formMotivo:msgMotivo" oncomplete="#{rich:component('panelMotivo')}.hide();" action="#{MapaCotacaoControle.revisar()}" />
						<otm:commandButton value="#{msg_botoes.btn_fechar}" icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger dark" oncomplete="#{rich:component('panelMotivo')}.hide();" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelObservacao" shadowOpacity="true" width="700" height="400">
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="panelObservacao" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formObservacao">
				<rich:tabPanel switchType="client">
					<rich:tab execute="motivoRetorno, motivoObservacao" header="#{MapaCotacaoControle.retorno? 'Motivo Retorno' : 'Observação'}">
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText styleClass="field control-label tituloCampos" value="Observação" />
							<h:inputTextarea id="motivoRetorno" rendered="#{!MapaCotacaoControle.retorno}" style="width: 660px;" rows="5" styleClass="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.cssCampoObservacao}" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.observacao}" />
						</h:panelGroup>
						<h:panelGroup layout="block" styleClass="col-md-6">
							<h:outputText styleClass="field control-label tituloCampos" value="Motivo Retorno" />
							<h:inputTextarea id="motivoObservacao" rendered="#{MapaCotacaoControle.retorno}" style="width: 660px;" rows="5" styleClass="form-control camposObrigatorios" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.motivoRetorno}" />
						</h:panelGroup>
					</rich:tab>
					<rich:tab execute="motivoRetorno, motivoObservacao" id="richTabMaterial" header="Arquivo(s) Anexado(s)">
						<h:panelGroup id="anexos">
							<h:panelGroup layout="block" styleClass="col-md-6">
								<h:outputText styleClass="field control-label tituloCampos" value="Descrição" />
								<h:inputText id="descricaoMaterialRequerimento" size="80" maxlength="160" styleClass="form-control camposObrigatorios" value="#{MapaCotacaoControle.materialTramiteCotacaoCompra.descricao}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12" style="margin:5px">
								<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_UploadArquivos_escolherArquivo}" />
								<rich:fileUpload listHeight="60" listWidth="390" noDuplicate="true" fileUploadListener="#{MapaCotacaoControle.upLoadArquivoMaterialTramite}" maxFilesQuantity="1" addLabel="Selecionar Arquivo" doneLabel="Pronto" sizeExceededLabel="Arquivo não Enviado. Tamanho Máximo Permitido #{MapaCotacaoControle.configuracaoGeralPadraoSistema.tamanhoMaximoUpload}MB." uploadLabel="Enviar" clearAllLabel="Limpar lista" serverErrorLabel="Arquivo não Enviado. Formato inválido do arquivo" onuploadcomplete="return validarTamanhoUploadArquivo(event, 'form:upload', #{MapaCotacaoControle.configuracaoGeralPadraoSistema.tamanhoMaximoUpload});" immediateUpload="true" id="uploadRequerimento" clearLabel="limpar">
									<a4j:ajax event="uploadcomplete" render="form:tabMensagens" />
									<a4j:ajax event="clear" render="upload" />
								</rich:fileUpload>
								<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.tamanhoMaximoUpload}" />
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
								<otm:commandButton id="adicionarMaterialRequerimento" value="Adicionar Material Tramite Cotacao Compra" icon="#{msg_botoes.btn_icon_adicionar_embutido}" styleClass="btn btn-primary dark" render="anexos" action="#{MapaCotacaoControle.adicionarMaterialTramiteCotacaoCompra}" accesskey="8" image="#{resource['imagens/botaoAdicionarLista.png']}" />
							</h:panelGroup>
							<h:panelGroup columns="1" width="100%" styleClass="tabFormSubordinada">
								<rich:dataTable id="listamaterialRequerimento" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" rows="10" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.mapaCotacaoVO.cotacaoHistorico.listaMaterialTramiteCotacaoCompra}" var="materialTramiteCotacaoCompraItem">
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_Curso_descricao}" />
										</f:facet>
										<h:outputText value="#{materialTramiteCotacaoCompraItem.descricao}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_aplic.prt_Curso_arquivo}" />
										</f:facet>
										<h:outputText value="#{materialTramiteCotacaoCompraItem.arquivoVO.nome}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="Download" style="campos" />
										</f:facet>
										<otm:commandIcon oncomplete="location.href='../../DownloadSV'" tooltip="Download Arquivo" icon="#{msg_botoes.btn_icon_download} iconePequeno" action="#{MapaCotacaoControle.realizarDownloadMaterialTramiteCotacaoCompra}" />
									</rich:column>
									<rich:column>
										<f:facet name="header">
											<h:outputText value="#{msg_botoes.btn_opcoes}" />
										</f:facet>
										<h:panelGroup>
											<otm:commandButton id="removermaterialRequerimento" title="Remover" render="anexos" action="#{MapaCotacaoControle.removerMaterialRequerimento}" accesskey="8" styleClass="btn btn-danger btn-remover" />
										</h:panelGroup>
									</rich:column>
								</rich:dataTable>
							</h:panelGroup>
						</h:panelGroup>
					</rich:tab>
				</rich:tabPanel>
				<h:panelGroup id="msgMotivo" columns="1" width="100%" styleClass="tabMensagens">
					<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
					<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:10px">
						<otm:commandButton icon="#{msg_botoes.btn_icon_anterior}" value="Retornar Tramite Cotacao" styleClass="btn btn-default" image="#{resource['imagens/botaoEnviarDptoAnterior.png']}" execute="motivoRetorno, motivoObservacao" render="form formSelecionaResponsavel" rendered="#{MapaCotacaoControle.retorno}" action="#{MapaCotacaoControle.retornarTramiteCotacao}" />
						<otm:commandButton style="margin:5px" icon="#{msg_botoes.btn_icon_proximo}" value="Avancar Tramite Cotacao" styleClass="btn btn-default dark" image="#{resource['imagens/botaoEnviarProxDpto.png']}" execute="motivoRetorno, motivoObservacao" render="form formSelecionaResponsavel" rendered="#{!MapaCotacaoControle.retorno}" oncomplete="#{MapaCotacaoControle.onAvancarAbrirPanelSelecionar}" action="#{MapaCotacaoControle.avancarTramiteCotacao}" />
						<otm:commandButton icon="#{msg_botoes.btn_icon_fechar_embutido}" value="Fechar" styleClass="btn btn-danger dark" oncomplete="#{rich:component('panelObservacao')}.hide();" />
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelFinanceiro" top="5px" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Informações Financeiras"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<h:form id="formFinanceiro">
				<h:panelGroup columns="1" styleClass="tabForm" width="100%" cellpadding="0" cellspacing="0">
					<h:panelGroup columns="2" width="100%">
						<h:outputText styleClass="tituloCamposNegrito" value="#{msg_aplic.prt_Compra_fornecedor}:" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.compraVO.fornecedor.nome}" />
						<h:outputText styleClass="tituloCamposNegrito" value="#{msg_aplic.prt_Cotacao_unidadeEnsino}:" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.compraVO.unidadeEnsino.nome}" />
						<h:outputText styleClass="tituloCamposNegrito" value="Forma de Pagamento:" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.compraVO.formaPagamento.nome}" />
						<h:outputText styleClass="tituloCamposNegrito" value="Condição de Pagamento:" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.compraVO.condicaoPagamento.nome}" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_CotacaoFornecedor_tipoCriacaoContaPagar}" />
						<h:outputText styleClass="field control-label tituloCampos" value="#{MapaCotacaoControle.compraVO.tipoCriacaoContaPagarEnum}" converter="EnumConverter" />
					</h:panelGroup>
					<h:panelGroup columns="1" width="100%" styleClass="tabFormSubordinada">
						<rich:dataTable id="condicaoPagamento" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.compraVO.listaCondicaoPagamento}" var="condicaoPagamentoItens">
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Nrº da Parcela" />
								</f:facet>
								<h:outputText value="#{condicaoPagamentoItens.nrParcela}" />
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Data Vencimento}" />
								</f:facet>
								<h:outputText value="#{condicaoPagamentoItens.dataVencimento_Apresentar}" />
							</rich:column>
							<rich:column>
								<f:facet name="header">
									<h:outputText value="Valor Parcela" />
								</f:facet>
								<h:outputText value="#{condicaoPagamentoItens.valorParcela}">
									<f:converter converterId="FormatadorNumerico5Casas" />
								</h:outputText>
							</rich:column>
						</rich:dataTable>
					</h:panelGroup>
					<h:panelGroup id="msg" columns="1" width="100%" styleClass="tabMensagens">
						<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
					</h:panelGroup>
					<h:panelGroup id="bts">
						<h:panelGroup layout="block" styleClass="col-md-12 text-center" style="margin:5px">
							<otm:commandButton icon="#{msg_botoes.btn_icon_fechar_embutido}" styleClass="btn btn-danger dark" value="Fechar" oncomplete="#{rich:component('panelFinanceiro')}.hide();" />
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelDepartamento" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Tramite_departamento}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="panelDepartamento" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formDepartamento">
				<h:panelGroup columns="1" width="100%">
					<rich:dataTable id="resultadoConsultaDepartamento" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.departamentos}" rows="5" var="departamentoItem">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Tramite_departamento_nome}" />
							</f:facet>
							<h:panelGroup>
								<a4j:commandLink action="#{MapaCotacaoControle.selecionarDepartamento}" oncomplete="#{rich:component('panelDepartamento')}.hide();" render="nomeDepartamento camposDepartamento form" value="#{departamentoItem.nome}" />
							</h:panelGroup>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_botoes.btn_opcoes}" />
							</f:facet>
							<otm:commandIcon action="#{MapaCotacaoControle.selecionarDepartamento}" oncomplete="#{rich:component('panelDepartamento')}.hide();" render="nomeDepartamento camposDepartamento form" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller align="center" for="formDepartamento:resultadoConsultaDepartamento" maxPages="10" id="scResultadoDepartamento" boundaryControls="auto" stepControls="auto" fastControls="hide" />
							</div>
						</f:facet>
					</rich:dataTable>
					<h:panelGroup id="mensagemConsultaDepartamento">
						<h:panelGroup id="mensagemDepartamento">
							<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelTrocaResponsavel" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Responsável"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="panelTrocaResponsavel" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formTrocaResponsavel">
				<h:panelGroup columns="1" width="100%">
					<rich:dataTable id="resultadoConsultaTrocaResponsavel" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.listaUsuarioDepartamento}" rows="5" var="responsavelItem">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Tramite_departamento_nome}" />
							</f:facet>
							<h:panelGroup>
								<a4j:commandLink action="#{MapaCotacaoControle.selecionarTrocaResponsavel}" oncomplete="#{rich:component('panelTrocaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.nome}" />
							</h:panelGroup>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Usuario_username}" />
							</f:facet>
							<a4j:commandLink action="#{MapaCotacaoControle.selecionarTrocaResponsavel}" oncomplete="#{rich:component('panelTrocaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.username}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Usuario_tipoUsuario}" />
							</f:facet>
							<a4j:commandLink action="#{MapaCotacaoControle.selecionarTrocaResponsavel}" oncomplete="#{rich:component('panelTrocaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.tipoUsuario_Apresentar}" />
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_botoes.btn_opcoes}" />
							</f:facet>
							<otm:commandIcon action="#{MapaCotacaoControle.selecionarTrocaResponsavel}" oncomplete="#{rich:component('panelTrocaResponsavel')}.hide();" render="formCotacao" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller align="center" for="formTrocaResponsavel:resultadoConsultaTrocaResponsavel" maxPages="10" id="scResultadoTrocaResponsavel" boundaryControls="auto" stepControls="auto" fastControls="hide" />
							</div>
						</f:facet>
					</rich:dataTable>
					<h:panelGroup id="mensagemConsultaTrocaResponsavel">
						<h:panelGroup id="mensagemDepartamento">
							<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelSelecionaResponsavel" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="Selecione O responsável do proximo passo"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="panelSelecionaResponsavel" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formSelecionaResponsavel">
				<h:panelGroup columns="1" width="100%">
					<rich:dataTable id="resultadoConsultaTrocaResponsavel" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.listaUsuarioDepartamento}" var="responsavelItem" rows="12">
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Tramite_departamento_nome}" />
							</f:facet>
							<h:panelGroup>
								<a4j:commandLink action="#{MapaCotacaoControle.avancarTramiteCotacao}" oncomplete="#{rich:component('panelSelecionaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.nome}">
									<f:setPropertyActionListener value="#{responsavelItem}" target="#{MapaCotacaoControle.usuarioSelecionado}" />
								</a4j:commandLink>
							</h:panelGroup>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Usuario_username}" />
							</f:facet>
							<a4j:commandLink action="#{MapaCotacaoControle.avancarTramiteCotacao}" oncomplete="#{rich:component('panelSelecionaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.username}">
								<f:setPropertyActionListener value="#{responsavelItem}" target="#{MapaCotacaoControle.usuarioSelecionado}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_aplic.prt_Usuario_tipoUsuario}" />
							</f:facet>
							<a4j:commandLink action="#{MapaCotacaoControle.avancarTramiteCotacao}" oncomplete="#{rich:component('panelSelecionaResponsavel')}.hide();" render="formCotacao" value="#{responsavelItem.tipoUsuario_Apresentar}">
								<f:setPropertyActionListener value="#{responsavelItem}" target="#{MapaCotacaoControle.usuarioSelecionado}" />
							</a4j:commandLink>
						</rich:column>
						<rich:column>
							<f:facet name="header">
								<h:outputText value="#{msg_botoes.btn_opcoes}" />
							</f:facet>
							<a4j:commandLink action="#{MapaCotacaoControle.avancarTramiteCotacao}" oncomplete="#{rich:component('panelSelecionaResponsavel')}.hide();" render="formCotacao" value="#{msg_botoes.btn_selecionar}" styleClass="btn btn-info light btn-icon-editar" alt="#{msg.msg_selecionar_dados}">
								<span class="fas fa-check pull-left" style="margin-right: 0.8em; position: relative; top: 3px; font-size: 14px;"></span>
								<f:setPropertyActionListener value="#{responsavelItem}" target="#{MapaCotacaoControle.usuarioSelecionado}" />
							</a4j:commandLink>
						</rich:column>
						<f:facet name="footer">
							<div style="text-align: center !important">
								<rich:dataScroller align="center" for="formTrocaResponsavel:resultadoConsultaTrocaResponsavel" maxPages="10" id="scResultadoTrocaResponsavel" boundaryControls="auto" stepControls="auto" fastControls="hide" />
							</div>
						</f:facet>
					</rich:dataTable>
					<h:panelGroup id="mensagemConsultaTrocaResponsavel">
						<h:panelGroup id="mensagemDepartamento">
							<otm:mensagem bean="#{MapaCotacaoControle}"></otm:mensagem>
						</h:panelGroup>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="downloads" shadowOpacity="true" autosized="true" resizeable="false">
			<f:facet name="header">
				<h:outputText value="Anexos Historico" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="downloads" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form>
				<rich:dataTable id="datatableDownloads" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" rows="10" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.cotacaoHistoricoSelecionada.listaMaterialTramiteCotacaoCompra}" var="materialTramiteCotacaoCompraItem">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_descricao}" />
						</f:facet>
						<h:outputText value="#{materialTramiteCotacaoCompraItem.descricao}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Curso_arquivo}" />
						</f:facet>
						<h:outputText value="#{materialTramiteCotacaoCompraItem.arquivoVO.descricao}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Download" style="campos" />
						</f:facet>
						<otm:commandIcon oncomplete="location.href='../../DownloadSV'" icon="#{msg_botoes.btn_icon_icon_download} iconePequeno" tooltip="Download Arquivo" image="#{resource['imagens/botaoDownload.png']}" action="#{MapaCotacaoControle.realizarDownloadMaterialTramiteCotacaoCompra}" />
					</rich:column>
				</rich:dataTable>
			</h:form>
		</rich:popupPanel>
		<rich:popupPanel styleClass="modalMaximizado" id="panelCompras" shadowOpacity="true" autosized="true" resizeable="false" width="1200" height="500">
			<f:facet name="header">
				<h:outputText value="Compras Por Produto" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" />
					<rich:componentControl target="panelCompras" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form>
				<rich:dataTable id="datatableCompras" width="100%" headerClass="subordinado" styleClass="tabFormSubordinada" rowClasses="linhaImparSubordinado, linhaParSubordinado" rows="10" columnClasses="colunaAlinhamento" value="#{MapaCotacaoControle.produtoAgrupador.compraItens}" var="compraItensVO">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_CompraItem_produto}" />
						</f:facet>
						<h:outputText value="#{compraItensVO.produto.nome}" />
						<f:facet name="footer">
							<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="Totais" />
						</f:facet>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_Cotacao_unidadeEnsino}" />
						</f:facet>
						<h:outputText value="#{compraItensVO.compra.unidadeEnsino.nome}" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_CompraItem_quantidade}" />
						</f:facet>
						<h:outputText value="#{compraItensVO.quantidade}">
							<f:converter converterId="FormatadorNumerico" />
						</h:outputText>
						<f:facet name="footer">
							<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{MapaCotacaoControle.produtoAgrupador.quantidade}">
								<f:converter converterId="FormatadorNumerico" />
							</h:outputText>
						</f:facet>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="Preço Total" />
						</f:facet>
						<h:outputText value="#{compraItensVO.precoTotal}">
							<f:converter converterId="FormatadorNumerico5Casas" />
						</h:outputText>
						<f:facet name="footer">
							<h:outputText styleClass="field control-label mensagemDetalhada col-md-12" value="#{MapaCotacaoControle.produtoAgrupador.precoTotal}">
								<f:converter converterId="FormatadorNumerico5Casas" />
							</h:outputText>
						</f:facet>
					</rich:column>
				</rich:dataTable>
			</h:form>
		</rich:popupPanel>
	</ui:define>
</ui:composition>
</html>
