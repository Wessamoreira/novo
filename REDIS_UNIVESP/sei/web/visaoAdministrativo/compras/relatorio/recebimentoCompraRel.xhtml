<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" xmlns:otm="http://java.sun.com/jsf/composite/otm">
<h:head>
</h:head>
<ui:composition template="/visaoAdministrativo/template/visaoAdministrativa.xhtml">
	<ui:define name="tituloPagina">
		<h:outputText value="#{msg_aplic.prt_RecebimentoCompraRel_tituloForm}" />
	</ui:define>
	<ui:define name="conteudo">
		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
	
		<rich:popupPanel styleClass="modalMaximizado" id="panelProduto" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_ProdutoServico_tituloForm}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelink6" />
					<rich:componentControl target="panelProduto" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formProduto">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:selectOneMenu styleClass="form-control campos" id="consultaDestinatarioNotaFiscal" value="#{RecebimentoCompraRelControle.campoConsultaProduto}">
						<f:selectItems value="#{RecebimentoCompraRelControle.tipoConsultaComboProduto}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:inputText id="valorConsultaProduto" size="10" styleClass="form-control campos" value="#{RecebimentoCompraRelControle.valorConsultaProduto}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultar" accesskey="4" render="formProduto:mensagemConsultaProduto, formProduto:resultadoConsultaProduto, formProduto:scResultadoProduto" action="#{RecebimentoCompraRelControle.consultarProduto}" value="#{msg_botoes.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaProduto" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{RecebimentoCompraRelControle.listaConsultaProduto}" rows="5" var="produtoItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_ProdutoServico_nome}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarProduto}" render="form" value="#{produtoItens.nome}" oncomplete="#{rich:component('panelProduto')}.hide(), setFocus(form,'form:nomeProduto');" />
						</h:panelGroup>
					</rich:column>
					<!--                     <rich:column> -->
					<!--                         <f:facet name="header"> -->
					<!--                             <h:outputText value="#{msg_aplic.prt_ProdutoServico_tipoUnidade}"/> -->
					<!--                         </f:facet> -->
					<!--                         <a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarProduto}" oncomplete="#{rich:component('panelProduto')}.hide(), setFocus('nomeProduto');"  focus="nomeProduto" render="itemCompra" value="#{produto.tipoUnidade_Apresentar}"/> -->
					<!--                     </rich:column> -->
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_ProdutoServico_categoriaProduto}" />
						</f:facet>
						<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarProduto}" render="form" value="#{produtoItens.categoriaProduto.nome}" oncomplete="#{rich:component('panelProduto')}.hide(), setFocus(form,'form:nomeProduto');" />
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{RecebimentoCompraRelControle.selecionarProduto}" focus="produto" render="form" oncomplete="#{rich:component('panelProduto')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formProduto:resultadoConsultaProduto" maxPages="10" id="scResultadoProduto" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaProduto">
					<h:panelGroup id="mensagemProduto">
						<otm:mensagem bean="#{RecebimentoCompraRelControle}"></otm:mensagem>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	
		<rich:popupPanel styleClass="modalMaximizado" id="panelFornecedor" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_Fornecedor_tituloForm}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelink8" />
					<rich:componentControl target="panelFornecedor" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formFornecedor">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:selectOneMenu styleClass="form-control campos" id="consultaNomeFornecedor" value="#{RecebimentoCompraRelControle.campoConsultaFornecedor}">
						<f:selectItems value="#{RecebimentoCompraRelControle.tipoConsultaComboFornecedor}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:inputText id="valorConsultaFornecedor" size="15" styleClass="form-control campos" value="#{RecebimentoCompraRelControle.valorConsultaFornecedor}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton id="btnConsultarFornecedor" accesskey="4" render="formFornecedor:mensagemConsultaFornecedor, formFornecedor:resultadoConsultaFornecedor, formFornecedor:scResultadoFornecedor" action="#{RecebimentoCompraRelControle.consultarFornecedor}" value="#{msg_botoes.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaFornecedor" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{RecebimentoCompraRelControle.listaConsultaFornecedor}" rows="5" var="fornecedorItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_ProdutoServico_nome}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarFornecedor}" render="form" value="#{fornecedorItens.nome}" oncomplete="#{rich:component('panelFornecedor')}.hide(), setFocus(form,'form:nomeFornecedor');" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_RecebimentoCompraRel_cnpj}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarFornecedor}" render="form" value="#{fornecedorItens.CNPJ}" oncomplete="#{rich:component('panelFornecedor')}.hide(), setFocus(form,'form:nomeFornecedor');" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{RecebimentoCompraRelControle.selecionarFornecedor}" focus="fornecedor" render="form" oncomplete="#{rich:component('panelFornecedor')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<!--                     <rich:column> -->
					<!--                         <f:facet name="header"> -->
					<!--                             <h:outputText value="#{msg_aplic.prt_ProdutoServico_tipoUnidade}"/> -->
					<!--                         </f:facet> -->
					<!--                         <a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarProduto}" oncomplete="#{rich:component('panelProduto')}.hide(), setFocus('nomeProduto');"  focus="nomeProduto" render="itemCompra" value="#{produto.tipoUnidade_Apresentar}"/> -->
					<!--                     </rich:column>  -->
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formFornecedor:resultadoConsultaFornecedor" maxPages="10" id="scResultadoFornecedor" boundaryControls="auto" stepControls="auto" fastControls="hide" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaFornecedor">
					<h:panelGroup id="mensagemFornecedor">
						<otm:mensagem bean="#{RecebimentoCompraRelControle}"></otm:mensagem>
					</h:panelGroup>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
	
		<rich:popupPanel styleClass="modalMaximizado" id="panelCategoriaDespesa" shadowOpacity="true" width="750" height="500">
			<f:facet name="header">
				<h:panelGroup>
					<h:outputText value="#{msg_aplic.prt_ContaPagar_categoriaDespesa}"></h:outputText>
				</h:panelGroup>
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="#{resource['imagens/close.png']}" styleClass="icon-close-modal" style="cursor:pointer" id="hidelink5" />
					<rich:componentControl target="panelCategoriaDespesa" operation="hide" event="click" />
				</h:panelGroup>
			</f:facet>
			<h:form id="formCategoriaDespesa">
				<h:panelGroup layout="block" styleClass="col-md-12">
					<h:outputText styleClass="field control-label tituloCampos" value="#{msg.msg_consultar_por}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:selectOneMenu styleClass="form-control campos" id="consultaCategoriaDespesa" value="#{RecebimentoCompraRelControle.campoConsultaCategoriaDespesa}">
						<f:selectItems value="#{RecebimentoCompraRelControle.tipoConsultaComboCategoriaDespesa}" />
					</h:selectOneMenu>
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-5">
					<h:inputText id="valorConsultaCategoriaDespesa" size="10" styleClass="form-control campos" value="#{RecebimentoCompraRelControle.valorConsultaCategoriaDespesa}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-2">
					<otm:commandButton render="formCategoriaDespesa:mensagemConsultaCategoriaDespesa, formCategoriaDespesa:resultadoConsultaCategoriaDespesa, formCategoriaDespesa:scResultadoCategoriaDespesa" action="#{RecebimentoCompraRelControle.consultarCategoriaDespesa}" value="#{msg_botoes.btn_consultar}" styleClass="btn btn-default btn-consultar" alt="#{msg.msg_consultar_dados}" />
				</h:panelGroup>
				<h:panelGroup layout="block" styleClass="col-md-12 mt5" />
				<rich:dataTable id="resultadoConsultaCategoriaDespesa" width="100%" headerClass="consulta" rowClasses="linhaImpar, linhaPar" columnClasses="colunaAlinhamento" value="#{RecebimentoCompraRelControle.listaConsultaCategoriaDespesa}" rows="5" var="categoriaDespesaItens">
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_CategoriaDespesa_codigo}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarCategoriaDespesa}" focus="nomeCategoriaDespesa" render="nomeCategoriaDespesa, mensagem,cursoNome,cursoLabel,unidadeEnsino" oncomplete="#{rich:component('panelCategoriaDespesa')}.hide(), setFocus('nomeCategoriaDespesa');" value="#{categoriaDespesaItens.codigo}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_CategoriaDespesa_descricao} " />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarCategoriaDespesa}" focus="nomeCategoriaDespesa" render="nomeCategoriaDespesa, mensagem,cursoNome,cursoLabel,unidadeEnsino" oncomplete="#{rich:component('panelCategoriaDespesa')}.hide(), setFocus('nomeCategoriaDespesa');" value="#{categoriaDespesaItens.descricao}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_aplic.prt_CategoriaDespesa_categoriaDespesaPrincipal}" />
						</f:facet>
						<h:panelGroup>
							<a4j:commandLink action="#{RecebimentoCompraRelControle.selecionarCategoriaDespesa}" focus="nomeCategoriaDespesa" render="nomeCategoriaDespesa, mensagem,cursoNome,cursoLabel,unidadeEnsino" oncomplete="#{rich:component('panelCategoriaDespesa')}.hide(), setFocus('nomeCategoriaDespesa');" value="#{categoriaDespesaItens.identificadorCategoriaDespesa}" />
						</h:panelGroup>
					</rich:column>
					<rich:column>
						<f:facet name="header">
							<h:outputText value="#{msg_botoes.btn_opcoes}" />
						</f:facet>
						<otm:commandIcon action="#{RecebimentoCompraRelControle.selecionarCategoriaDespesa}" focus="categoriaDespesa" render="form" oncomplete="#{rich:component('panelCategoriaDespesa')}.hide()" icon="#{msg_botoes.btn_icon_selecionar} iconePequeno" tooltip="#{msg.msg_selecionar_dados}" />
					</rich:column>
					<f:facet name="footer">
						<div style="text-align: center !important">
							<rich:dataScroller align="center" for="formCategoriaDespesa:resultadoConsultaCategoriaDespesa" maxPages="10" id="scResultadoCategoriaDespesa" fastControls="hide" stepControls="auto" boundaryControls="auto" />
						</div>
					</f:facet>
				</rich:dataTable>
				<h:panelGroup id="mensagemConsultaCategoriaDespesa">
					<otm:mensagem bean="#{RecebimentoCompraRelControle}"></otm:mensagem>
				</h:panelGroup>
			</h:form>
		</rich:popupPanel>
		
		<title><h:outputText value="#{msg_aplic.prt_RecebimentoCompra_tituloForm}" /></title>
		
		<h:form id="form">
			<h:commandLink action="#{RecebimentoCompraRelControle.liberarBackingBeanMemoria}" immediate="true" id="idLiberarBackingBeanMemoria" style="display: none" />
			<h:panelGroup layout="block" styleClass="col-md-4">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_unidadeEnsino}" />
				<h:selectOneMenu id="unidadeEnsino" styleClass="form-control camposObrigatorios" value="#{RecebimentoCompraRelControle.unidadeEnsinoVO.codigo}">
					<f:selectItems value="#{RecebimentoCompraRelControle.listaSelectItemUnidadeEnsino}" />
					<a4j:ajax render="form:unidadeEnsino" event="change" />
				</h:selectOneMenu>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-2">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_periodo}" />
				<otm:calendar id="dataInicio" value="#{RecebimentoCompraRelControle.dataInicio}" />
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-2">
				<h:outputText styleClass="field control-label tituloCampos" value="Data Fim" />
				<otm:calendar id="dataFim" value="#{RecebimentoCompraRelControle.dataFim}" />
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-4">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_fornecedor}" />
				<h:panelGroup layout="block" styleClass="col-md-12 pn">
					<h:inputText id="nomeFornecedor" size="58" maxlength="50" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{RecebimentoCompraRelControle.fornecedorVO.nome}" />
					<span class="append-icon right"> <otm:commandIcon tooltip="Consultar Fornecedor" icon="#{msg_botoes.btn_icon_lupa_embutido}" execute="@this" oncomplete="#{rich:component('panelFornecedor')}.show();" render="formFornecedor" /> <otm:commandIcon id="limparFornecedor" tooltip="Limpar Dados" action="#{RecebimentoCompraRelControle.limparDadosFornecedor}" render="form:nomeFornecedor" icon="#{msg_botoes.btn_icon_limpar_embutido}" />
					</span>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-6">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_produto}" />
				<h:panelGroup layout="block" styleClass="col-md-12 pn">
					<h:inputText size="58" maxlength="50" id="nomeProduto" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{RecebimentoCompraRelControle.produtoServicoVO.nome}" />
					<span class="append-icon right"> <otm:commandIcon icon="#{msg_botoes.btn_icon_lupa_embutido}" render="form:nomeProduto, form:msg, form:nomeCategoriaDespesa, panelProduto" oncomplete="#{rich:component('panelProduto')}.show();" tooltip="Consultar Produto" /> <otm:commandIcon id="limparDadosProduto" tooltip="Limpar Dados" action="#{RecebimentoCompraRelControle.limparDadosServicoProduto}" render="form:nomeProduto" icon="#{msg_botoes.btn_icon_limpar_embutido}" />
					</span>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-6">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_categoriaDespesa}" />
				<h:panelGroup layout="block" styleClass="col-md-12 pn">
					<h:inputText id="nomeCategoriaDespesa" size="58" maxlength="50" styleClass="form-control camposSomenteLeitura" readonly="true" value="#{RecebimentoCompraRelControle.categoriaDespesaVO.descricao}" />
					<span class="append-icon right"> <otm:commandIcon tooltip="Consultar Categoria Despesa" icon="#{msg_botoes.btn_icon_lupa_embutido}" execute="@this" oncomplete="#{rich:component('panelCategoriaDespesa')}.show();" render="formCategoriaDespesa" /> <otm:commandIcon id="limparDadosCategoriaDespesa" tooltip="Limpar Dados" action="#{RecebimentoCompraRelControle.limparDadosCategoriaDespesa}" render="form:nomeCategoriaDespesa" icon="#{msg_botoes.btn_icon_limpar_embutido}" />
					</span>
				</h:panelGroup>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-2">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_situacaoEntrega}" />
				<h:selectOneMenu id="situacaoRecebimentoOCmpra" styleClass="form-control camposObrigatorios" value="#{RecebimentoCompraRelControle.situacaoRecebimentoCompra}">
					<f:selectItems value="#{RecebimentoCompraRelControle.tipoSituacaoRecebimentoCompra}" />
				</h:selectOneMenu>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="col-md-2">
				<h:outputText styleClass="field control-label tituloCampos" value="#{msg_aplic.prt_RecebimentoCompraRel_ordenar}" />
				<h:selectOneMenu id="ordernarRel" styleClass="form-control camposObrigatorios" value="#{RecebimentoCompraRelControle.ordenacaoRel}">
					<f:selectItems value="#{RecebimentoCompraRelControle.tipoOrdenacaoCombo}" />
				</h:selectOneMenu>
			</h:panelGroup>
			<h:panelGroup id="panelGridBotoes" layout="block" styleClass="barraFlutuanteInferior">
				<otm:commandButton style="margin-right:5px" render="form:panelMensagem" id="imprimirPDF" oncomplete="#{RecebimentoCompraRelControle.download}" action="#{RecebimentoCompraRelControle.imprimirPDF}" value="Gerar Relatório (PDF)" icon="#{msg_botoes.btn_icon_pdf_embutido}" accesskey="2" styleClass="btn btn-danger dark" />
				<otm:commandButton id="imprimirExcel" render="form" oncomplete="#{RecebimentoCompraRelControle.download}" action="#{RecebimentoCompraRelControle.imprimirExcel}" value="Gerar Relatório (Excel)" icon="fas fa-file-excel" styleClass="btn btn-info dark" />
			</h:panelGroup>
			<h:panelGroup id="panelMensagem">
				<otm:mensagem bean="#{RecebimentoCompraRelControle}"></otm:mensagem>
			</h:panelGroup>
		</h:form>
	</ui:define>
</ui:composition>
</html>
